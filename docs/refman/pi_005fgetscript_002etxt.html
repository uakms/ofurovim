<!DOCTYPE html>
<html lang="ja">
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>

<title>pi_getscript.txt (Vim Reference Manual)</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<meta name="description" content="pi_getscript.txt (Vim Reference Manual)">
<meta name="keywords" content="pi_getscript.txt (Vim Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="start" title="目次">
<link href="Indexes-CP.html#Indexes-CP" rel="index" title="Indexes CP">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="up" title="目次">
<link href="pi_005fgzip_002etxt.html#pi_005fgzip_002etxt" rel="next" title="pi_gzip.txt">
<link href="os_005fwin32_002etxt.html#os_005fwin32_002etxt" rel="prev" title="os_win32.txt">
<style>
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="ja">
<a name="pi_005fgetscript_002etxt"></a>
<div class="header">
<p>
Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Vim-script-noZui-Xin-Ban-wodaunrodosuru"></a>
<h2 class="unnumbered">Vim script の最新版をダウンロードする</h2>
<pre class="verbatim">*pi_getscript.txt*  For Vim バージョン 8.1.  Last change: 2017 Aug 01

                GETSCRIPT REFERENCE MANUAL  by Charles E. Campbell

Authors:  Charles E. Campbell  &lt;NdrOchip@@ScampbellPfamilyA.Mbiz&gt;
          (remove NOSPAM from the email address)
</pre><a name="GetLatestVimScripts_002dcopyright"></a><a name="index-GetLatestVimScripts_002dcopyright"></a>
<a name="glvs_002dcopyright"></a><a name="index-glvs_002dcopyright"></a>
<div class="example">
<pre class="example">Copyright: (c) 2004-2012 by Charles E. Campbell
        The VIM LICENSE (see |copyright|) applies to the files in this
        package, including getscriptPlugin.vim, getscript.vim,
        GetLatestVimScripts.dist, and pi_getscript.txt, except use &quot;getscript&quot;
        instead of &quot;Vim&quot;.  Like anything else that's free, getscript and its
        associated files are provided *as is* and comes with no warranty of
        any kind, either expressed or implied.  No guarantees of
        merchantability.  No guarantees of suitability for any purpose.  By
        using this plugin, you agree that in no event will the copyright
        holder be liable for any damages resulting from the use of this
        software. Use at your own risk!
</pre></div>

<p>Getscript はあなたが使つてゐる Vim script の最新バージョンを簡單に檢索するためのプラグインです。|<a href="#g_t_003aGLVS">:GLVS</a>| と入力すると getscript が實行されます。すると、&lt;GetLatestVimScripts.dat&gt; ファイル (|<a href="#GetLatestVimScripts_005fdat">GetLatestVimScripts_dat</a>| 參照) に列擧されたスクリプトの最新バージョンが <a href="http://vim.sf.net/">http://vim.sf.net/</a> から取得されます。
</p>
<a name="glvs_002dcontents"></a><a name="glvs"></a><a name="getscript"></a><a name="GetLatestVimScripts"></a><a name="index-glvs_002dcontents"></a>
<a name="index-glvs"></a>
<a name="index-getscript"></a>
<a name="index-GetLatestVimScripts"></a>
<a name="g_t1_002e-Mu-Ci-"></a>
<h3 class="section">1. 目次</h3>

<table>
<tr><td width="70%">1. 目次</td><td width="30%">|<a href="#glvs_002dcontents">glvs-contents</a>|</td></tr>
<tr><td width="70%">2. GetLatestVimScripts -- 準備</td><td width="30%">|<a href="#glvs_002dinstall">glvs-install</a>|</td></tr>
<tr><td width="70%">3. GetLatestVimScripts の使ひ方</td><td width="30%">|<a href="#glvs_002dusage">glvs-usage</a>|</td></tr>
<tr><td width="70%">4. GetLatestVimScripts データファイル</td><td width="30%">|<a href="#glvs_002ddata">glvs-data</a>|</td></tr>
<tr><td width="70%">5. GetLatestVimScripts 對應プラグイン</td><td width="30%">|<a href="#glvs_002dplugins">glvs-plugins</a>|</td></tr>
<tr><td width="70%">6. GetLatestVimScripts 自動インストール</td><td width="30%">|<a href="#glvs_002dautoinstall">glvs-autoinstall</a>|</td></tr>
<tr><td width="70%">7. GetLatestViMScripts オプション</td><td width="30%">|<a href="#glvs_002doptions">glvs-options</a>|</td></tr>
<tr><td width="70%">8. GetLatestVimScripts アルゴリズム</td><td width="30%">|<a href="#glvs_002dalg">glvs-alg</a>|</td></tr>
<tr><td width="70%">9. GetLatestVimScripts 開發履歷</td><td width="30%">|<a href="#glvs_002dhist">glvs-hist</a>|</td></tr>
</table>


<a name="getscript_002dstart"></a><a name="getlatestvimscripts_002dinstall"></a><a name="index-getscript_002dstart"></a>
<a name="index-getlatestvimscripts_002dinstall"></a>
<a name="g_t2_002e-GetLatestVimScripts-_2212_2212-Zhun-Bei-"></a>
<h3 class="section">2. GetLatestVimScripts -- 準備</h3>

<a name="glvs_002ddist_002dinstall"></a><a name="index-glvs_002ddist_002dinstall"></a>
<a name="Vim-niFu-Shu-no-getscript"></a>
<h4 class="unnumberedsubsec">Vim に附屬の getscript</h4>

<p>Vim 7.0 には GetLatestVimScripts.dist (サンプルファイル) が附屬してゐないので、自分で作成する必要があります！|<a href="#GetLatestVimScripts_005fdat">GetLatestVimScripts_dat</a>| 參照。
</p>
<a name="glvs_002dinstall"></a><a name="index-glvs_002dinstall"></a>
<a name="vim_002esf_002enet-karaRu-Shou-sita-getscript"></a>
<h4 class="unnumberedsubsec">vim.sf.net から入手した getscript</h4>

<blockquote>
<p><strong>Note:</strong> <br>
GetLatestVimScripts.dist のコピーは、GetLatestVimScripts.tar.bz2 をダウンロードして初めて getscript をインストールするときだけ必要です。
</p></blockquote>

<p>GetLatestVimScripts.dist は自分の一覽を作成するためのサンプルまたはテンプレートとして使つてください。ファイルにはスクリプトがいくつか列擧されてゐますが、必要なければ消してください。重要なのはファイル先頭の 2 行だけです。
</p>
<p>GetLatestVimScripts の動作には wget か curl が必要です。
</p>
<ol>
<li> ファイルが壓縮されてゐる場合:  gunzip getscript.vba.gz
</li><li> Unix:
<pre class="verbatim">vim getscript.vba
:so %
:q
cd ~/.vim/GetLatest
mv GetLatestVimScripts.dist GetLatestVimScripts.dat
</pre><p>(GetLatestVimScripts.dat を編輯して、インストールしたいプラグインの一覽を書いてください。|<a href="#GetLatestVimScripts_005fdat">GetLatestVimScripts_dat</a>| 參照)
</p>
</li><li> Windows:
<pre class="verbatim">vim getscript.vba
:so %
:q
cd **path-to-vimfiles**/GetLatest
mv GetLatestVimScripts.dist GetLatestVimScripts.dat
</pre><p>(GetLatestVimScripts.dat を編輯して、インストールしたいプラグインの一覽を書いてください。|<a href="#GetLatestVimScripts_005fdat">GetLatestVimScripts_dat</a>| 參照)
</p></li></ol>


<a name="glvs_002dusage"></a><a name="g_t_003aGLVS"></a><a name="index-glvs_002dusage"></a>
<a name="index-_003aGLVS"></a>
<a name="g_t3_002e-GetLatestVimScripts-noShi-iFang-"></a>
<h3 class="section">3. GetLatestVimScripts の使ひ方</h3>

<p>次のコマンドを實行すると GetLatestVimScripts() が呼び出されます
</p><div class="example">
<pre class="example">:GLVS
</pre></div>

<p>同じ名前のコマンドが他のプラグインによつて既に定義されてゐた場合は、次のコマンドを使つてください
</p><div class="example">
<pre class="example">:GetLatestVimScripts
</pre></div>
<p>このコマンドは <a href="http://vim.sourceforge.net/">http://vim.sourceforge.net/</a> をチェックしてスクリプトを更新し、許可がある場合はそれを自動的にインストールします。そのために次のファイルが使はれます:
</p><div class="example">
<pre class="example">.vim/GetLatest/GetLatestVimScripts.dat                    (unix)
</pre></div>
<p>または
</p><div class="example">
<pre class="example">..wherever..\vimfiles\GetLatest\GetLatestVimScripts.dat   (windows)
</pre></div>
<p>(|<a href="#glvs_002ddata">glvs-data</a>| 參照)。そして、[.vim|vimfiles]/plugin ディレクトリ內のプラグインが檢査されます (|<a href="#glvs_002dplugins">glvs-plugins</a>| 參照)。
</p>
<p>ダウンロードされたスクリプトは
</p><div class="example">
<pre class="example">~/.vim/GetLatest (unix) または ...\vimfiles\GetLatest (windows)
</pre></div>
<p>に保存されます。<samp>vimrc</samp> ファイルに次の設定を書いておくと、ダウンロードしたスクリプトが自動的にインストールされます:
</p><div class="example">
<pre class="example">let g:GetLatestVimScripts_allowautoinstall=1
</pre></div>

<p>&lt;GetLatestVimScripts.dat&gt; ファイルは自動的に更新され、ダウンロードした最新スクリプトのバージョンが反映されます。(|<a href="#glvs_002doptions">glvs-options</a>| も參照)
</p>

<a name="getscript_002ddata"></a><a name="glvs_002ddata"></a><a name="g_t_003aGetLatestVimScripts_005fdat"></a><a name="index-getscript_002ddata"></a>
<a name="index-glvs_002ddata"></a>
<a name="index-_003aGetLatestVimScripts_005fdat"></a>
<a name="g_t4_002e-GetLatestVimScripts-detahuairu"></a>
<h3 class="section">4. GetLatestVimScripts データファイル</h3>
<p>&lt;GetLatestVimScripts.dat&gt; ファイルの先頭 2 行は次のやうなテキストになつてゐます:
</p><pre class="verbatim">        ScriptID SourceID Filename
        --------------------------
</pre><p>その下に 3列 (數値 數値 テキスト) の行が續きます。GetLatest/GetLatestVimScripts.dist ファイルはそのやうなデータファイルの例になつてゐます。コメントは #... で書くことができます。
</p>
<p>1 列目の數値はスクリプトの ScriptID です。Web ブラウザーで <a href="http://vim.sf.net/">http://vim.sf.net/</a> にあるスクリプトを探すとき、スクリプトへのリンクにマウスカーソルを合はせると、次のやうな url が確認できますが
</p>
<p><a href="http://vim.sourceforge.net/scripts/script.php?script_id=40">http://vim.sourceforge.net/scripts/script.php?script_id=40</a>
</p>
<p>この &quot;40&quot; が ScriptID です。GetLatestVimScripts はこの番號を使つてスクリプトのページにアクセスします。この番號は最初に vim.sf.net にプラグインをアップロードしたときに付けられます。
</p>
<p>2 列目の數値はスクリプトの SourceID です。SourceID は vim.sf.net にスクリプトがアップロードされるごとに新しい番號が付けられます。したがつて、その番號を見ればスクリプトがアップロードされた時期が分かります。SourceID に 1 を指定すると、そのスクリプトがまだ最新版に更新されてゐないといふことを明示できます。
</p>
<p>GetLatestVimScripts は、vim.sf.net のスクリプトのページから SourceID を拔き出して、それが GetLatestVimScripts.dat に記錄された番號よりも大きければ、そのスクリプトをダウンロードします。(|<a href="#GetLatestVimScripts_005fdat">GetLatestVimScripts_dat</a>| 參照)
</p>
<p>スクリプトの作者が、プラグインに特殊なコメント行を書いてゐた場合、そのコメント行を使つて &lt;GetLatestVimScripts.dat&gt; が生成されます。スクリプトの依存關係も處理されます。例:
</p><div class="example">
<pre class="example">&quot; GetLatestVimScripts: 884  1 :AutoInstall: AutoAlign.vim
</pre></div>

<p>このコメントは、チェックすべきスクリプトの番號が 884 番であること、そのスクリプトが自動インストール可能であることを示してゐます。getscript はこの情報を GetLatestVimScripts.dat に保存します (まだなければ)。次のやうな行になります:
</p><div class="example">
<pre class="example">884 1 :AutoInstall: AutoAlign.vim
</pre></div>
<p>詳細は |<a href="#glvs_002dplugins">glvs-plugins</a>| を參照してください。このやうに、GetLatestVimScripts はプラグインを更新するための包括的な機能を提供してゐます。
</p>
<a name="Yao-Yue-_003a"></a>
<h4 class="unnumberedsubsec">要約:</h4>

<ul>
<li> getscript が、既にインストールされてゐるプラグインを元に GetLatestVimScripts.dat を構築/追加できるやうに設定する:
<div class="example">
<pre class="example">let g:GetLatestVimScripts_allowautoinstall=1
</pre></div>
</li><li> 次のやうな行が
<div class="example">
<pre class="example">&quot; GetLatestVimScripts: 884  1 :AutoInstall: AutoAlign.vim
</pre></div>
<p>プラグインに含まれてゐれば、そのプラグインは AutoInstall 可能であることがプラグインの作者によつて示されてゐることになる。すべてのプラグインがAutoInstall できるとは限らない。そして、AutoInstall できるかどうかを判斷するのはプラグインの作者がもつとも適してゐる。
</p>
</li><li> 次のやうな行が
<div class="example">
<pre class="example">884 1 :AutoInstall: AutoAlign.vim
</pre></div>
<p>GetLatestVimScripts.dat ファイルに含まれてゐれば、あなたが getscript に對して AutoInstall の許可を與へてゐることになる。AutoInstall にはあなたとプラグインの作者の兩者の許可が必要です。|<a href="#GetLatestVimScripts_005fdat">GetLatestVimScripts_dat</a>| 參照。
</p></li></ul>


<a name="GetLatestVimScripts_005fdat"></a><a name="index-GetLatestVimScripts_005fdat"></a>
<a name="g_t_003cGetLatestVimScripts_002edat_003e-huairunoLi_003a"></a>
<h4 class="unnumberedsubsec">&lt;GetLatestVimScripts.dat&gt; ファイルの例:</h4>
<pre class="verbatim">ScriptID SourceID Filename
--------------------------
294 1 :AutoInstall: Align.vim
120 2 Decho.vim
 40 3 DrawIt.tar.gz
451 4 EasyAccents.vim
195 5 engspchk.vim
642 6 GetLatestVimScripts.vim
489 7 Manpageview.vim
</pre><blockquote>
<p><strong>Note:</strong> <br>
最初の 2 行は必須です。ただしコメントと同樣に無視されます。
</p></blockquote>


<a name="getscript_002dplugins"></a><a name="glvs_002dplugins"></a><a name="index-getscript_002dplugins"></a>
<a name="index-glvs_002dplugins"></a>
<a name="g_t5_002e-GetLatestVimScripts-Dui-Ying-puraguin"></a>
<h3 class="section">5. GetLatestVimScripts 對應プラグイン</h3>

<p>(このセクションはプラグイン作者向けの說明です)
</p>
<p>プラグインの作者がプラグインのどこかに以下のやうなコメントを書いてゐた場合、GetLatestVimScripts はそれを見附けて、GetLatestVimScripts.dat ファイルの構築に使ひます:
</p><pre class="verbatim">                         src_id
                            v
&quot; GetLatestVimScripts: ### ### yourscriptname
                        ^
                    scriptid
</pre><p>プラグインの作者は、上記のやうな行を書いて自分のプラグインを參照させてください。複數行書けるので、依存してゐる別のプラグインを參照することもできます。その場合でも書式は同じです。
</p>
<p>プラグインが自動インストール可能 (|<a href="#glvs_002dautoinstall">glvs-autoinstall</a>| 參照) なら (ほとんどのスクリプトはさうだと思ひますが)、&quot;yourscriptname&quot; の前に :AutoInstall: を指定することができます。
</p><pre class="verbatim">                         src_id
                            v
&quot; GetLatestVimScripts: ### ### :AutoInstall: yourscriptname
                        ^
                    scriptid
</pre><blockquote>
<p><strong>Note:</strong> <br>
:AutoInstall: 機能の實行にはプラグイン作者とユーザーの兩者の許可が必要です。
</p></blockquote>

<p>GetLatestVimScripts 命令が未登錄の場合は、ユーザーの GetLatest/GetLatestVimScripts.dat ファイルに追加されます。あなたのプラグインが依存してゐるスクリプトのインストールを比較的簡單に自動化できます。
</p>
<p>プラグインの作者の方は、自分の環境で自分のプラグインをダウンロードしたくはないと思ひます。リリース前の作業中のスクリプトが上書きされると困りますよね。それを防ぐための仕組みが用意されてゐます。次の行を &lt;GetLatestVimScripts.dat&gt; に書いてください:
</p><div class="example">
<pre class="example">0 0 yourscriptname
</pre></div>
<p>スクリプト &quot;yourscriptname&quot; に對する GetLatestVimScript 命令は處理されなくなります。その命令行は &lt;GetLatestVimScripts.dat&gt; には登錄されず、スクリプトはダウンロードされません。これは :AutoInstall: オプションを指定してゐるときには特に重要です。
</p>
<p>&quot;0 0 yourscriptname&quot; の指定ではスクリプトに書かれた &quot;yourscriptname&quot; と同じ名前を使つてください。
</p>

<a name="getscript_002dautoinstall"></a><a name="glvs_002dautoinstall"></a><a name="index-getscript_002dautoinstall"></a>
<a name="index-glvs_002dautoinstall"></a>
<a name="g_t6_002e-GetLatestVimScripts-Zi-Dong-insutoru"></a>
<h3 class="section">6. GetLatestVimScripts 自動インストール</h3>

<p>GetLatestVimScripts には自動インストール機能があります。スクリプトによつてはインストールに特別な作業が必要なものもありますが (各スクリプトのインストール方法を確認してください)、ほとんどのスクリプトは自動インストール可能です。
</p>
<p>自動インストールするには、データファイルのコメントフィールドを次のテキストで開始してください (前後の空白は無視されます):
</p><div class="example">
<pre class="example">:AutoInstall:
</pre></div>
<p>兩端のコロンは必須です。必ずコメントフィールド (yourscriptname) の先頭に書いてください。
</p>
<p>以下の行を &lt;.vimrc&gt; に書くと、自動インストール機能を無效にできます:
</p><div class="example">
<pre class="example">let g:GetLatestVimScripts_allowautoinstall= 0
</pre></div>
<p>:AutoInstall: が有效になつてゐる場合 (初期設定)、次のやうな擴張子のファイルが自動インストール可能です:
</p>
<pre class="verbatim">---.tar.bz2  : decompressed &amp; untarred in .vim/ directory
---.vba.bz2  : decompressed in .vim/ directory, then vimball handles it
---.vim.bz2  : decompressed &amp; moved into .vim/plugin directory
---.tar.gz   : decompressed &amp; untarred in .vim/ directory
---.vba.gz   : decompressed in .vim/ directory, then vimball handles it
---.vim.gz   : decompressed &amp; moved into .vim/plugin directory
---.vba      : unzipped in .vim/ directory
---.vim      : moved to .vim/plugin directory
---.zip      : unzipped in .vim/ directory
</pre>
<p>ただし、壓縮ファイルを展開するか、あるいはファイルをプラグインディレクトリにコピーするだけでインストール可能である必要があります。Vimball は常に自動インストール可能です。
</p>
<p>自動インストールできないのはどんな場合でせうか？ 例を示します:
</p><div class="example">
<pre class="example">.vim/after/syntax/blockhl.vim
</pre></div>

<p>&lt;blockhl.vim&gt; は C/C++ のブロックを强調表示するスクリプトです。次の場所から入手できます:
</p>
<p><a href="http://vim.sourceforge.net/scripts/script.php?script_id=104">http://vim.sourceforge.net/scripts/script.php?script_id=104</a>
</p>
<p>現在、Vim の after/syntax はファイルタイプと同じ名前のスクリプトしかサポートしてません (blockhl.vim の場合は、after/syntax/c.vim)。そのため、自動的にインストールすると、ユーザーの after/syntax/c.vim を上書きする可能性があります。
</p>
<p>私は個人的に、&lt;aftersyntax.vim&gt; を after/syntax/c.vim にコピーして、after/syntax/c/ ディレクトリを使へるやうにしてゐます:
</p>
<p><a href="http://vim.sourceforge.net/scripts/script.php?script_id=1023">http://vim.sourceforge.net/scripts/script.php?script_id=1023</a>
</p>
<p>このスクリプトを使ふと、after/syntax/c ディレクトリにある複數のファイルをシンタックスファイルとして使へます。ユーザーの after/syntax/c.vim を上書きしてしまふ可能性があるため、配布物には含めてゐません。
</p>

<a name="glvs_002doptions"></a><a name="index-glvs_002doptions"></a>
<a name="g_t7_002e-GetLatestVimScripts-opusiyon"></a>
<h3 class="section">7. GetLatestVimScripts オプション</h3>
<dl compact="compact">
<dt>g:GetLatestVimScripts_wget</dt>
<dd><p>初期設定: &quot;wget&quot;
</p>
<p>スクリプトをダウンロードするのに使はれるプログラム。
</p></dd>
<dt>g:GetLatestVimScripts_options</dt>
<dd><p>初期設定: &quot;-q -O&quot;
</p>
<p>g:GetLatestVimScripts_wget に設定されたプログラムの起動引數。
</p></dd>
<dt>g:GetLatestVimScripts_allowautoinstall</dt>
<dd><p>初期設定: 1
</p>
<p>スクリプトの自動インストールを許可するかどうかの設定。自動インストールはプラグインの作者によつてそのプラグインが自動インストール可能であることが明示されてゐる必要があります (それには :AutoInstall: キーワードを GetLatestVimScripts コメント行に指定します)。
</p></dd>
<dt>g:GetLatestVimScripts_autoinstalldir</dt>
<dd><p>初期設定= $HOME/.vim     (linux) <br>
初期設定= $HOME/vimfiles (windows)
</p>
<p>自動インストールスクリプト (:AutoInstall:) のインストール先を變更できます。vimball のインストールには適用されません。
</p></dd>
<dt>g:GetLatestVimScripts_scriptaddr</dt>
<dd><p>初期設定=&rsquo;http://vim.sourceforge.net/script.php?script_id=&rsquo;
</p>
<p>あなたのシステムで設定が必要な場合に上書きしてください。
</p>
<p>...  =&rsquo;http://vim.sourceforge.net/script/script.php?script_id=&rsquo;
</p></dd>
</dl>

<a name="glvs_002dalgorithm"></a><a name="glvs_002dalg"></a><a name="index-glvs_002dalgorithm"></a>
<a name="index-glvs_002dalg"></a>
<a name="g_t8_002e-GetLatestVimScripts-arugorizumu"></a>
<h3 class="section">8. GetLatestVimScripts アルゴリズム</h3>

<p>Vim の Web サイトでは、スクリプト ID を利用してページを動的に生成してゐます。
</p>
<p><a href="http://vim.sourceforge.net/scripts/script.php?script_id=40">http://vim.sourceforge.net/scripts/script.php?script_id=40</a>
</p>
<p>ページ內には最新の ソースID が書かれてゐます。ソースID の番號は再利用されないので、その番號が、GetLatestVimScripts.dat に記錄された番號より大きい場合は、新しいスクリプトがダウンロードできるといふことです。
</p>
<p>スクリプトをダウンロードしたら、內部データベースの ScriptID, SourceID, scriptname を更新します。
</p>
<p>自動インストールの手順は次の通り:
</p>
<pre class="verbatim">ファイルを GetLatest/ から以下のディレクトリに移動する
        Unix   : $HOME/.vim
        Windows: $HOME\vimfiles
if ファイルの擴張子 == &quot;.bz2&quot;
        bunzip2 &lt;file&gt;
else if ファイルの擴張子 == &quot;.gz&quot;
        gunzip &lt;file&gt;
そして、
if ファイルの擴張子 == &quot;.zip&quot;
        unzip &lt;file&gt;
else if ファイルの擴張子 == &quot;.tar&quot;
        tar -oxvf &lt;file&gt;
else if ファイルの擴張子 == &quot;.vim&quot;
        plugin ディレクトリに移動
</pre>

<a name="getscript_002dhistor"></a><a name="glvs_002dhist"></a><a name="index-getscript_002dhistor"></a>
<a name="index-glvs_002dhist"></a>
<a name="g_t9_002e-GetLatestVimScripts-Kai-Fa-Lu-Li-"></a>
<h3 class="section">9. GetLatestVimScripts 開發履歷</h3>

<pre class="verbatim"> v36 Apr 22, 2013 : * (glts) suggested use of plugin/**/*.vim instead of
                      plugin/*.vim in globpath() call.
                    * (Andy Wokula) got warning message when setting
                      g:loaded_getscriptPlugin
 v35 Apr 07, 2012 : * (MengHuan Yu) pointed out that the script URL has
                      changed (somewhat).  However, it doesn't work, and
                      the original one does (under Linux). I'll make it
                      yet-another-option.
 v34 Jun 23, 2011 : * handles additional decompression options for tarballs
                      (tgz taz tbz txz)
 v33 May 31, 2011 : * using fnameescape() instead of escape()
                    * *.xz support
 v32 Jun 19, 2010 : * (Jan Steffens) added support for xz compression
 v31 Jun 29, 2008 : * (Bill McCarthy) fixed having hls enabled with getscript
                    * (David Schaefer) the acd option interferes with vimballs
                      Solution: bypass the acd option
 v30 Jun 13, 2008 : * GLVS now checks for existence of fnameescape() and will
                      issue an error message if it is not supported
 v29 Jan 07, 2008 : * Bram M pointed out that cpo is a global option and that
                      getscriptPlugin.vim was setting it but not restoring it.
 v28 Jan 02, 2008 : * improved shell quoting character handling, cygwin
                      interface, register-a bypass
     Oct 29, 2007   * Bill McCarthy suggested a change to getscript that avoids
                      creating pop-up windows
 v24 Apr 16, 2007 : * removed save&amp;restore of the fo option during script
                      loading
 v23 Nov 03, 2006 : * ignores comments (#...)
                    * handles vimballs
 v22 Oct 13, 2006 : * supports automatic use of curl if wget is not
                      available
 v21 May 01, 2006 : * now takes advantage of autoloading.
 v20 Dec 23, 2005 : * Eric Haarbauer found&amp;fixed a bug with unzip use;
                      unzip needs the -o flag to overwrite.
 v19 Nov 28, 2005 : * v18's GetLatestVimScript line accessed the wrong
                      script! Fixed.
 v18 Mar 21, 2005 : * bugfix to automatic database construction
                    * bugfix - nowrapscan caused an error
                      (tnx to David Green for the fix)
     Apr 01, 2005   * if shell is bash, &quot;mv&quot; instead of &quot;ren&quot; used in
                      :AutoInstall:s, even though its o/s is windows
     Apr 01, 2005   * when downloading errors occurred, GLVS was
                      terminating early.  It now just goes on to trying
                      the next script (after trying three times to
                      download a script description page)
     Apr 20, 2005   * bugfix - when a failure to download occurred,
                      GetLatestVimScripts would stop early and claim that
                      everything was current.  Fixed.
 v17 Aug 25, 2004 : * g:GetLatestVimScripts_allowautoinstall, which
                      defaults to 1, can be used to prevent all
                      :AutoInstall:
 v16 Aug 25, 2004 : * made execution of bunzip2/gunzip/tar/zip silent
                    * fixed bug with :AutoInstall: use of helptags
 v15 Aug 24, 2004 : * bugfix: the &quot;0 0 comment&quot; download prevention wasn't
                      always preventing downloads (just usually).  Fixed.
 v14 Aug 24, 2004 : * bugfix -- helptags was using dotvim, rather than
                      s:dotvim.  Fixed.
 v13 Aug 23, 2004 : * will skip downloading a file if its scriptid or srcid
                      is zero.  Useful for script authors; that way their
                      own GetLatestVimScripts activity won't overwrite
                      their scripts.
 v12 Aug 23, 2004 : * bugfix - a &quot;return&quot; got left in the distribution that
                      was intended only for testing.  Removed, now works.
                    * :AutoInstall: implemented
 v11 Aug 20, 2004 : * GetLatestVimScripts is now a plugin:
                    * :GetLatestVimScripts command
                    * (runtimepath)/GetLatest/GetLatestVimScripts.dat
                      now holds scripts that need updating
 v10 Apr 19, 2004 : * moved history from script to doc
 v9  Jan 23, 2004 :   windows (win32/win16/win95) will use
                      double quotes (&quot;&quot;) whereas other systems will use
                      single quotes ('') around the urls in calls via wget
 v8  Dec 01, 2003 :   makes three tries at downloading
 v7  Sep 02, 2003 :   added error messages if &quot;Click on...&quot; or &quot;src_id=&quot;
                      not found in downloaded webpage
                      Uses t_ti, t_te, and rs to make progress visible
 v6  Aug 06, 2003 :   final status messages now display summary of work
                      ( &quot;Downloaded someqty scripts&quot; or
                        &quot;Everything was current&quot;)
                      Now GetLatestVimScripts is careful about downloading
                      GetLatestVimScripts.vim itself!
                      (goes to &lt;NEW_GetLatestVimScripts.vim&gt;)
 v5  Aug 04, 2003 :   missing an endif near bottom
 v4  Jun 17, 2003 :   redraw! just before each &quot;considering&quot; message
 v3  May 27, 2003 :   Protects downloaded files from errant shell
                      expansions with single quotes: '...'
 v2  May 14, 2003 :   extracts name of item to be obtained from the
                      script file.  Uses it instead of comment field
                      for output filename; comment is used in the
                      &quot;considering...&quot; line and is now just a comment!
                    * Fixed a bug: a string-of-numbers is not the
                      same as a number, so I added zero to them
                      and they became numbers.  Fixes comparison.
</pre>
<hr>
<div class="header">
<p>
Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
