<!DOCTYPE html>
<html lang="ja">
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>

<title>mlang.txt (Vim Reference Manual)</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<meta name="description" content="mlang.txt (Vim Reference Manual)">
<meta name="keywords" content="mlang.txt (Vim Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="start" title="目次">
<link href="Indexes-CP.html#Indexes-CP" rel="index" title="Indexes CP">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="up" title="目次">
<link href="rileft_002etxt.html#rileft_002etxt" rel="next" title="rileft.txt">
<link href="mbyte_002etxt.html#mbyte_002etxt" rel="prev" title="mbyte.txt">
<style>
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="ja">
<a name="mlang_002etxt"></a>
<div class="header">
<p>
Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Ying-Yu-Yi-Wai-noYan-Yu-nosapoto"></a>
<h2 class="unnumbered">英語以外の言語のサポート</h2>
<pre class="verbatim">*mlang.txt*     For Vim バージョン 8.1.  Last change: 2019 May 05


                VIMリファレンスマニュアル    by Bram Moolenaar
</pre>

<a name="multilang"></a><a name="multi_002dlang"></a><a name="index-multilang"></a>
<a name="index-multi_002dlang"></a>
<p>多言語機能
</p>
<p>このマニュアルはメッセージとメニューを樣々な言語で使用する方法について書かれてゐる。マルチバイトテキストの編輯については |<a href="mbyte_002etxt.html#multibyte">multibyte</a>| を參照。
</p>
<p>基本的なことはユーザーマニュアルでも說明されてゐる: |<a href="usr_005f45_002etxt.html#usr_005f45_002etxt">usr_45.txt</a>|。
</p>
<table>
<tr><td width="50%">1. メッセージ</td><td width="50%">|<a href="#multilang_002dmessages">multilang-messages</a>|</td></tr>
<tr><td width="50%">2. メニュー</td><td width="50%">|<a href="#multilang_002dmenus">multilang-menus</a>|</td></tr>
<tr><td width="50%">3. スクリプト</td><td width="50%">|<a href="#multilang_002dscripts">multilang-scripts</a>|</td></tr>
</table>

<p>多言語のヘルプ機能については |<a href="helphelp_002etxt.html#help_002dtranslated">help-translated</a>| を參照のこと。
</p>
<p>{|<a href="various_002etxt.html#g_t_002bmulti_005flang">+multi_lang</a>| 機能を無效にしてコンパイルした場合には利用できない}
</p>
<a name="multilang_002dmessages"></a><a name="index-multilang_002dmessages"></a>
<a name="g_t1_002e-metusezi"></a>
<h3 class="section">1. メッセージ</h3>

<p>Vim はシステム環境からロケール (地域情報) を判定する。ほとんどの場合これは、その言語が利用可能な狀態でさへあるならば、Vim を好みの言語で使ふことができることを意味してゐる。
</p>
<p>システムによりサポートされるロケールの一覽を見るには、(UNIX では) これらのディレクトリを見る:
</p><pre class="verbatim">/usr/lib/locale
/usr/share/locale
</pre><p>ロケール名には不幸にして大文字と小文字の違ひがある。また &quot;-&quot; と &quot;_&quot; の使はれ方にも用心すること。
</p>
<a name="g_t_003alan"></a><a name="g_t_003alang"></a><a name="g_t_003alanguage"></a><a name="E197"></a><a name="index-_003alan"></a>
<a name="index-_003alang"></a>
<a name="index-_003alanguage"></a>
<a name="index-E197"></a>
<dl compact="compact">
<dt>:lan[guage]</dt>
<dt>:lan[guage] mes[sages]</dt>
<dt>:lan[guage] cty[pe]</dt>
<dt>:lan[guage] tim[e]</dt>
<dd><p>現在の言語(言ひ換へればロケール)を表示する。
</p>
<p>引數 &quot;message&quot; を使用するとメッセージに利用されてゐる言語が表示される。專門的には: LC_MESSAGES
</p>
<p>引數 &quot;ctype&quot; を使用すると文字エンコードに利用されてゐる言語が表示される。專門的には: LC_CTYPEa
</p>
<p>引數 &quot;time&quot; を使用すると strftime() が表示に利用する言語が表示される。專門的には: LC_TIME
</p>
<p>無引數ならばロケールの全體が表示される (どのやうに表示されるかはシステムに依存する)。
</p>
<p>現在の言語は |<a href="eval_002etxt.html#v_003alang">v:lang</a>|, |<a href="eval_002etxt.html#v_003actype">v:ctype</a>| そして |<a href="eval_002etxt.html#v_003alc_005ftime">v:lc_time</a>| の各變數で取得することもできる。
</p>
</dd>
<dt>:lan[guage] {name}</dt>
<dt>:lan[guage] mes[sages] {name}</dt>
<dt>:lan[guage] cty[pe] {name}</dt>
<dt>:lan[guage] tim[e] {name}</dt>
<dd><p>現在の言語 (言ひ換へればロケール) を {name} に設定する。
{name}といふロケールがシステムに存在してゐなければならない。あるシステムでは &quot;en&quot; とか &quot;en_US&quot; と言つた別稱を受け付けるが、中には &quot;en_US.ISO_8859-1&quot; のやうに完全な指定しか受け付けないシステムもある。Unix では次のコマンドで、サポートされてゐるロケールを確認できる:
</p><pre class="verbatim">:!locale -a
</pre><p>引數 &quot;message&quot; を使用するとメッセージに利用する言語を設定する。これにより例として日本語を編輯中に英語メッセージを使用するやうなことができる。これは $LC_MESSAGES を設定する。
</p>
<p>引數 &quot;ctype&quot; を使用すると文字エンコードに利用する言語を設定する。これは Vim がリンクしてゐるライブラリに影響を與へる。&quot;C&quot; や &rsquo;<samp>encoding</samp>&rsquo; と異なる値を指定するのは一般的ではない。これは <code>$LC_CTYPE</code> を設定する。
</p>
<p>引數 &quot;time&quot; を使用すると時刻と日附のメッセージに利用される言語を設定する。strftime() に影響を與へる。これは <code>$LC_TIME</code> を設定する。
</p>
<p>無引數ならば兩方が設定され、加へて <code>$LANG</code> が設定される。
</p>
<p>|<a href="various_002etxt.html#g_t_002bfloat">+float</a>| 機能付きでコンパイルされてゐる場合は、常に LC_NUMERIC が &quot;C&quot; にセットされ、浮動小數點數が小數點として &rsquo;.&rsquo; を使ふやうになる。
</p>
<p>これは言語に依存した項目 (メッセージや時刻日附の書式) を變更することができる。全てのシステムで完全にサポートされるわけではない。
</p>
<p>設定に失敗すればエラーメッセージが表示される。成功した場合には何も表示されない。例:
</p><pre class="verbatim">:language
Current language: C
:language de_DE.ISO_8859-1
:language mes
Current messages language: de_DE.ISO_8859-1
:lang mes en
</pre></dd>
</dl>

<a name="win32_002dgettext"></a><a name="index-win32_002dgettext"></a>
<a name="MS_002dWINDOWS-denometuseziFan-Yi-"></a>
<h4 class="unnumberedsubsec">MS-WINDOWS でのメッセージ飜譯</h4>

<p>インストーラを利用した場合には、既にメッセージの飜譯が動作してゐる。動作しないのであれば libintl.dll を別途入手する必要がある:
</p>
<p><a href="http://sourceforge.net/projects/gettext">http://sourceforge.net/projects/gettext</a> <br>
Or: <br>
<a href="https://mlocati.github.io/gettext-iconv-windows/">https://mlocati.github.io/gettext-iconv-windows/</a>
</p>
<p>これには xgettext, msgformat その他のツールも含まれてゐる。
</p>
<p>libintl.dll は (g)vim.exe と同じディレクトリか、<code>PATH</code> 環境變數の値にリストされてゐるディレクトリのうちのひとつに置く必要がある。Vim はまた別名である &quot;libintl-8.dll&quot; と &quot;intl.dll&quot; を探す。
</p>
<p>メッセージファイル (vim.mo) は &quot;$VIMRUNTIME/lang/xx/LC_MESSAGES&quot; に置かなければならない。&quot;xx&quot; はその言語名 の省略形 (ほとんどの場合 2 文字)に置き換へて考へる。
</p>
<p>獨自の飜譯を書く場合には .po ファイルを作成しそれを .mo ファイルに變換する必要がある。そのためには Vim のソースを取得してファイル &quot;src/po/README.txt&quot; を讀む必要がある。
</p>
<p>自動選擇された言語を變更するには、<code>$LANG</code> に設定する。次の例は日本語メッセージを選擇する方法を示してゐる:
</p><pre class="verbatim">:let $LANG = &quot;ja&quot;
</pre><p>飜譯をしないやうにするには &quot;en&quot; を指定する。
</p>
<p>(この Windows 向け文章は村岡太郞によつて書かれた)
</p>
<p>{譯注: 譯注として追加されたわけでなく原文にこの記述がある}
</p>
<a name="multilang_002dmenus"></a><a name="index-multilang_002dmenus"></a>
<a name="g_t2_002e-meniyu"></a>
<h3 class="section">2. メニュー</h3>

<p>基本 (特に &rsquo;<samp>langmenu</samp>&rsquo; の使ひ方) は |<a href="usr_005f45_002etxt.html#g_t45_002e2">45.2</a>| を參照。
</p>
<blockquote>
<p><strong>Note:</strong> <br>
メニューの飜譯が作られた後に元のメニューが變更された場合には、それらのメニューは英語のまま表示されることがある。そのやうな場合には飜譯のメンテナーに聯絡を取り更新するやうに賴んで欲しい。飜譯者の名前とメールアドレスはファイル &quot;$VIMRUNTIME/lang/menu_&lt;lang&gt;.vim&quot; の中に見つけることができる。
</p></blockquote>

<p>メニューに利用するフォント (もしくはフォントセット) を指定するには、|<a href="syntax_002etxt.html#g_t_003ahighlight">:highlight</a>| コマンドを使用する。例:
</p><pre class="verbatim">:highlight Menu font=k12,r12
</pre>

<a name="rokerunoSheng-Lue-Ming-"></a>
<h4 class="unnumberedsubsec">ロケールの省略名</h4>

<p>あいにく、同じ言語に同じエンコードであつても、ロケール名がシステムによつて異なることがある。期待した通りにメニューが飜譯されない時には、次のコマンドの實行結果を調べる:
</p><pre class="verbatim">echo v:lang
</pre>
<p>次に &quot;$VIMRUNTIME/lang&quot; ディレクトリを調べて同じ言語に使はれるメニュー飜譯ファイルを探す。&quot;-&quot; と &quot;_&quot; が違ふだけでファイルは見つけられなくなる。良くある閒違ひ &quot;iso8859-1&quot; と &quot;iso_8859-1&quot; にも用心する。幸ひ、Vim は全ての名前を小文字にするので、大文字小文字の區別を心配する必要はない。名前中の空白文字はエスケープするのではなくアンダースコア (&quot;_&quot;) に變換される。
</p>
<p>使ひたい言語用の、それと異なる名前のメニュー飜譯ファイルを見つけた場合は、獨自のランタイムディレクトリに讀み込まれるやうファイルを作成する。ファイルの名前は次のやうにする:
</p><pre class="verbatim">~/.vim/lang/menu_&lt;v:lang&gt;.vim
</pre>
<p>ファイルが檢索されるディレクトリを指定するオプション &rsquo;<samp>runtimepath</samp>&rsquo; を確認する。そのファイルに別の名前のメニューファイルを讀み込む、次のやうなコマンドを記入する:
</p><pre class="verbatim">runtime lang/menu_&lt;other_lang&gt;.vim
</pre>

<a name="meniyuwoFan-Yi-suru"></a>
<h4 class="unnumberedsubsec">メニューを飜譯する</h4>

<p>メニューを獨自に飜譯したい場合は、以下で說明するやうに |<a href="#g_t_003amenutrans">:menutrans</a>| コマンドを使ふことができる。ある 1 つの言語の飜譯は 1 つの Vim script にまとめられることが推奬される。まだ飜譯が存在しない言語については、メンテナーになりその飜譯を全ての Vim ユーザーに提供することを是非とも考へていただきたい。Vim のメンテナーにメールを送つて欲しい。アドレスは <a href="mailto:&lt;maintainer@vim.org&gt;">&lt;maintainer@vim.org&gt;</a> である。
</p>
<a name="g_t_003amenut"></a><a name="g_t_003amenutrans"></a><a name="g_t_003amenutranslate"></a><a name="index-_003amenut"></a>
<a name="index-_003amenutrans"></a>
<a name="index-_003amenutranslate"></a>
<dl compact="compact">
<dt>:menut[ranslate] clear</dt>
<dd><p>メニューの飜譯をすべて削除する。
</p>
</dd>
<dt>:menut[ranslate] {english} {mylang}</dt>
<dd><p>メニュー名 {english} を {mylang} に飜譯する。&quot;&amp;&quot; と &quot;&lt;Tab&gt;&quot; の特別な文字も全て含まれる必要がある。半角スペースとピリオド (&rsquo;.&rsquo;) は |<a href="gui_002etxt.html#g_t_003amenu">:menu</a>| コマンドと同樣に、バックスラッシュ {譯注: &rsquo;\&rsquo;} でエスケープする必要がある。{english} 內の大文字小文字は無視される。
</p></dd>
</dl>

<p>例は $VIMRUNTIME/lang ディレクトリを參照。
</p>
<p>飜譯をテストするには一旦全てのメニューを削除する必要がある。次のは Vim を再起動せずにそれを行ふ方法である:
</p><pre class="verbatim">:source $VIMRUNTIME/delmenu.vim
:source &lt;your-new-menu-file&gt;
:source $VIMRUNTIME/menu.vim
</pre>
<p>メニューパスの各部位は個別に飜譯される。&quot;Help&quot; が &quot;Hilfe&quot; に、&quot;Overview&quot; が &quot;Überblick&quot; に譯される時、結果的に &quot;Help.Overview&quot; は &quot;Hilfe.Überblick&quot; と飜譯される。
</p>
<a name="multilang_002dscripts"></a><a name="index-multilang_002dscripts"></a>
<a name="g_t3_002e-sukuriputo"></a>
<h3 class="section">3. スクリプト</h3>

<p>Vim script では現在の言語 (ロケールを) 取得するのに變數 |<a href="eval_002etxt.html#v_003alang">v:lang</a>| を使ふことができる。デフォルトの値は &quot;C&quot; か環境變數 <code>$LANG</code> の値になる。
</p>
<p>以下の例は、この變數を使つたユーザーの好みの言語にメッセージを適合させる簡單な例を示してゐる,
</p>
<pre class="verbatim">:if v:lang =~ &quot;de_DE&quot;
:  echo &quot;Guten Morgen&quot;
:else
:  echo &quot;Good morning&quot;
:endif
</pre>
<hr>
<div class="header">
<p>
Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
