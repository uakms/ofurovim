<!DOCTYPE html>
<html lang="ja">
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>

<title>gui.txt (Vim Reference Manual)</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<meta name="description" content="gui.txt (Vim Reference Manual)">
<meta name="keywords" content="gui.txt (Vim Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="Mu-Ci-.html" rel="start" title="目次">
<link href="Indexes-CP.html" rel="index" title="Indexes CP">
<link href="Mu-Ci-.html" rel="up" title="目次">
<link href="gui_005fw32_002etxt.html" rel="next" title="gui_w32.txt">
<link href="hangulin_002etxt.html" rel="prev" title="hangulin.txt">
<style>
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="ja">
<span id="gui_002etxt"></span><div class="header">
<p>
Up: <a href="Mu-Ci-.html" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="gurahuikaruyuzaintahueisu-_0028GUI_0029"></span><h2 class="unnumbered">グラフィカルユーザーインターフェイス (GUI)</h2>
<pre class="verbatim">*gui.txt*       For Vim バージョン 8.1.  Last change: 2019 Nov 16


                VIMリファレンスマニュアル    by Bram Moolenaar
</pre>

<span id="gui"></span><span id="GUI"></span><span id="index-gui"></span>
<span id="index-GUI"></span>
<p>Vim のグラフィカルユーザーインターフェイス
</p>
<table>
<tr><td width="50%">1. GUI の開始</td><td width="50%">|<a href="#gui_002dstart">gui-start</a>|</td></tr>
<tr><td width="50%">2. スクロールバー</td><td width="50%">|<a href="#gui_002dscrollbars">gui-scrollbars</a>|</td></tr>
<tr><td width="50%">3. マウス制禦</td><td width="50%">|<a href="#gui_002dmouse">gui-mouse</a>|</td></tr>
<tr><td width="50%">4. GUI選擇の作成</td><td width="50%">|<a href="#gui_002dselections">gui-selections</a>|</td></tr>
<tr><td width="50%">5. メニュー</td><td width="50%">|<a href="#menus">menus</a>|</td></tr>
<tr><td width="50%">6. フォント</td><td width="50%">|<a href="#gui_002dfont">gui-font</a>|</td></tr>
<tr><td width="50%">7. 附記</td><td width="50%">|<a href="#gui_002dextras">gui-extras</a>|</td></tr>
<tr><td width="50%">8. シェルコマンド</td><td width="50%">|<a href="#gui_002dshell">gui-shell</a>|</td></tr>
</table>

<p>他の GUI ドキュメント:
</p><table>
<tr><td width="30%">|<a href="gui_005fx11_002etxt.html">gui_x11.txt</a>|</td><td width="70%">X11 GUI に特有の項目について。</td></tr>
<tr><td width="30%">|<a href="gui_005fw32_002etxt.html">gui_w32.txt</a>|</td><td width="70%">Win32 GUI に特有の項目について。</td></tr>
</table>


<span id="gui_002dstart"></span><span id="E229"></span><span id="E233"></span><span id="index-gui_002dstart"></span>
<span id="index-E229"></span>
<span id="index-E233"></span>
<span id="g_t1_002e-GUInoKai-Shi-"></span><h3 class="section">1. GUIの開始</h3>

<p>まづは Vim が GUI に對應したバージョンであるか確認する必要がある。それは &quot;<code>:version</code>&quot; コマンドで調べることができる。その出力が &quot;with xxx GUI&quot; または &quot;MS-Windows 32 bit GUI version&quot; を含んでゐれば問題ない。ここで &quot;xxx&quot; は MacVim, X11-Motif, X11-Athena, Photon, GTK2, GTK3 などである。
</p>
<p>どのやうに GUI で起動するかは使用してゐるシステムに依存する。たいていはこのやうにして GUI 版の Vim を實行できる:
</p><pre class="verbatim">gvim [options] [files...]
</pre>
<p>Vim の X11 バージョンは GUI と GUI でないモードの兩方で實行することができる。|<a href="gui_005fx11_002etxt.html#gui_002dx11_002dstart">gui-x11-start</a>| を參照。
</p>
<span id="gui_002dinit"></span><span id="gvimrc"></span><span id="g_t_002egvimrc"></span><span id="g_t_005fgvimrc"></span><span id="g_t_0024MYGVIMRC"></span><span id="index-gui_002dinit"></span>
<span id="index-gvimrc"></span>
<span id="index-_002egvimrc"></span>
<span id="index-_005fgvimrc"></span>
<span id="index-_0024MYGVIMRC"></span>
<p>gvimrc は GUI 固有の初期化コマンドを書くためのファイルである。gvimrc は常にファイル |<a href="starting_002etxt.html#vimrc">vimrc</a>| の後に讀み込まれる。環境變數 <code>$MYGVIMRC</code> があると、その値が gvimrc の代はりに使はれる。
</p>
<p>GUI の初期化は次の順序で行はれる:
</p><ul>
<li>オプション &rsquo;<samp>term</samp>&rsquo; が &quot;<var>builgin_gui</var>&quot; に設定され、端末の設定が GUI 用の初期値に設定される。|<a href="term_002etxt.html#terminal_002doptions">terminal-options</a>|
</li><li> システムのメニューファイルがあればそれが讀み込まれる。このファイルの名前は通常 &quot;$VIMRUNTIME/menu.vim&quot; である。&quot;<code>:version</code>&quot; でこれを確認できる。|<a href="starting_002etxt.html#g_t_0024VIMRUNTIME">$VIMRUNTIME</a>| も參照。システムのメニューの讀み込みを省略するには &rsquo;<samp>guioptions</samp>&rsquo; に &rsquo;<var>M</var>&rsquo; を含める。
<span id="buffers_002dmenu"></span><span id="no_005fbuffers_005fmenu"></span><span id="index-buffers_002dmenu"></span>
<span id="index-no_005fbuffers_005fmenu"></span>
システムのメニューファイルはメニュー項目 &quot;Buffers&quot; (バッファ) の定義も含んでゐる。これを必要としないなら、ユーザーの .vimrc (.gvimrc ではない！) で &quot;no_buffers_menu&quot; を設定する:
<pre class="verbatim">:let no_buffers_menu = 1
</pre><blockquote>
<p><strong>Note:</strong> <br>
構文强調表示を有效にするとメニューファイルも讀み込まれるため、メニュー項目 Buffers (バッファ) を無效にするのは &quot;<code>:syntax on</code>&quot; の前にする。メニューに表示されるバッファの名前は 35 文字で切り詰められる。違ふ長さで切り詰めるなら、例へば 50 文字にするなら、次のやうにする:
</p><pre class="verbatim">:let bmenu_max_pathlen = 50
</pre></blockquote>
</li><li> Vim を起動するときのコマンドライン引數に &quot;-U {gvimrc}&quot; が指定されると、{gvimrc} ファイルが初期化のために讀み込まれ、以下の初期化處理は省略される。{gvimrc} が &quot;NONE&quot; の場合は、どの初期化ファイルも讀み込まれない。
</li><li> Unix と MS-Windows では、システムの gvimrc が存在するなら、それが讀み込まれる。このファイルの名前は通常 &quot;$VIM/gvimrc&quot; である。&quot;<code>:version</code>&quot; でこれを確認できる。|<a href="starting_002etxt.html#g_t_0024VIM">$VIM</a>| も參照。
</li><li> 次のものを試して、最初に見つかつたものが使用される:
<ul>
<li> GVIMINIT 環境變數が存在し空でないなら、それが Ex コマンドとして實行される。
</li><li> ユーザーの gvimrc ファイルが存在するなら、それが讀み込まれる。このファイルの名前は通常 &quot;$HOME/.gvimrc&quot; である。&quot;<code>:version</code>&quot; でこれを確認できる。
</li><li> Win32 では、必要であれば Vim によつて <code>$HOME</code> が設定される。|<a href="options_002etxt.html#g_t_0024HOME_002dwindows">$HOME-windows</a>| を參照。
</li><li> &quot;_gvimrc&quot; ファイルが見つからないときには、&quot;.gvimrc&quot; も試される。逆のときも同樣である。
</li></ul>
<p><code>$MYGVIMRC</code> が設定されてゐないならば、<code>$MYGVIMRC</code> に最初に見つかつたファイルの名前が代入される。
</p></li><li> &rsquo;exrc&rsquo; オプションが設定されてゐて (これは標準設定ではない)、./.gvimrc ファイルが存在し、それがシステム、あるいはユーザーの gvimrc ファイルではないなら、それが讀み込まれる。このファイルがユーザーの所有してゐるものでないなら、いくつかのセキュリティ上の制限が適用される。&quot;.gvimrc&quot; が見つからないときには、&quot;_gvimrc&quot; も試される。Macintosh と DOS/Win32 では、&quot;_gvimrc&quot; が最初に試される。
</li></ul>

<blockquote>
<p><strong>Note:</strong> <br>
Vim を起動するときに、&quot;-U&quot; 引數を指定せずに &quot;-u NONE&quot; もしくは &quot;-U NONE&quot; を指定するか、あるいは &quot;-U NONE&quot; を指定して起動すると、最初のもの以外は全て實行されない。
</p></blockquote>

<p>これらは全て、ユーザーの <samp>.vimrc</samp> ファイルを讀み込む、といふやうな、通常の Vim の初期化の後に實行される。|<a href="starting_002etxt.html#initialization">initialization</a>| を參照。
</p>
<p>しかし、GUI ウィンドウは全ての初期化が實行された後に開かれる。GUI ウィンドウを開いた直後にいくつかのコマンドを實行したいなら、自動コマンドの |<a href="autocmd_002etxt.html#GUIEnter">GUIEnter</a>| イベントを使用する。例へば:
</p><pre class="verbatim">:autocmd GUIEnter * winpos 100 50
</pre>
<p>カスタマイズしたメニュー (|<a href="#g_t_003amenu">:menu</a>| を參照) をセットアップしたり、CUI 版とは異なつた初期化をするために、<samp>gvimrc</samp> ファイルを使用することができる。
</p>
<p>ユーザーの個人的な GUI 初期化ファイルを置くのに推奬される場所:
</p><table>
<tr><td width="30%">Unix と Mac OS X</td><td width="70%">$HOME/.gvimrc, $HOME/.vim/gvimrc</td></tr>
<tr><td width="30%">OS/2</td><td width="70%">$HOME/.gvimrc, $HOME/vimfiles/gvimrc, $VIM/.gvimrc</td></tr>
<tr><td width="30%">MS-DOS と Win32</td><td width="70%">$HOME/_gvimrc, $HOME/vimfiles/gvimrc, $VIM/_gvimrc</td></tr>
<tr><td width="30%">Amiga</td><td width="70%">s:.gvimrc, home:.gvimrc, home:vimfiles:gvimrc, $VIM/.gvimrc</td></tr>
</table>

<p>個人的な初期化ファイルは上記の順に檢索され、最初に見つかつたものだけが讀み込まれる。
</p>
<p>GUI 版の Vim でだけ意味を持つオプションがある。&rsquo;<samp>guicursor</samp>&rsquo;, &rsquo;<samp>guifont</samp>&rsquo;, &rsquo;<samp>guipty</samp>&rsquo;, &rsquo;<samp>guioptions</samp>&rsquo; である。それらは他の全てのオプションと共に |<a href="options_002etxt.html">options.txt</a>| で說明されてゐる。
</p>
<p>GUI の Motif か Athena バージョン (GTK+ や Win32 バージョンではない) を使用してゐるならば、多くの X のリソースが有效である。|<a href="gui_005fx11_002etxt.html#gui_002dresources">gui-resources</a>| を參照。
</p>
<p>端末の設定をする以外に文字の色を設定する方法はハイライトを設定することである。ハイライトの &quot;Normal&quot; グループは背景色と前景色を設定するために用ゐられる。(ナイスな) 例:
</p><pre class="verbatim">:highlight Normal guibg=grey90
</pre>
<p>&quot;guibg&quot; と &quot;guifg&quot; の設定は通常の背景と前景の設定よりも優先される。ハイライトの Normal グループに對するその他の設定は使用されない。フォントを設定するには &rsquo;<samp>guifont</samp>&rsquo; を使用する。
</p>
<p>モード別にカーソルの色を設定するには、&rsquo;<samp>guicursor</samp>&rsquo; オプションを參照。
</p>
<p>Vim は起動時に、スクリーンに合はせてウィンドウの位置を調整しようとする。これはウィンドウの一部が隱れてしまはないやうにするためである。X Window System では、これは少し臆測を必要とする。&rsquo;<samp>guiheadroom</samp>&rsquo; オプションでウィンドウタイトルとタスクバーに用ゐられる高さを變更することができる。
</p>
<dl compact="compact">
<dd><span id="g_t_003awinp"></span><span id="g_t_003awinpos"></span><span id="E188"></span><span id="index-_003awinp"></span>
<span id="index-_003awinpos"></span>
<span id="index-E188"></span>
</dd>
<dt>:winp[os]</dt>
<dd><p>GUI vim ウィンドウの左上隅の現在の位置をピクセルで表示する。全てのバージョンで機能する譯ではない。|<a href="eval_002etxt.html#getwinpos_0028_0029">getwinpos()</a>|, |<a href="eval_002etxt.html#getwinposx_0028_0029">getwinposx()</a>| と |<a href="eval_002etxt.html#getwinposy_0028_0029">getwinposy()</a>| も參照のこと。
</p>
<span id="E466"></span><span id="index-E466"></span>
</dd>
<dt>:winp[os] {X} {Y}</dt>
<dd><p>與へられた {X} と {Y} の座標に GUI vim ウィンドウを移動する。座標はウィンドウの左上隅の位置をピクセル單位で指定する。全てのバージョンで機能する譯ではない。(新しい) xterm で機能する |<a href="syntax_002etxt.html#xterm_002dcolor">xterm-color</a>|。
</p>
<p>GUI ウィンドウがまだ開いてゐないとき、この値はウィンドウが開かれるまで保留される。位置はスクリーンに合ふやうに調整される(可能なら)。
</p>
<span id="g_t_003awin"></span><span id="g_t_003awinsize"></span><span id="E465"></span><span id="index-_003awin"></span>
<span id="index-_003awinsize"></span>
<span id="index-E465"></span>
</dd>
<dt>:win[size] {width} {height}</dt>
<dd><p>{width} (幅) と {height} (高さ) を指定してウィンドウの大きさを設定する。このコマンドは古いコマンド (Obsolete) なので、&quot;<code>:set lines=11 columns=22</code>&quot; を使用するやうにすること。
</p>
<p>期待したよりも高さが低くなるなら、&rsquo;<samp>guiheadroom</samp>&rsquo; オプションを確認すること。
</p></dd>
</dl>

<p>X Window System では、これらのコマンドで Vim のウィンドウの情報を得られる:
</p><pre class="verbatim">:!xwininfo -id $WINDOWID
:!xprop -id $WINDOWID
:execute '!xwininfo -id ' . v:windowid
:execute '!xprop -id ' . v:windowid
</pre><span id="gui_002dIME"></span><span id="iBus"></span><span id="index-gui_002dIME"></span>
<span id="index-iBus"></span>
<p>X で各國の文字を入力するためのインプットメソッドで XIM フレームワークに依るもの、特に iBus は、gvim で使用すると不具合が起こることが知られてゐる。スペースを入力できなかつたり、キーを押してからそれがアプリケーションに屆くまで大きな遲延が發生したりする。
</p>
<p>對處療法としては gvim の起動引數に |<a href="starting_002etxt.html#g_t_002df">-f</a>| を付けてフォークをしないやうにすると症狀は出なくなる。理由は不明だが。
</p>
<span id="gui_002dscrollbars"></span><span id="index-gui_002dscrollbars"></span>
<span id="g_t2_002e-sukuroruba"></span><h3 class="section">2. スクロールバー</h3>

<p>垂直スクロールバーと水平スクロールバーがある。&rsquo;<samp>guioptions</samp>&rsquo; オプションでどれが表示されるかを設定することができる。
</p>
<p>このやうな外觀になつてゐる (設定が &quot;:set guioptions=mlrb&quot; のとき):
</p>
<pre class="verbatim">                      +------------------------------+
                      | ファイル 編輯         ヘルプ | &lt;- メニューバー(m)
                      +-+--------------------------+-+
                      |^|                          |^|
                      |#| テキストエリア           |#|
                      | |                          | |
                      |v|__________________________|v|
Vim ウィンドウ閒の -&gt; |-+ File.c              5,2  +-|
通常のステータス行    |^|&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|^|
                      | |                          | |
                      | | 別のファイルバッファ     | |
                      | |                          | |
                      |#|                          |#|
左スクロールバー(l)-&gt; |#|                          |#| &lt;- 右
                      |#|                          |#|    スクロールバー(r)
                      | |                          | |
                      |v|                          |v|
                      +-+--------------------------+-+
                      | |&lt; ####                   &gt;| | &lt;- 下
                      +-+--------------------------+-+    スクロールバー(b)
</pre>
<p>スクロールバーやメニューバーは &rsquo;<samp>guioptions</samp>&rsquo; から對應する文字を取り除くことで無效にできる。下スクロールバーは &rsquo;<samp>nowrap</samp>&rsquo; が設定されてゐるときだけ有用である。
</p>

<span id="gui_002dvert_002dscroll"></span><span id="index-gui_002dvert_002dscroll"></span>
<span id="Chui-Zhi-sukuroruba"></span><h4 class="unnumberedsubsec">垂直スクロールバー</h4>

<p>各 Vim ウィンドウはとなりにスクロールバーを持つてゐて、上下にスクロールしてそのバッファ內のテキストの表示を移動できる。スクロールバーのつまみのサイズはウィンドウに見えてゐるバッファの割合を示してゐる。スクロールバーがずつと下方にドラッグされると、ファイルの最後の行はウィンドウの最上部に表示される。
</p>
<p>ウィンドウが (他のウィンドウの擴大によつて) 高さゼロに縮小されると、そのスクロールバーは表示されなくなる。それはウィンドウが復元されるときに再び表示される。
</p>
<p>ウィンドウを縱分割してゐるとき、カレントウィンドウだけがスクロールバーを利用できる。そして、複數のウィンドウの眞ん中のウィンドウを操作してゐるときは、スクロールバーは閒のウィンドウを飛び越えて作用する。
</p>
<p>兩側にスクロールバーがあるときに、複數のウィンドウの眞ん中のカレントウィンドウが左半分に面してゐると、右側のスクロールバーは右端のウィンドウに影響する。左右が逆でも同樣。
</p>

<span id="gui_002dhoriz_002dscroll"></span><span id="index-gui_002dhoriz_002dscroll"></span>
<span id="Shui-Ping-sukuroruba"></span><h4 class="unnumberedsubsec">水平スクロールバー</h4>

<p>(Vim GUI の最下段の) 水平スクロールバーは、&rsquo;<samp>wrap</samp>&rsquo; オプションがオフのときに、テキストを橫にスクロールするために使用する。スクロールバーのつまみのサイズは、左右にスクロールして一番長い行のテキストを全て表示できるくらゐである。必要に應じてカーソルが移動するとき、カーソルは表示されてゐる文字の上にとどまる (&rsquo;<samp>virtualedit</samp>&rsquo; が設定されてゐなければ)。
</p>
<p>一番長い行を計算するのは多少の處理時閒を必要とする。そしてそれは何かが變更されるときに每囘行はれる。その時閒が多すぎるやうだつたり、他の行へのカーソルジャンプを好まないなら、&rsquo;<samp>guioptions</samp>&rsquo; に &rsquo;<var>h</var>&rsquo; を含めると、スクロールはカーソルのある行の長さに制限される。
</p>
<span id="athena_002dintellimouse"></span><span id="index-athena_002dintellimouse"></span>
<p>インテリマウスを持つてゐて、X サーバーがホイールをサポートしてゐるなら、gvim でテキストを上下にスクロールするのにホイールを使ふことができる。これは XFree86 4.0 以降のバージョンで機能する。古いバージョンでもパッチを當てれば利用可能になる。|<a href="scroll_002etxt.html#scroll_002dmouse_002dwheel">scroll-mouse-wheel</a>| を參照。
</p>
<p>古いバージョンの XFree86 では X サーバーにパッチを當てなくてはならない。以下のページにはパッチとXサーバーのバイナリへのリンクに加へて、Linux 上でインテリマウスを使用することについて多少の情報がある (けれども必要とするものはないかもしれない):
</p>
<p><a href="http://www.inria.fr/koala/colas/mouse-wheel-scroll/">http://www.inria.fr/koala/colas/mouse-wheel-scroll/</a>
</p>
<span id="gui_002dmouse"></span><span id="index-gui_002dmouse"></span>
<span id="g_t3_002e-mausuZhi-Yu-"></span><h3 class="section">3. マウス制禦</h3>

<p>マウスは、&rsquo;<samp>mouse</samp>&rsquo; オプションに適切なフラグが設定されてゐる場合にだけ機能する。GUI に切り替はるときに、&rsquo;<samp>mouse</samp>&rsquo; がまだ設定されてゐなければ、&rsquo;<samp>mouse</samp>&rsquo; オプションは自動的に &quot;<var>a</var>&quot; に設定され、|<a href="message_002etxt.html#hit_002denter">hit-enter</a>| プロンプトを除いて全てのモードで有效になる。これを望まないならば、&quot;<samp>gvimrc</samp>&quot; ファイルで &rsquo;<samp>mouse</samp>&rsquo; オプションを變更する。
</p>
<p>關聯する他のオプション:
</p><table>
<tr><td width="20%">&rsquo;<samp>mousefocus</samp>&rsquo;</td><td width="80%">マウスポインタが乘つてゐるウィンドウをカレントウィンドウにする |<a href="#gui_002dmouse_002dfocus">gui-mouse-focus</a>|</td></tr>
<tr><td width="20%">&rsquo;<samp>mousemodel</samp>&rsquo;</td><td width="80%">マウスのボタンがどのやうな動作をするか</td></tr>
<tr><td width="20%">&rsquo;<samp>mousehide</samp>&rsquo;</td><td width="80%">テキストを入力してゐる閒マウスポインタを隱す</td></tr>
<tr><td width="20%">&rsquo;<samp>selectmode</samp>&rsquo;</td><td width="80%">選擇時に選擇モードとビジュアルモードのどちらを使ふか</td></tr>
</table>

<p>素早くこれらを設定するには &quot;<code>:behave</code>&quot; コマンドで行ふ。
</p><dl compact="compact">
<dd><span id="g_t_003abehave"></span><span id="g_t_003abe"></span><span id="index-_003abehave"></span>
<span id="index-_003abe"></span>
</dd>
<dt>:be[have] {model}</dt>
<dd><p>マウスと選擇の動作を設定する。有效な引數は:
</p><table>
<tr><td width="40%">mswin</td><td width="60%">MS-Windows の動作</td></tr>
<tr><td width="40%">xterm</td><td width="60%">Xterm の動作</td></tr>
</table>

<p>&quot;<code>:behave</code>&quot; を使用するとこれらのオプションが變更される:
</p><table>
<thead><tr><th width="30%">オプション</th><th width="40%">mswin</th><th width="30%">xterm</th></tr></thead>
<tr><td width="30%">&rsquo;<samp>selectmode</samp>&rsquo;</td><td width="40%">&quot;mouse,key&quot;</td><td width="30%">&quot;&quot;</td></tr>
<tr><td width="30%">&rsquo;<samp>mousemodel</samp>&rsquo;</td><td width="40%">&quot;popup&quot;</td><td width="30%">&quot;extend&quot;</td></tr>
<tr><td width="30%">&rsquo;<samp>keymodel</samp>&rsquo;</td><td width="40%">&quot;startsel,stopsel&quot;</td><td width="30%">&quot;&quot;</td></tr>
<tr><td width="30%">&rsquo;<samp>selection</samp>&rsquo;</td><td width="40%">&quot;exclusive&quot;</td><td width="30%">&quot;inclusive&quot;</td></tr>
</table>
</dd>
</dl>

<p>$VIMRUNTIME ディレクトリの中に、MS-Windows にあるやうな cut/copy/paste 機能のためのキーマッピングを設定する |<a href="gui_005fw32_002etxt.html#mswin_002evim">mswin.vim</a>| と呼ばれるスクリプトがある。これは、<kbd>CTRL-V</kbd>、<kbd>CTRL-X</kbd>、<kbd>CTRL-C</kbd> キーを用ゐるので、標準の操作と互換性がなくなつてしまふ。それでも構はないなら、このコマンドで使用する:
</p><pre class="verbatim">:so $VIMRUNTIME/mswin.vim
</pre>
<p>マウスのホイールでスクロールするには、|<a href="scroll_002etxt.html#scroll_002dmouse_002dwheel">scroll-mouse-wheel</a>| を參照。
</p>

<span id="gui_002dmouse_002dmove"></span><span id="index-gui_002dmouse_002dmove"></span>
<span id="g_t3_002e1-mausuniyorukasorunoYi-Dong-"></span><h4 class="unnumberedsubsec">3.1 マウスによるカーソルの移動</h4>

<p>カーソルを持つて行きたいテキストバッファのどこかでマウスの左ボタンをクリックすると、カーソルはそこに行く！
</p><table>
<thead><tr><th width="50%">動作するモード</th><th width="50%">&rsquo;<samp>mouse</samp>&rsquo; が以下を含んでゐるとき</th></tr></thead>
<tr><td width="50%">ノーマルモード</td><td width="50%">&rsquo;n&rsquo; または &rsquo;a&rsquo;</td></tr>
<tr><td width="50%">ビジュアルモード</td><td width="50%">&rsquo;v&rsquo; まはた &rsquo;a&rsquo;</td></tr>
<tr><td width="50%">插入モード</td><td width="50%">&rsquo;i&rsquo; または &rsquo;a&rsquo;</td></tr>
</table>

<p>選擇モードはビジュアルモードのやうに扱はれる。
</p>
<p>現在のカーソル位置からマウスで指示する位置までのテキストを削除するために &rsquo;d&rsquo; のやうなオペレータと共にこれを使用してもよい。つまり、&rsquo;d&rsquo; を入力してからどこかをマウスでクリックする。
</p>
<span id="gui_002dmouse_002dfocus"></span><span id="index-gui_002dmouse_002dfocus"></span>
<p>&rsquo;<samp>mousefocus</samp>&rsquo; オプションを設定してキーボードフォーカスがマウスポインタに追從するやうにできる。これはマウスポインタが乘つてゐるウィンドウがアクティブウィンドウになることを意味する。
</p><blockquote>
<p><strong>警告:</strong> <br>
メニューをうまく利用できなくなる。メニューを使用したときに、そのメニューに設定されたコマンドは常に一番上のウィンドウに適用されてしまふだらう。
</p></blockquote>

<p>(&rsquo;<samp>mouse</samp>&rsquo; が &rsquo;<var>c</var>&rsquo;, &rsquo;<var>a</var>&rsquo; のどれかを含んでゐるなら) コマンドラインモードや檢索モード中にマウスの左ボタンか右ボタンをクリックすることで、コマンドラインの行のクリックした位置にカーソルを移動できる。
</p>
<p>どのやうな狀況でも、マウスの中ボタンをクリックして、現在の選擇を貼り付けることができる。
</p>

<span id="gui_002dmouse_002dselect"></span><span id="index-gui_002dmouse_002dselect"></span>
<span id="g_t3_002e2-mausuniyoruXuan-Ze-"></span><h4 class="unnumberedsubsec">3.2 マウスによる選擇</h4>

<p>マウスを使つて選擇を開始できる。どのやうに使用するかは &rsquo;<samp>mousemodel</samp>&rsquo; オプションに依存する:
</p><table>
<tr><td width="40%">&rsquo;<samp>mousemodel</samp>&rsquo; が &quot;<var>extend</var>&quot; である:</td><td width="60%">マウスの右ボタンを使用する。</td></tr>
<tr><td width="40%">&rsquo;<samp>mousemodel</samp>&rsquo; が &quot;<var>popup</var>&quot; である:</td><td width="60%"><code class="tt-key">Shift</code> キーを押しながら、マウスの左ボタンを使用する。</td></tr>
</table>

<p>選擇を開始するときには、カーソルの位置からマウスで指示した位置までが選擇される。すでに選擇されてゐる狀態で選擇の操作をすると、選擇範圍が擴張される。
</p>
<p>&rsquo;<samp>selectmode</samp>&rsquo; が &quot;<var>mouse</var>&quot; を含んでゐるなら、選擇モードが使用される。これは選擇中に入力した文字で選擇範圍が置き換へられることを意味する。|<a href="visual_002etxt.html#Select_002dmode">Select-mode</a>| を參照。さうでなければ、ビジュアルモードが使用される。
</p>
<p>ダブルクリックで單語の選擇、トリプルクリックで行の選擇、クワドルプルクリック (4 回クリック) で矩形ブロックを選擇することができる。
</p>
<p>どのやうに選擇が用ゐられるかに關しては |<a href="#gui_002dselections">gui-selections</a>| を參照。
</p>

<span id="gui_002dmouse_002dmodeless"></span><span id="modeless_002dselection"></span><span id="index-gui_002dmouse_002dmodeless"></span>
<span id="index-modeless_002dselection"></span>
<span id="g_t3_002e3-mausuniyoruTa-notekisutoXuan-Ze-"></span><h4 class="unnumberedsubsec">3.3 マウスによる他のテキスト選擇</h4>
<p>次のときには異なる選擇方法が使はれる:
</p><ul>
<li> コマンドラインモード
</li><li> コマンドラインウィンドウを使用中に他のウィンドウを指したとき
</li><li> |<a href="message_002etxt.html#hit_002denter">hit-enter</a>| プロンプト
</li><li> 現在のモードが &rsquo;<samp>mouse</samp>&rsquo; オプションで指定されてゐないときはいつでも
</li><li> GUI で <code class="tt-key">CTRL</code> キーと <code class="tt-key">SHIFT</code> キーを同時に押してゐるとき
</li></ul>

<p>テキストが選擇されてゐても、選擇されてゐないかのやうに、あるいは、選擇に關聯したモードが存在しないかのやうに、Vim が通常の動作を繼續するので、これはモードレス選擇と呼ばれる。Vim ウィンドウの中のどんなテキストでも選擇することができる。
</p>
<p>開始點でマウスの左ボタンを押すことでテキストを選擇し、終點までドラッグして離す。選擇を延長するには、&rsquo;<samp>mousemodel</samp>&rsquo; が &quot;<var>extend</var>&quot; のときにはマウスの右ボタンを使用し、&rsquo;<samp>mousemodel</samp>&rsquo; が &quot;<var>popup</var>&quot; のときにはシフトキーを押しながらマウスの左ボタンを使用する。
</p>
<p>選擇したテキストが變更されると、選擇は解除される。
</p>
<p>コマンドラインでは <kbd>CTRL-Y</kbd> で選擇範圍をクリップボードにコピーできる。插入モード中にコピーするには <kbd>CTRL-O</kbd> を使ひ <kbd>CTRL-Y &lt;CR&gt;</kbd> とする。&rsquo;<samp>guioptions</samp>&rsquo; に a か A が含まれるとき (X11 では既定でさうなつてゐる) は、選擇範圍が自動的にレジスタ &quot;* にコピーされる。
</p>
<p>マウス中ボタンでテキストを貼り付けられる。X11 以外のシステムでは <kbd>CTRL-R +</kbd> を使へば貼り付けられる。
</p>

<span id="gui_002dmouse_002dstatus"></span><span id="index-gui_002dmouse_002dstatus"></span>
<span id="g_t3_002e4-sutetasuXing-denomausunoShi-Yong-"></span><h4 class="unnumberedsubsec">3.4 ステータス行でのマウスの使用</h4>

<p>Vim ウィンドウの下のステータス行でマウスの左ボタンか右のボタンをクリックすることでそのウィンドウがカレントウィンドウになる。これはボタンを放したときに起こる (クリックとドラッグの操作を區別するため)。
</p>
<p>左ボタンを使つてステータス行を上下にドラッグすると、ウィンドウのサイズを上下に變更できる。この操作ではそのウィンドウはカレントウィンドウにならない。
</p>
<p>ウィンドウの垂直の區切りも同樣に機能する。クリックした區切りの左のウィンドウがカレントウィンドウになる。左右にドラッグするとウィンドウの幅を變更できる。
</p>

<span id="gui_002dmouse_002dvarious"></span><span id="index-gui_002dmouse_002dvarious"></span>
<span id="g_t3_002e5-Yang-_0022namausukurituku"></span><h4 class="unnumberedsubsec">3.5 樣々なマウスクリック</h4>

<table>
<tr><td width="30%">&lt;S-LeftMouse&gt;</td><td width="70%">マウスクリックで單語を前方檢索する。&rsquo;<samp>mousemodel</samp>&rsquo; が &quot;<var>popup</var>&quot; のときには、これは選擇を開始するか、あるいは延長する。</td></tr>
<tr><td width="30%">&lt;S-RightMouse&gt;</td><td width="70%">マウスクリックで單語を後方檢索する。</td></tr>
<tr><td width="30%">&lt;C-LeftMouse&gt;</td><td width="70%">マウスクリックでタグ名へジャンプする。</td></tr>
<tr><td width="30%">&lt;C-RightMouse&gt;</td><td width="70%">直前のタグジャンプの前の位置に戾る (&quot;<kbd>CTRL-T</kbd>&quot; と同じ)。</td></tr>
</table>


<span id="gui_002dmouse_002dmapping"></span><span id="index-gui_002dmouse_002dmapping"></span>
<span id="g_t3_002e6-mausumatupingu"></span><h4 class="unnumberedsubsec">3.6 マウスマッピング</h4>

<p>修飾キー付きのマウスイベントをマッピングすることもできる。例へば:
</p><pre class="verbatim">:map &lt;S-LeftMouse&gt;     &lt;RightMouse&gt;
:map &lt;S-LeftDrag&gt;      &lt;RightDrag&gt;
:map &lt;S-LeftRelease&gt;   &lt;RightRelease&gt;
:map &lt;2-S-LeftMouse&gt;   &lt;2-RightMouse&gt;
:map &lt;2-S-LeftDrag&gt;    &lt;2-RightDrag&gt;
:map &lt;2-S-LeftRelease&gt; &lt;2-RightRelease&gt;
:map &lt;3-S-LeftMouse&gt;   &lt;3-RightMouse&gt;
:map &lt;3-S-LeftDrag&gt;    &lt;3-RightDrag&gt;
:map &lt;3-S-LeftRelease&gt; &lt;3-RightRelease&gt;
:map &lt;4-S-LeftMouse&gt;   &lt;4-RightMouse&gt;
:map &lt;4-S-LeftDrag&gt;    &lt;4-RightDrag&gt;
:map &lt;4-S-LeftRelease&gt; &lt;4-RightRelease&gt;
</pre><p>これらのマッピングは、Motif アプリケーションの作法にしたがつて、選擇領域を擴張するために、マウスの右ボタンを使はずに、<code class="tt-key">Shift</code> キーを押しながら左ボタンを押す方法を設定してゐる。
</p>
<p>修飾キーを使つたマウス操作のマッピングはモードレス選擇では機能しない。
</p>

<span id="drag_002dn_002ddrop"></span><span id="index-drag_002dn_002ddrop"></span>
<span id="g_t3_002e7-doratugu_0026dorotupu"></span><h4 class="unnumberedsubsec">3.7 ドラッグ＆ドロップ</h4>

<p>Vim ウィンドウに 1 つ、あるいは複數のファイルをドラッグ＆ドロップすることができる。ファイルは |<a href="windows_002etxt.html#g_t_003adrop">:drop</a>| コマンドを使つたときのやうに開かれる。
</p>
<p><code class="tt-key">Shift</code> キーを同時に押してゐると、Vim はカレントディレクトリをドロップされた最初のファイルがあるディレクトリに變更する。<code class="tt-key">Ctrl</code> キーを同時に押してゐると、ファイルを開くためにウィンドウを分割する。押してなければカレントバッファが變更されてゐないときだけファイルは開かれる。
</p>
<p>ディレクトリを Vim にドロップすることもできる。この操作は explorer プラグインでそのディレクトリを開く (それが利用可能だと想定してゐる。無理ならエラーが表示されるだらう)。<code class="tt-key">Shift</code> キーを同時に押してゐれば、ディレクトリを開かずに、カレントディレクトリをそのディレクトリに變更する。
</p>
<p>コマンドラインを編輯中なら、ドロップされたファイルやディレクトリの名前がカーソル位置に插入される。これは Ex コマンドでそれらの名前を使ふのに便利である。特別な文字 (スペース、タブ、ダブルクォート、&rsquo;|&rsquo;、MS-Windows 以外ではバックスラッシュも) はエスケープされる。
</p>
<span id="gui_002dselections"></span><span id="index-gui_002dselections"></span>
<span id="g_t4_002e-GUIXuan-Ze-noZuo-Cheng-"></span><h3 class="section">4. GUI選擇の作成</h3>

<span id="quotestar"></span><span id="index-quotestar"></span>
<p>マウス (|<a href="#gui_002dmouse_002dselect">gui-mouse-select</a>| を參照) か、あるいは Vim のビジュアルモード (|<a href="visual_002etxt.html#v">v</a>| を參照) を使用して、選擇を作成できる。&rsquo;<samp>guioptions</samp>&rsquo; に &rsquo;<var>a</var>&rsquo; が指定されてゐるなら、いつ選擇 (ビジュアルモードや選擇モード) が開始されるとしても、あるいは選擇が變更されるとしても、Vim がウィンドウシステムの主要な選擇の所有者になる (MS-Windows では |<a href="gui_005fw32_002etxt.html#gui_002dclipboard">gui-clipboard</a>| が用ゐられる。X11 では |<a href="gui_005fx11_002etxt.html#x11_002dselection">x11-selection</a>| が用ゐられる。ここの說明は兩方に共通してゐる)。
</p>
<span id="clipboard"></span><span id="index-clipboard"></span>
<p>選擇を保存するための特別なレジスタがある。それは &quot;* レジスタである。どのテキストが選擇されてゐるかといふ情報が (例へばマウスの左ボタンをクリックするなどして) 變更されるか、あるいは他のアプリケーションが選擇されたテキストを貼り付けようとしない限りここには何も書き出されない。使用されるときにはテキストは &quot;* レジスタに書き出される。例へば、行を切り取つて、それを現在の選擇にして、クリップボードにそれを書き出すためには次のやうにする:
</p><pre class="verbatim">&quot;*dd
</pre>
<p>同樣に、例へば、マウスの中ボタンをクリックするなどして、他のアプリケーションから選擇を貼り付けるときには、選擇は始めに &quot;* レジスタに書き出され、それから他のレジスタと同じやうに插入される。例へば、選擇(クリップボードの內容)を貼り付けるには:
</p><pre class="verbatim">&quot;*p
</pre>
<p>X11 でこのレジスタを使ふには、|<a href="gui_005fx11_002etxt.html#x11_002dselection">x11-selection</a>| も參照。これは深く關聯した &quot;+ レジスタについても說明してゐる。
</p>
<blockquote>
<p><strong>Note:</strong> <br>
ある Vim から他の獨立した Vim にテキストを貼り付けたいときには、選擇のタイプ (文字、行あるいは矩形) もコピーされることに注意する。他のアプリケーションについては、タイプは常に文字である。|<a href="gui_005fx11_002etxt.html#x11_002dcut_002dbuffer">x11-cut-buffer</a>| を介して得たテキストでも、その選擇のタイプは常に失はれる。
</p></blockquote>

<p>&rsquo;<samp>clipboard</samp>&rsquo; オプションに &quot;<var>unnamed</var>&quot; 文字列が含まれてゐるときには、無名レジスタは &quot;* レジスタと同じである。したがつてコマンドの前に &quot;* を付けずに選擇をコピーし貼り付けることができる。
</p>
<span id="menus"></span><span id="index-menus"></span>
<span id="g_t5_002e-meniyu"></span><h3 class="section">5. メニュー</h3>

<p>まづはユーザーマニュアルの |<a href="usr_005f42_002etxt.html">usr_42.txt</a>| を禦覽ください。
</p>

<span id="using_002dmenus"></span><span id="index-using_002dmenus"></span>
<span id="g_t5_002e1-meniyunoShi-Yong-"></span><h4 class="unnumberedsubsec">5.1 メニューの使用</h4>

<p>基本的には、メニューは單にマッピングのやうに使用することができる。自分のメニューを好きなだけたくさん定義することができる。
</p>
<p>長い閒 Vim ユーザーはメニューを十分に使用してこなかつた。しかし自分のメニューやメニュー項目を追加することは大きな力を祕めてゐる。ある一聯のキー操作を覺えられないやうなときに最も便利である。
</p>
<p>別の言語用にメニューを作成するには、|<a href="mlang_002etxt.html#g_t_003amenutrans">:menutrans</a>| を參照。
メニューをまつたく使ひたくない場合は、|<a href="options_002etxt.html#g_t_0027go_002dM_0027">'go-M'</a>| を參照。
</p>
<span id="menu_002evim"></span><span id="index-menu_002evim"></span>
<p>標準のメニューは &quot;$VIMRUNTIME/menu.vim&quot; ファイルから讀み込まれる。パスがどこを指すかについては |<a href="starting_002etxt.html#g_t_0024VIMRUNTIME">$VIMRUNTIME</a>| を參照。ユーザーは自分のメニューを設定することができる。その際に標準のメニューを利用するのはいい考へである。メニューに項目を追加したり、あるいは、標準のメニューが氣に入らなければ、全てのメニューを取り除くことができる |<a href="#g_t_003aunmenu_002dall">:unmenu-all</a>|。<samp>.vimrc</samp> ファイル (<samp>.gvimrc</samp> ファイルではない！) にこの行を追加することで標準のメニューが讀み込まれないやうにすることもできる:
</p><pre class="verbatim">:let did_install_default_menus = 1
</pre><p>メニュー項目の Syntax (シンタックス) も無效にしたいなら:
</p><pre class="verbatim">:let did_install_syntax_menu = 1
</pre><p>Syntax メニューの最初の項目 {譯注:「對應形式をメニューに表示」} を使ふと、利用可能な全てのファイルタイプをメニューに表示できる (讀み込みに少し時閒がかかるかもしれない)。起動時に全てのファイルタイプが表示されてゐるやうにしたければ次の行を加へる:
</p><pre class="verbatim">:let do_syntax_sel_menu = 1
</pre>
<p>以下のメニュー項目は、利用可能なすべてのカーラースキーム、キーマップおよびコンパイラ設定を表示する:
</p><pre class="verbatim">Edit &gt; Color Scheme
Edit &gt; Keymap
Tools &gt; Set Compiler
</pre><p>しかしながら、&rsquo;<samp>runtimepath</samp>&rsquo; 內のディレクトリから關聯するファイルをすべて檢索するので讀み込みに多少時閒がかかる。したがつて、それらは (イベント |<a href="autocmd_002etxt.html#CursorHold">CursorHold</a>| によつて) 遲れて讀み込まれる、もしくは手動で讀み込むこともできる。
</p>
<p>すでに存在するすべての項目を起動時に讀み込んでおきたい場合、以下を加へる:
</p><pre class="verbatim">:let do_no_lazyload_menus = 1
</pre>
<blockquote>
<p><strong>Note:</strong>
menu.vim が讀み込まれるのは、&lsquo;<code>:syntax on</code>&lsquo; もしくは &lsquo;<code>:filetype on</code>&lsquo; が實行されたとき、もしくはユーザーの <samp>.vimrc</samp> ファイルが讀み込まれた後であることに注意。これは、オプション &rsquo;<samp>encoding</samp>&rsquo; およびメッセージ用の言語 (&lsquo;<code>:language messages</code>&lsquo;) がそれより前に設定されてゐなければならないといふことを意味する (もし變更したいのであれば)。
</p></blockquote>

<span id="console_002dmenus"></span><span id="index-console_002dmenus"></span>
<p>このドキュメントは GUI の項目であるけれども、CUI 版の Vim でも實際にメニューを使用することができる。そのときには明示的に |<a href="#menu_002evim">menu.vim</a>| を讀み込まなければならないだらう。それは標準では設定されない。ほぼ實際のメニューシステムのやうにメニューの項目にアクセスするために &rsquo;<samp>wildmenu</samp>&rsquo; を設定して |<a href="#g_t_003aemenu">:emenu</a>| コマンドの使用時にコマンドライン補完を使用することができる。これをするには、<samp>.vimrc</samp> ファイルに次のコマンドを付加しておく:
</p><pre class="verbatim">:source $VIMRUNTIME/menu.vim
:set wildmenu
:set cpo-=&lt;
:set wcm=&lt;C-Z&gt;
:map &lt;F4&gt; :emenu &lt;C-Z&gt;
</pre><p>メニューを開始するには&lt;F4&gt;を押す。そのときにはメニューのエントリを選擇するためにカーソルキーを使用することができる。それを實行するには <code class="tt-key">&lt;Enter&gt;</code> を入力する。キャンセルするには <code class="tt-key">&lt;Esc&gt;</code> を入力する。これはコンパイル時に |<a href="various_002etxt.html#g_t_002bmenu">+menu</a>| 機能を有效にする必要がある。
</p>
<span id="tear_002doff_002dmenus"></span><span id="index-tear_002doff_002dmenus"></span>
<p>GTK+ 2 と Motif は切取りメニュー (Tear-off メニュー) をサポートする。これは少し變はつたメニューで、ポップアップメニューが常に表示されるやうなものである。メニューのウィンドウのサイズの變更が正確に機能しないなら、これはリソースに &quot;Vim*geometry&quot; のやうに設定してゐることが原因かもしれない。もしさうなら代はりに &quot;Vim.geometry&quot; を使用する。
</p>
<p>GTK+ 3 では、GTK+ 3.4 から切取りメニューが非推奬となつた。よつて、GTK+ 3.4 以降とリンクされた gvim ではこの機能は無效化される。
</p>
<p>Win32 GUI バージョンは Motif の切取りメニューをエミュレートする。Motif ユーザーなら簡單に違ひを確認できるだらうが、同じやうに便利に使へると思ふ。|<a href="gui_005fw32_002etxt.html#g_t_003atearoff">:tearoff</a>| コマンドと |<a href="#hidden_002dmenus">hidden-menus</a>| を利用して、メインのメニューバーに項目を作らずに切取りメニューを作ることができる。
</p>

<span id="creating_002dmenus"></span><span id="index-creating_002dmenus"></span>
<span id="g_t5_002e2-Xin-siimeniyunoZuo-Cheng-"></span><h4 class="unnumberedsubsec">5.2 新しいメニューの作成</h4>

<span id="g_t_003ame"></span><span id="g_t_003amenu"></span><span id="g_t_003anoreme"></span><span id="g_t_003anoremenu"></span><span id="g_t_003aam"></span><span id="g_t_003aamenu"></span><span id="g_t_003aan"></span><span id="g_t_003aanoremenu"></span><span id="g_t_003anme"></span><span id="g_t_003anmenu"></span><span id="g_t_003annoreme"></span><span id="g_t_003annoremenu"></span><span id="g_t_003aome"></span><span id="g_t_003aomenu"></span><span id="g_t_003aonoreme"></span><span id="g_t_003aonoremenu"></span><span id="g_t_003avme"></span><span id="g_t_003avmenu"></span><span id="g_t_003avnoreme"></span><span id="g_t_003avnoremenu"></span><span id="g_t_003axme"></span><span id="g_t_003axmenu"></span><span id="g_t_003axnoreme"></span><span id="g_t_003axnoremenu"></span><span id="g_t_003asme"></span><span id="g_t_003asmenu"></span><span id="g_t_003asnoreme"></span><span id="g_t_003asnoremenu"></span><span id="g_t_003aime"></span><span id="g_t_003aimenu"></span><span id="g_t_003ainoreme"></span><span id="g_t_003ainoremenu"></span><span id="g_t_003acme"></span><span id="g_t_003acmenu"></span><span id="g_t_003acnoreme"></span><span id="g_t_003acnoremenu"></span><span id="g_t_003atlm"></span><span id="g_t_003atlmenu"></span><span id="g_t_003atln"></span><span id="g_t_003atlnoremenu"></span><span id="E330"></span><span id="E327"></span><span id="E331"></span><span id="E336"></span><span id="E333"></span><span id="E328"></span><span id="E329"></span><span id="E337"></span><span id="E792"></span><span id="index-_003ame"></span>
<span id="index-_003amenu"></span>
<span id="index-_003anoreme"></span>
<span id="index-_003anoremenu"></span>
<span id="index-_003aam"></span>
<span id="index-_003aamenu"></span>
<span id="index-_003aan"></span>
<span id="index-_003aanoremenu"></span>
<span id="index-_003anme"></span>
<span id="index-_003anmenu"></span>
<span id="index-_003annoreme"></span>
<span id="index-_003annoremenu"></span>
<span id="index-_003aome"></span>
<span id="index-_003aomenu"></span>
<span id="index-_003aonoreme"></span>
<span id="index-_003aonoremenu"></span>
<span id="index-_003avme"></span>
<span id="index-_003avmenu"></span>
<span id="index-_003avnoreme"></span>
<span id="index-_003avnoremenu"></span>
<span id="index-_003axme"></span>
<span id="index-_003axmenu"></span>
<span id="index-_003axnoreme"></span>
<span id="index-_003axnoremenu"></span>
<span id="index-_003asme"></span>
<span id="index-_003asmenu"></span>
<span id="index-_003asnoreme"></span>
<span id="index-_003asnoremenu"></span>
<span id="index-_003aime"></span>
<span id="index-_003aimenu"></span>
<span id="index-_003ainoreme"></span>
<span id="index-_003ainoremenu"></span>
<span id="index-_003acme"></span>
<span id="index-_003acmenu"></span>
<span id="index-_003acnoreme"></span>
<span id="index-_003acnoremenu"></span>
<span id="index-_003atlm"></span>
<span id="index-_003atlmenu"></span>
<span id="index-_003atln"></span>
<span id="index-_003atlnoremenu"></span>
<span id="index-E330"></span>
<span id="index-E327"></span>
<span id="index-E331"></span>
<span id="index-E336"></span>
<span id="index-E333"></span>
<span id="index-E328"></span>
<span id="index-E329"></span>
<span id="index-E337"></span>
<span id="index-E792"></span>
<p>新しいメニュー項目を作るには、&quot;<code>:menu</code>&quot; コマンドを使用する。これはほとんど &quot;<code>:map</code>&quot; のコマンド群 (|<a href="map_002etxt.html#map_002dmodes">map-modes</a>| を參照) と同じだが最初の引數はメニュー項目の名前であり、&rsquo;.&rsquo; で區切つたメニューとサブメニューのパスとして與へられる。例へば:
</p>
<pre class="verbatim">:menu File.Save  :w&lt;CR&gt;
:inoremenu File.Save  &lt;C-O&gt;:w&lt;CR&gt;
:menu Edit.Big\ Changes.Delete\ All\ Spaces  :%s/[ ^I]//g&lt;CR&gt;
</pre>
<p>この最後の1つはメニューバーに &quot;Edit&quot; といふ新しい項目を作る、そしてその上でマウスのボタンを押すと &quot;Big Changes&quot; といふ項目を含んだメニューが表示されるだらう。&quot;Big Changes&quot; は &quot;Delete All Spaces&quot; といふ項目を含むサブメニューを持つてゐて、その項目を選擇すると操作が實行される。
</p>
<p>Terminal モード用のメニューを作成するためには、キーマッピング (|<a href="map_002etxt.html#g_t_003atmap">:tmap</a>|) とは異なり、|<a href="#g_t_003atmenu">:tmenu</a>| の代はりに |<a href="#g_t_003atlmenu">:tlmenu</a>| を使用する。これは |<a href="#g_t_003atmenu">:tmenu</a>| がツールチップメニューを定義するためにすでに使はれてゐるため。|<a href="terminal_002etxt.html#terminal_002dtyping">terminal-typing</a>| を參照。
</p>
<p>メニュー名での特殊文字:
</p>
<table>
<tr><td width="10%">&amp;</td><td width="90%">この文字の次の文字はショートカットキーである。どのショートカットキーも (サブ) メニューの中で 1 度だけしか使用されてゐないことを確認すること。メニュー名に &quot;&amp;&quot; を入れるには &quot;&amp;&amp;&quot; とする。</td></tr>
<tr><td width="10%">&lt;Tab&gt;</td><td width="90%">メニューの名前をそこで區切つて以降を右詰めにする。實行する操作をそろへて表示するのに便利である。使ひやすいやうに文字として &quot;&lt;Tab&gt;&quot; をそのまま書けばいいやうになつてゐる。本當のTab文字を使用するなら、その前にバックスラッシュを付けること！</td></tr>
</table>
<p>例:
</p><pre class="verbatim">:amenu &amp;File.&amp;Open&lt;Tab&gt;:e  :browse e&lt;CR&gt;
</pre>
<p>[文字通りタイプする]
</p>
<p>(<code class="tt-key">&lt;Alt&gt;</code> キーと同時に) ショートカットキーの &quot;F&quot; を押し、それから &quot;O&quot; を押すと、このメニューを使用できる。Openの項目は &quot;&lsquo;<samp>Open     :e</samp>&rsquo;&quot; のやうに表示される。&quot;:e&quot; は右詰めされ、&quot;O&quot; にはショートカットであることを示すために下線が引かれる。
</p>
<p>&quot;<code>:amenu</code>&quot; コマンドは Terminal モードを除く全てのモードで使へるメニューの項目を 1 度に定義することができる。コマンドを正確に機能させるために、いくつかのモード用に自動的に文字が付加される:
</p><table>
<thead><tr><th width="40%">モード</th><th width="30%">前に付加</th><th width="30%">後ろに付加</th></tr></thead>
<tr><td width="40%">ノーマルモード</td><td width="30%">なし</td><td width="30%">なし</td></tr>
<tr><td width="40%">ビジュアルモード</td><td width="30%">&lt;C-C&gt;</td><td width="30%">&lt;C-\&gt;&lt;C-G&gt;</td></tr>
<tr><td width="40%">插入モード</td><td width="30%">&lt;C-\&gt;&lt;C-O&gt;</td><td width="30%"></td></tr>
<tr><td width="40%">コマンドラインモード</td><td width="30%">&lt;C-C&gt;</td><td width="30%">&lt;C-\&gt;&lt;C-G&gt;</td></tr>
<tr><td width="40%">オペレータ待機モード</td><td width="30%">&lt;C-C&gt;</td><td width="30%">&lt;C-\&gt;&lt;C-G&gt;</td></tr>
</table>

<p>後ろに付加される CTRL-\ CTRL-G は &rsquo;<samp>insertmode</samp>&rsquo; が設定されてゐるときには插入モードに戾る。|<a href="intro_002etxt.html#CTRL_002d_005c_005fCTRL_002dG">CTRL-\_CTRL-G</a>| を參照。
</p>
<p>例:
</p><pre class="verbatim">:amenu File.Next        :next^M
</pre>
<p>は以下と同じである:
</p><pre class="verbatim">:nmenu File.Next     :next^M
:vmenu File.Next     ^C:next^M^\^G
:imenu File.Next     ^\^O:next^M
:cmenu File.Next     ^C:next^M^\^G
:omenu File.Next     ^C:next^M^\^G
</pre>
<blockquote>
<p><strong>注意:</strong> <br>
插入モードでは 1 つのノーマルモードのコマンドに對してだけ機能する。これは <kbd>CTRL-O</kbd> の仕樣による。2 つ以上のコマンドを使ふには、&quot;<code>:imenu</code>&quot; コマンドを使用する必要がある。どのモードでもテキストを插入するために式レジスタ (&rsquo;=&rsquo; レジスタ) を使用することができる:
</p><pre class="verbatim">:amenu Insert.foobar   &quot;='foobar'&lt;CR&gt;P
</pre></blockquote>

<blockquote>
<p><strong>Note:</strong> <br>
&rsquo;<samp>cpoptions</samp>&rsquo; の中の &rsquo;&lt;&rsquo; フラグと &rsquo;k&rsquo; フラグが適用される (含まれてゐたときには、&lt;&gt; による特殊キーの書式や生のキーコードは認識されない)。
</p></blockquote>

<blockquote>
<p><strong>Note:</strong> <br>
コマンドラインモードでの &lt;Esc&gt; はマッピングで使用されたときと同樣に (入力をキャンセルするのではなく) コマンドを實行する。これは Vi 互換である。コマンドラインモードを終了するには <kbd>CTRL-C</kbd> を使用する。
</p>
<p>{譯注: |<a href="cmdline_002etxt.html#c_005f_003cEsc_003e">c_&lt;Esc&gt;</a>| を參照}
</p></blockquote>

<span id="g_t_003amenu_002d_003csilent_003e"></span><span id="g_t_003amenu_002dsilent"></span><span id="index-_003amenu_002d_003csilent_003e"></span>
<span id="index-_003amenu_002dsilent"></span>
<p>實行したコマンドをコマンドラインに表示しないやうなメニューを定義するには、最初の引數に &quot;&lt;silent&gt;&quot; を加へる。例:
</p><pre class="verbatim">:menu &lt;silent&gt; Settings.Ignore\ case  :set ic&lt;CR&gt;
</pre><p>これでこのメニューを使つても &quot;:set ic&quot; はコマンドラインに表示されない。それでも實行したコマンドの出力は表示される。それを表示しないやうにするには、&quot;:silent&quot; を付けてコマンドを實行する:
</p><pre class="verbatim">:menu &lt;silent&gt; Search.Header :exe &quot;:silent normal /Header\r&quot;&lt;CR&gt;
</pre><p>&quot;&lt;silent&gt;&quot; は &quot;&lt;special&gt;&quot; や &quot;&lt;script&gt;&quot; の直後に書いてもよい。
</p>
<span id="g_t_003amenu_002d_003cspecial_003e"></span><span id="g_t_003amenu_002dspecial"></span><span id="index-_003amenu_002d_003cspecial_003e"></span>
<span id="index-_003amenu_002dspecial"></span>
<p>&rsquo;<samp>cpoptions</samp>&rsquo; にフラグ &quot;<var>&lt;</var>&quot; が含まれてゐるときでも、メニューを定義する際には &lt;&gt; 記法で特殊なキーを表すことができる。これは &rsquo;<samp>cpoptions</samp>&rsquo; の副作用が望ましくない場合に便利である。例:
</p><pre class="verbatim">:menu &lt;special&gt; Search.Header /Header&lt;CR&gt;
</pre><p>&quot;&lt;special&gt;&quot; はコマンド :menu の引數の一番最初か、&quot;&lt;silent&gt;&quot; や &quot;&lt;script&gt;&quot; の直後に書かねばならない。
</p>
<span id="g_t_003amenu_002d_003cscript_003e"></span><span id="g_t_003amenu_002dscript"></span><span id="index-_003amenu_002d_003cscript_003e"></span>
<span id="index-_003amenu_002dscript"></span>
<p>メニューに指定されたコマンドにはマッピングが適用される。適用しないやうにするには、&quot;<code>:noremenu</code>&quot; コマンド (とそれに類するモード別のコマンド) を使ふ。スクリプトローカルなマッピングを使ふには &quot;<code>:menu</code>&quot; コマンドの最初の引數、あるいは &quot;&lt;silent&gt;&quot; の次に &quot;&lt;script&gt;&quot; と書く。
</p>
<p>{譯注: これは &lt;SID&gt; で指定した部分だけがマッピングされる。例:
</p><pre class="verbatim">nnoremenu &lt;script&gt; AAA.BBB :echo &quot;&lt;SID&gt;LM&quot; &quot;LM&quot;&lt;CR&gt;
cnoremap &lt;SID&gt;LM 'This is script-local mapping'
cnoremap LM 'This is not used'
</pre><p>スクリプトファイルでこのやうに設定し、メニューの AAA.BBB を實行すると
</p><pre class="verbatim">'This is script-local mapping' LM
</pre><p>と表示される。&quot;&lt;SID&gt;LM&quot; はマッピングされ、&quot;LM&quot; はマッピングされてゐない。}
</p>
<span id="menu_002dpriority"></span><span id="index-menu_002dpriority"></span>
<p>メニューに優先度を與へることができる。より高い優先度を與へられたメニューほど右に配置される。優先度は &quot;<code>:menu</code>&quot; コマンドの前の數字で與へれられる。例:
</p><pre class="verbatim">:80menu Buffer.next :bn&lt;CR&gt;
</pre>
<p>標準のメニューはこれらの優先度を持つ:
</p><pre class="verbatim">File            10
Edit            20
Tools           40
Syntax          50
Buffers         60
Window          70
Help            9999
</pre>
<p>優先度を指定しない、あるいはゼロを指定すると、500 が用ゐられる。ポップアップメニューに對しては優先度は意味を持たない。
</p>
<p>對應してゐるシステム (Motif と GTK+) では、「ヘルプ」メニューはメニューバーの右端に離れて配置される。これは GTK+ 2 と 3 では、もはや認められないユーザーインターフェイスデザインのため行はれない。
</p>
<p>ヘルプメニューの後ろに置くために、9999 より高い優先度を使用することができるが、それは非標準であり、推奬しない。優先度の取り得る値は最高で約 32000 である。最低は 1 である。
</p>
<span id="sub_002dmenu_002dpriority"></span><span id="index-sub_002dmenu_002dpriority"></span>
<p>同樣にサブメニューも配置を指定できる。優先度は、メニュー名の前に、ドット區切りの優先度のリストとして指定する:
</p><pre class="verbatim">:menu 80.500 Buffer.next :bn&lt;CR&gt;
</pre><p>サブメニューの優先度を與へる必要があるのは、項目を配置する位置を指定したいときだけである。例へば、他の項目の前にサブメニューを置くには:
</p><pre class="verbatim">:menu 80.100 Buffer.first :brew&lt;CR&gt;
</pre><p>あるいは他の項目の後にサブメニューを置いて、標準設定の優先度を持つ項目がその前に置かれるやうにするには:
</p><pre class="verbatim">:menu 80.900 Buffer.last :blast&lt;CR&gt;
</pre><p>數字が拔けてゐるときには、標準設定の500が用ゐられる:
</p><pre class="verbatim">:menu .900 myMenu.test :echo &quot;text&quot;&lt;CR&gt;
</pre><p>メニューの優先度はメニューを新しく生成するときだけ用ゐられる。すでにあるとき、例へば、別のモードで定義されてゐたときには、優先度は變更されない。したがつて、優先度はメニューを最初に定義するときだけ與へる必要がある。
</p>
<p>例外はポップアップメニューである。各モード (ノーマルモード、オペレータ待機モード、ビジュアルモード、插入モード、コマンドラインモード) に別々のメニューがある。これらのメニューは順序が異なつてもよい。これはメニューバーのメニューとは異なる。メニューバーのメニューは全てのモードで同じ順序である。
</p><blockquote>
<p><strong>Note:</strong> <br>
サブメニューの優先度は現在全ての GUI のバージョンで機能する譯ではない。
</p></blockquote>

<span id="menu_002dseparator"></span><span id="E332"></span><span id="index-menu_002dseparator"></span>
<span id="index-E332"></span>
<p>メニューの各項目は特殊なメニュー項目を使つて區切ることができる。それはシステムによるが、線や點線として表示される。そのやうな項目の名前は &rsquo;-&rsquo; で始めて &rsquo;-&rsquo; で終はるやうに定義する。閒には一意な名前を挾むことができる。普通のメニュー項目と同樣に優先度を設定することもできる。
</p>
<p>例:
</p><pre class="verbatim">:menu Example.item1     :do something
:menu Example.-Sep-     :
:menu Example.item2     :do something different
</pre><blockquote>
<p><strong>Note:</strong> <br>
區切りの定義にはコマンドの指定が必要である。そのメニュー項目は選擇することができないので、內容はなんでも構はない。ただ單にコロン (:) を 1 つ書いておくだけでいい。
</p></blockquote>

<span id="gui_002dtoolbar"></span><span id="index-gui_002dtoolbar"></span>
<p>ツールバーは今のところ MacVim, Win32, Athena, Motif, GTK+ (X11), Photon GUI で利用可能である。いづれは他の GUI でも使へるやうになるだらう。標準のツールバーは menu.vim で定義されてゐる。(<strong>Note:</strong> MacVim のツールバーは &quot;$VIM/gvimrc&quot; で修正されてゐることに注意。)
</p>
<p>ツールバーの表示は &rsquo;<samp>guioptions</samp>&rsquo; の文字 &rsquo;T&rsquo; によつて制禦される。したがつて、メニューとツールバーを同時に、あるいはどちらかだけを表示することもできるし、兩方とも非表示にすることもできる。
</p>
<p>表示方法は &rsquo;<samp>toolbar</samp>&rsquo; オプションで變更できる。畫像かテキスト、もしくは兩方を表示するかを選擇できる。
</p>
<span id="toolbar_002dicon"></span><span id="index-toolbar_002dicon"></span>
<p>ツールバーは、1 つのレベルだけを持つ ToolBar と呼ばれる特別なメニューとして定義されてゐる。Vim はこのメニューの項目を以下のやうに解釋する:
</p><ul>
<li> 1) &quot;icon=&quot; 引數が與へられたときは、そのファイルが使はれる。ファイル名にはフルパスか、ファイル名のみを指定する。後者の場合には、そのファイルは 3) の場合と同じやうに &rsquo;<samp>runtimepath</samp>&rsquo; の &quot;<var>bitmaps</var>&quot; ディレクトリから檢索される。例:
<pre class="verbatim">:amenu icon=/usr/local/pixmaps/foo_icon.xpm ToolBar.Foo :echo &quot;Foo&quot;&lt;CR&gt;
:amenu icon=FooIcon ToolBar.Foo :echo &quot;Foo&quot;&lt;CR&gt;
</pre><blockquote>
<p><strong>Note:</strong> <br>
最初の例では擴張子も含めてゐる。2 番目の例では擴張子は省略されてゐる。ファイルが開けなければ 2) を試す。ファイル名に空白を含めるにはバックスラッシュでエスケープする。メニューの優先度は icon の引數の後に指定する:
</p><pre class="verbatim">:amenu icon=foo 1.42 ToolBar.Foo :echo &quot;42!&quot;&lt;CR&gt;
</pre></blockquote>
</li><li> 2) &rsquo;BuiltIn##&rsquo; (##は數字である) といふ名前の項目は Vim で利用可能な組み込みのビットマップの番號##を使用するとみなされる。今のところ、0 から 30 までの 31 個の一般的な編輯操作のものが用意されてゐる |<a href="#builtin_002dtools">builtin-tools</a>|:
<pre class="verbatim">:amenu ToolBar.BuiltIn22 :call SearchNext(&quot;back&quot;)&lt;CR&gt;
</pre></li><li> 3) 2) 以外の名前を持つ項目は最初に &rsquo;<samp>runtimepath</samp>&rsquo; の &quot;<var>bitmaps</var>&quot; ディレクトリから檢索される。もしあればそのビットマップファイルがツールバーボタンのイメージとして用ゐられる。
<blockquote>
<p><strong>Note:</strong> <br>
正確なファイル名は OS 特有であることに注意する: 例へば、Win32 でのコマンド
</p><pre class="verbatim">:amenu ToolBar.Hello :echo &quot;hello&quot;&lt;CR&gt;
</pre><p>は、&rsquo;<samp>hello.bmp</samp>&rsquo; ファイルを檢索するだらう。GTK+/X11 では &rsquo;<samp>Hello.xpm</samp>&rsquo; である。GTK+ 2 では &rsquo;Hello.png&rsquo;, &rsquo;Hello.xpm&rsquo;, &rsquo;Hello.bmp&rsquo; がチェックされ、最初に見つかつたものが使はれる。
</p></blockquote>
<p>MS-Windows と GTK+ 2 ではビットマップはボタンの大きさに合はせて擴大縮小される。MS-Windows では縱 18 橫 18 のサイズがちやうどいいだらう。
</p>
<p>MS-Windows ではビットマップは 16 色の標準パレットを使つた物である。明るい灰色はウィンドウのフレームの色に變更され、暗い灰色はウィンドウの影の色に變更される。システムに依存するが、16 色よりも色が多くても問題ないだらう。
</p></li><li> 4) ビットマップがまだ見つからないならば、Vim は組み込みの名前のリストに對して同等のものを探す。どの組み込みのボタンイメージも名前を持つてゐる。
だから、コマンド
<pre class="verbatim">:amenu ToolBar.Open :e
</pre><p>は、open.bmp が存在しなければ、組み込みの &quot;open a file&quot; ボタンイメージを表示するだらう。全ての組み込みの名前は menu.vim で用ゐられてゐるので確認できる。
</p></li><li> 5) 全てが失敗すると、空白だが、ちやんと機能する、ボタンが表示される。
</li></ul>

<span id="builtin_002dtools"></span><span id="index-builtin_002dtools"></span>
<table>
<thead><tr><th width="10%">番號</th><th width="20%">名前</th><th width="70%">通常の動作</th></tr></thead>
<tr><td width="10%">00</td><td width="20%">New</td><td width="70%">新しいウィンドウを開く</td></tr>
<tr><td width="10%">01</td><td width="20%">Open</td><td width="70%">現在のウィンドウで開くためにファイルをブラウズする</td></tr>
<tr><td width="10%">02</td><td width="20%">Save</td><td width="70%">バッファをファイルに保存する</td></tr>
<tr><td width="10%">03</td><td width="20%">Undo</td><td width="70%">最後の變更を取り消す</td></tr>
<tr><td width="10%">04</td><td width="20%">Redo</td><td width="70%">最後の取り消した變更をやり直す</td></tr>
<tr><td width="10%">05</td><td width="20%">Cut</td><td width="70%">選擇されたテキストを削除しクリップボードへ送る</td></tr>
<tr><td width="10%">06</td><td width="20%">Copy</td><td width="70%">選擇されたテキストをクリップボードにコピーする</td></tr>
<tr><td width="10%">07</td><td width="20%">Paste</td><td width="70%">クリップボードからテキストをペーストする</td></tr>
<tr><td width="10%">08</td><td width="20%">Print</td><td width="70%">現在のバッファを印刷する</td></tr>
<tr><td width="10%">09</td><td width="20%">Help</td><td width="70%">Vim の組み込みのヘルプでバッファを開く</td></tr>
<tr><td width="10%">10</td><td width="20%">Find</td><td width="70%">檢索コマンドを開始する</td></tr>
<tr><td width="10%">11</td><td width="20%">SaveAll</td><td width="70%">全ての修正されたバッファをファイルに保存する</td></tr>
<tr><td width="10%">12</td><td width="20%">SaveSesn</td><td width="70%">現在の狀態をセッションファイルに保存する</td></tr>
<tr><td width="10%">13</td><td width="20%">NewSesn</td><td width="70%">新しいセッションファイルに保存する</td></tr>
<tr><td width="10%">14</td><td width="20%">LoadSesn</td><td width="70%">セッションファイルを讀み込む</td></tr>
<tr><td width="10%">15</td><td width="20%">RunScript</td><td width="70%">Vim script として實行するためにファイルをブラウズする</td></tr>
<tr><td width="10%">16</td><td width="20%">Replace</td><td width="70%">置換コマンドのためのプロンプト</td></tr>
<tr><td width="10%">17</td><td width="20%">WinClose</td><td width="70%">現在のウィンドウを閉ぢる</td></tr>
<tr><td width="10%">18</td><td width="20%">WinMax</td><td width="70%">現在のウィンドウに使用する行數を最大にする</td></tr>
<tr><td width="10%">19</td><td width="20%">WinMin</td><td width="70%">現在のウィンドウに使用する行數を最小にする</td></tr>
<tr><td width="10%">20</td><td width="20%">WinSplit</td><td width="70%">現在のウィンドウを分割する</td></tr>
<tr><td width="10%">21</td><td width="20%">Shell</td><td width="70%">シェルを開始する</td></tr>
<tr><td width="10%">22</td><td width="20%">FindPrev</td><td width="70%">後方に再檢索する</td></tr>
<tr><td width="10%">23</td><td width="20%">FindNext</td><td width="70%">前方に再檢索する</td></tr>
<tr><td width="10%">24</td><td width="20%">FindHelp</td><td width="70%">ヘルプを檢索する單語のためのプロンプト</td></tr>
<tr><td width="10%">25</td><td width="20%">Make</td><td width="70%">make を實行し最初のエラーにジャンプする</td></tr>
<tr><td width="10%">26</td><td width="20%">TagJump</td><td width="70%">カーソルの下の tag にジャンプする</td></tr>
<tr><td width="10%">27</td><td width="20%">RunCtags</td><td width="70%">現在のディレクトリのファイルに對して tags を作成する</td></tr>
<tr><td width="10%">28</td><td width="20%">WinVSplit</td><td width="70%">現在のウィンドウを縱分割する</td></tr>
<tr><td width="10%">29</td><td width="20%">WinMaxWidth</td><td width="70%">現在のウィンドウの幅を最大化する</td></tr>
<tr><td width="10%">30</td><td width="20%">WinMinWidth</td><td width="70%">現在のウィンドウの幅を最小化する</td></tr>
</table>

<span id="hidden_002dmenus"></span><span id="win32_002dhidden_002dmenus"></span><span id="index-hidden_002dmenus"></span>
<span id="index-win32_002dhidden_002dmenus"></span>
<p>Win32, MacVim と GTK+ GUI では、&rsquo;]&rsquo; で始まるメニュー名はメインのメニューバーから除外される。それを表示するには |<a href="#g_t_003apopup">:popup</a>| か |<a href="gui_005fw32_002etxt.html#g_t_003atearoff">:tearoff</a>| コマンドを使用しなければならない。
</p>
<span id="window_002dtoolbar"></span><span id="WinBar"></span><span id="index-window_002dtoolbar"></span>
<span id="index-WinBar"></span>
<p>各ウィンドウはローカルなツールバーを持つことができる。これはウィンドウの先頭行を使用し、したがつてテキスト用の領域は 1 行少なくなる。ツールバー內の項目は &quot;WinBar&quot; で始まらなければならない。
</p>
<p>テキストのみを使用することができる。Unicode を使用する場合、項目をアイコンのやうに見せるために特殊文字を使ふことができる。
</p>
<p>項目が收まらない場合、最後の項目は使用することができない。ツールバーは折り返されない。
</p>
<blockquote>
<p><strong>Note:</strong> <br>
これらのコマンドを實行してゐるとき、Vim はどのモードでもありうることに注意。メニューはノーマルモード用に定義されるべきで、かつ現狀のモードを變へることなく實行される。したがつて、カレントウィンドウがビジュアルモードで、かつメニューコマンドが意圖的にモードを變へない場合、Vim はビジュアルモードのままである。もつともよいのは、副作用を避けるために &lsquo;<code>:nnoremenu</code>&lsquo; を使用することである。
</p>
<p>デバッガツールの例:
</p><pre class="verbatim">nnoremenu 1.10 WinBar.Step :Step&lt;CR&gt;
nnoremenu 1.20 WinBar.Next :Next&lt;CR&gt;
nnoremenu 1.30 WinBar.Finish :Finish&lt;CR&gt;
nnoremenu 1.40 WinBar.Cont :Continue&lt;CR&gt;
</pre><p>ウィンドウツールバーは ToolbarLine および ToolbarButton ハイライトグループを使用する。
</p>
<p>ウィンドウを分割する際、ウィンドウツールバーは新しいウィンドウにはコピーされない。
</p></blockquote>

<span id="popup_002dmenu"></span><span id="index-popup_002dmenu"></span>
<p>Win32, GTK+, Motif, Athena, Photon GUI では、特別なメニュー &quot;PopUp&quot; を定義することができる。これは、&rsquo;<samp>mousemodel</samp>&rsquo; が popup あるいは popup_setpos に設定されてゐるときに、マウスの右ボタンが押されると表示されるメニューである。
例:
</p><pre class="verbatim">nnoremenu 1.40 PopUp.&amp;Paste	&quot;+gP
menu PopUp
</pre>

<span id="showing_002dmenus"></span><span id="index-showing_002dmenus"></span>
<span id="g_t5_002e3-meniyunoDing-Yi-woBiao-Shisuru"></span><h4 class="unnumberedsubsec">5.3 メニューの定義を表示する</h4>

<p>メニューがどのやうに定義されてゐるかを確認するには、(&quot;<code>:map</code>&quot; コマンドでするのと全く同樣に) menu コマンドの後にたつた 1 つの引數を指定するだけである。指定されたメニューがサブメニューならば、その階層の下の全てのメニューが表示される。:menu の後に引數を與へなければ、適切なモードに對する全てのメニュー項目が表示される (例へば、コマンドラインモードに對して :cmenu)。
</p>
<p>メニュー項目の一覽には、指定されたコマンドの前に特別な文字が表示される:
</p><table>
<tr><td width="10%">*</td><td width="90%">そのメニュー項目は再マッピングを避けるために &quot;nore&quot; を付けて定義された</td></tr>
<tr><td width="10%">&amp;</td><td width="90%">そのメニュー項目は再マッピングをスクリプトローカルに限定するために &quot;&lt;script&gt;&quot; を付けて定義された</td></tr>
<tr><td width="10%">-</td><td width="90%">そのメニュー項目は非表示である</td></tr>
</table>

<blockquote>
<p><strong>Note:</strong> <br>
menu コマンドでメニューの名前を入力してゐるときに <code class="tt-key">&lt;Tab&gt;</code> を打つと名前が補完される (設定による)。
</p></blockquote>


<span id="execute_002dmenus"></span><span id="index-execute_002dmenus"></span>
<span id="g_t5_002e4-meniyunoShi-Xing-"></span><h4 class="unnumberedsubsec">5.4 メニューの實行</h4>

<span id="g_t_003aem"></span><span id="g_t_003aemenu"></span><span id="E334"></span><span id="E335"></span><span id="index-_003aem"></span>
<span id="index-_003aemenu"></span>
<span id="index-E334"></span>
<span id="index-E335"></span>
<dl compact="compact">
<dt>:[range]em[enu] {menu}</dt>
<dd><p>コマンドラインから {menu} を實行する。
</p>
<p>通常はノーマルモードのメニューを實行する。實行範圍が與へられたときは、ビジュアルモードのメニューを實行する。
</p>
<p>&lt;c-o&gt; から實行されたときは、插入モードのメニューを實行する。例:
</p><pre class="verbatim">:emenu File.Exit
</pre>
</dd>
<dt>:[range]em[enu] {mode} {menu}</dt>
<dd><p>上記と同樣だが、{mode} のためのメニューは除く:
</p><table>
<tr><td width="50%">&rsquo;n&rsquo;: |<a href="#g_t_003anmenu">:nmenu</a>|</td><td width="50%">ノーマルモード</td></tr>
<tr><td width="50%">&rsquo;v&rsquo;: |<a href="#g_t_003avmenu">:vmenu</a>|</td><td width="50%">ビジュアルモード</td></tr>
<tr><td width="50%">&rsquo;s&rsquo;: |<a href="#g_t_003asmenu">:smenu</a>|</td><td width="50%">選擇モード</td></tr>
<tr><td width="50%">&rsquo;o&rsquo;: |<a href="#g_t_003aomenu">:omenu</a>|</td><td width="50%">オペレータ待機モード</td></tr>
<tr><td width="50%">&rsquo;t&rsquo;: |<a href="#g_t_003atlmenu">:tlmenu</a>|</td><td width="50%">Terminal モード</td></tr>
<tr><td width="50%">&rsquo;i&rsquo;: |<a href="#g_t_003aimenu">:imenu</a>|</td><td width="50%">插入モード</td></tr>
<tr><td width="50%">&rsquo;c&rsquo;: |<a href="#g_t_003acmenu">:cmenu</a>|</td><td width="50%">コマンドラインモード</td></tr>
</table>
</dd>
</dl>


<p>CUI 版の vim を WANT_MENU を定義してコンパイルしたなら、<code>:emenu</code> を使つて GUI のときと同じやうに便利なメニューを使用できる。その際に &rsquo;<samp>wildmenu</samp>&rsquo; を設定しておくと便利である。使用例は |<a href="#console_002dmenus">console-menus</a>| を參照。
</p>
<p>範圍を指定するとき、&rsquo;&lt;,&rsquo;&gt; と指定すると、最後にビジュアル選擇した範圍に對して實行される。
</p>

<span id="delete_002dmenus"></span><span id="index-delete_002dmenus"></span>
<span id="g_t5_002e5-meniyunoXue-Chu-"></span><h4 class="unnumberedsubsec">5.5 メニューの削除</h4>

<span id="g_t_003aunme"></span><span id="g_t_003aunmenu"></span><span id="g_t_003aaun"></span><span id="g_t_003aaunmenu"></span><span id="g_t_003anunme"></span><span id="g_t_003anunmenu"></span><span id="g_t_003aounme"></span><span id="g_t_003aounmenu"></span><span id="g_t_003avunme"></span><span id="g_t_003avunmenu"></span><span id="g_t_003axunme"></span><span id="g_t_003axunmenu"></span><span id="g_t_003asunme"></span><span id="g_t_003asunmenu"></span><span id="g_t_003aiunme"></span><span id="g_t_003aiunmenu"></span><span id="g_t_003acunme"></span><span id="g_t_003acunmenu"></span><span id="g_t_003atlu"></span><span id="g_t_003atlunmenu"></span><span id="index-_003aunme"></span>
<span id="index-_003aunmenu"></span>
<span id="index-_003aaun"></span>
<span id="index-_003aaunmenu"></span>
<span id="index-_003anunme"></span>
<span id="index-_003anunmenu"></span>
<span id="index-_003aounme"></span>
<span id="index-_003aounmenu"></span>
<span id="index-_003avunme"></span>
<span id="index-_003avunmenu"></span>
<span id="index-_003axunme"></span>
<span id="index-_003axunmenu"></span>
<span id="index-_003asunme"></span>
<span id="index-_003asunmenu"></span>
<span id="index-_003aiunme"></span>
<span id="index-_003aiunmenu"></span>
<span id="index-_003acunme"></span>
<span id="index-_003acunmenu"></span>
<span id="index-_003atlu"></span>
<span id="index-_003atlunmenu"></span>
<p>メニュー項目やサブメニュー全體を削除するには、unmap コマンドによく似た unmenu コマンドを使用する。例へば:
</p><pre class="verbatim">:unmenu! Edit.Paste
</pre>
<p>これは插入モードとコマンドラインモードでの操作を Edit メニューの項目 Paste から取り除く。
</p>
<blockquote>
<p><strong>Note:</strong> <br>
umenu コマンドでメニューの名前を入力してゐるときに <code class="tt-key">&lt;Tab&gt;</code> を打つと名前が補完される (設定による)。
</p></blockquote>

<span id="g_t_003aunmenu_002dall"></span><span id="index-_003aunmenu_002dall"></span>
<p>全てのメニューを取り除くには次のやうにする:
</p><pre class="verbatim">:unmenu *       &quot; ノーマルモードとビジュアルモードの全てのメニューを取り除く
:unmenu! *      &quot; 插入モードとコマンドラインモードの全てのメニューを取り除く
:aunmenu *      &quot; 端末モードを除く全てのモードの全てのメニューを取り除く
:tlunmenu *     &quot; 端末モードの全てのメニューを取り除く
</pre>
<p>メニューバーを非表示にするには:
</p><pre class="verbatim">:set guioptions-=m
</pre>

<span id="disable_002dmenus"></span><span id="index-disable_002dmenus"></span>
<span id="g_t5_002e6-meniyuwoWu-Xiao-nisuru"></span><h4 class="unnumberedsubsec">5.6 メニューを無效にする</h4>

<span id="g_t_003amenu_002ddisable"></span><span id="g_t_003amenu_002denable"></span><span id="index-_003amenu_002ddisable"></span>
<span id="index-_003amenu_002denable"></span>
<p>メニューを削除するのではなくて、一時的に無效にしたいときは、&quot;<code>:menu</code>&quot; コマンドに &quot;disable&quot; キーワードを指定する。有效にするには &quot;enable&quot; キーワードを指定する。
例:
</p><pre class="verbatim">:menu disable &amp;File.&amp;Open\.\.\.
:amenu enable *
:amenu disable &amp;Tools.*
</pre>
<p>このコマンドは menu コマンド群が影響する各モードに適用される。&quot;&amp;&quot; は飜譯された名前にも適用するために必要である。引數に &quot;*&quot; を使ふと、全てのメニューに作用する。さうでなければ、指定したメニュー項目とそのサブメニューに作用する。
</p>

<span id="menu_002dexamples"></span><span id="index-menu_002dexamples"></span>
<span id="g_t5_002e7-meniyunoLi"></span><h4 class="unnumberedsubsec">5.7 メニューの例</h4>

<p>これはメニューを使つてメニュー項目を追加する方法の例である！カーソルの下のキーワードをメニュー項目に追加することができる。作業用にレジスタ &quot;z&quot; を使用してゐる。
</p>
<pre class="verbatim">:nmenu Words.Add\ Var           wb&quot;zye:menu! Words.&lt;C-R&gt;z &lt;C-R&gt;z&lt;CR&gt;
:nmenu Words.Remove\ Var        wb&quot;zye:unmenu! Words.&lt;C-R&gt;z&lt;CR&gt;
:vmenu Words.Add\ Var           &quot;zy:menu! Words.&lt;C-R&gt;z &lt;C-R&gt;z &lt;CR&gt;
:vmenu Words.Remove\ Var        &quot;zy:unmenu! Words.&lt;C-R&gt;z&lt;CR&gt;
:imenu Words.Add\ Var           &lt;Esc&gt;wb&quot;zye:menu! Words.&lt;C-R&gt;z &lt;C-R&gt;z&lt;CR&gt;a
:imenu Words.Remove\ Var        &lt;Esc&gt;wb&quot;zye:unmenu! Words.&lt;C-R&gt;z&lt;CR&gt;a
</pre>
<p>(指定するコマンドには &lt;&gt; 記法を使へる。このテキストをそのままコピー/ペーストして試してみたり、<samp>gvimrc</samp> に書き加へることができる。&quot;&lt;C-R&gt;&quot; は <kbd>CTRL-R</kbd> であり、&quot;&lt;CR&gt;&quot; は <code class="tt-key">&lt;CR&gt;</code> キーである。|<a href="intro_002etxt.html#g_t_003c_003e">&lt;&gt;</a>|)
</p>

<span id="g_t5_002e8-turutituputomeniyutitupu"></span><h4 class="unnumberedsubsec">5.8 ツールチップとメニューチップ</h4>

<p>ユーザーマニュアルの |<a href="usr_005f42_002etxt.html#g_t42_002e4">42.4</a>| を參照すること。
</p>
<dl compact="compact">
<dd><span id="g_t_003atmenu"></span><span id="g_t_003atm"></span><span id="index-_003atmenu"></span>
<span id="index-_003atm"></span>
</dd>
<dt>:tm[enu] {menupath} {rhs}</dt>
<dd><p>メニューやツールバーにチップを定義する。{X11 と Win32 GUI のみ}
</p>
</dd>
<dt>:tm[enu] [menupath]</dt>
<dd><p>メニューチップを一覽表示する。{X11 と Win32 GUI のみ}
</p>
<span id="g_t_003atunmenu"></span><span id="g_t_003atu"></span><span id="index-_003atunmenu"></span>
<span id="index-_003atu"></span>
</dd>
<dt>:tu[nmenu] {menupath}</dt>
<dd><p>メニューやツールバーのチップを削除する。{X11 と Win32 GUI のみ}
</p></dd>
</dl>

<blockquote>
<p><strong>Note:</strong> <br>
Terminal モード用のメニューを作成するためには、代はりに |<a href="#g_t_003atlmenu">:tlmenu</a>| を使ふことに注意。
</p></blockquote>

<p>メニューの項目にチップが定義されてゐて、マウスがその項目の上にあるとき、そのチップがコマンドラインに表示される。それは Windows 標準でステータスバーに表示されるメニューヒントに似てゐる (Vim がコマンドラインモードのときは除く、そのときはもちろん何も表示されない)。
</p>
<p>ツールバーの項目にチップが定義されてゐるときは、慣習にしたがつて、マウスがそのボタンの上で止まつたときにツールチップが表示される。その表示に使ふ色を變更するにはハイライトグループの |<a href="syntax_002etxt.html#hl_002dTooltip">hl-Tooltip</a>| を設定する。
</p>
<p>チップはメニューの各項目に定義できる。例へば、次のやうにメニュー項目を定義したとき:
</p><pre class="verbatim">:amenu MyMenu.Hello :echo &quot;Hello&quot;&lt;CR&gt;
</pre><p>次のやうにチップを定義する:
</p><pre class="verbatim">:tmenu MyMenu.Hello Displays a greeting.
</pre><p>そして次のやうに削除する:
</p><pre class="verbatim">:tunmenu MyMenu.Hello
</pre>
<p>ツールチップは今のところ X11 と Win32 GUI でサポートされてゐる。近い內に他の GUI 環境でもサポートされるだらう。
</p>
<p>&quot;<code>:tmenu</code>&quot; コマンドは他の menu コマンド群と同じやうに機能し、同じ引數をとる。&quot;<code>:tunmenu</code>&quot; は他の unmenu コマンド群と同じやうにメニューチップを削除する。
</p>
<p>メニュー項目が無效になる (例へば、全てのモードでその動作が削除される) ときには、Vim はメニューチップ (と項目) を削除する。つまり <code>:aunmenu</code> でメニュー項目を削除するときには、<code>:tunmenu</code> する必要はないといふことである。
</p>

<span id="g_t5_002e9-potupuatupumeniyu"></span><h4 class="unnumberedsubsec">5.9 ポップアップメニュー</h4>

<p>Win32, MacVim と GTK+ GUI では、カーソルの位置にメニューをポップアップ表示することができる。これは「PopUp」メニューと同じやうに動作し、どんなメニューでも表示することができる。
</p>
<p>このコマンドは後方互換性のために殘されてゐて、使用することは推奬されない。なぜならこのコマンドのふるまひは好ましくないからである。
</p>
<dl compact="compact">
<dd><span id="g_t_003apopup"></span><span id="g_t_003apopu"></span><span id="index-_003apopup"></span>
<span id="index-_003apopu"></span>
</dd>
<dt>:popu[p] {name}</dt>
<dd><p>メニュー項目 {name} をポップアップ表示する。そのメニューは少なくとも 1 つ以上の項目を持つてゐる必要がある。メニューバーに表示されてゐる必要はない (|<a href="#hidden_002dmenus">hidden-menus</a>| を參照)。
</p>
<p>{Vim が Win32, MacVim および GTK GUI 機能付きでコンパイルされたときのみ、ターミナルの中で有效}
</p>
</dd>
<dt>:popu[p]! {name}</dt>
<dd><p>上記と同樣だが、カーソル位置でなくマウスポインタの位置にメニューを表示する。端末では、これは通常最後クリックした、もしくは話した、最後に分かつてゐる位置でありる (マウスの動きは無關係である)。
</p></dd>
</dl>

<p>例:
</p><pre class="verbatim">:popup File
</pre><p>とすると &quot;File&quot; メニューを (もしあれば) カーソル位置に表示させる。! が使はれたときはマウスポインタの位置に表示させる。
</p><pre class="verbatim">:amenu ]Toolbar.Make    :make&lt;CR&gt;
:popup ]Toolbar
</pre><p>これはメインのメニューバーにメニュー項目を作らずにポップアップメニューを作成する。
</p>
<blockquote>
<p><strong>Note:</strong> <br>
GUI では、<code>:popup</code> コマンドは選擇がなされる前に直ちに終了する。端末の場合はユーザーが選擇を行ふまで待つ。
</p></blockquote>

<blockquote>
<p><strong>Note:</strong> <br>
&rsquo;]&rsquo; で始まるメニュー項目はメニューバーに表示されない。
</p></blockquote>

<span id="g_t6_002e-huonto"></span><h3 class="section">6. フォント</h3>

<p>このセクションではフォント關聯のオプションについて說明する。
</p>
<span id="gui_002dfont"></span><span id="index-gui_002dfont"></span>
<span id="GUIFONT"></span><h4 class="unnumberedsubsec">GUIFONT</h4>

<p>&rsquo;<samp>guifont</samp>&rsquo; はどのフォントを使ふかを Vim に指示するオプションである。最も單純な形式は、フォント名のみである。コンマで區切られたフォント名のリストにすることもできる。最初の有效なフォントが使用される。有效なフォントが見つからない場合は、エラーメッセージが表示される。
</p>
<p>&rsquo;<samp>guifontset</samp>&rsquo; がサポートされてゐるシステム (X11) で、かつ &rsquo;<samp>guifontset</samp>&rsquo; が空ではない時は、&rsquo;<samp>guifont</samp>&rsquo; は使用されない。|<a href="mbyte_002etxt.html#xfontset">xfontset</a>| を參照。
</p>
<blockquote>
<p><strong>Note:</strong> <br>
GTK GUI については、不正な名前に對してエラーは發生せず、常にリストの最初の要素が選ばれ、利用される。これは、GTK GUI が與へられた名前からフォントを特定するのではなく、パターンを構成するのに用い、利用可能なフォントからそのパターンを用ゐて最もよくマッチするフォントを探さうとするからである。これによりマッチングは決して失敗しない。不正な名前を與へたとしても、名前以外のフォント屬性によりマッチングが行はれるため、問題とはならない。
</p></blockquote>

<p>コンマの後の空白は無視される。フォント名の中にコンマを指定するには、コンマの前に &rsquo;\&rsquo; を置くこと。さらにオプションの値の中で空白や &rsquo;\&rsquo; を使ふには、それらの前に餘分に &rsquo;\&rsquo; を置かなければならない。|<a href="options_002etxt.html#option_002dbackslash">option-backslash</a>| も參照。例へば
</p><pre class="verbatim">:set guifont=Screen15,\ 7x13,font\\,with\\,commas
{譯注: 結果は &quot;Screen15, 7x13,font\,with\,commas&quot;}
</pre><p>とすると、まづ Vim はフォント &quot;Screen15&quot; を使はうとし、だめなら代はりに &quot;7x13&quot; を、そして &quot;font,with,commas&quot; を使はうとする。
</p>
<p>フォントをどれも讀み込めなかつたら現在の設定のままになる。空のフォントリストが與へられると、他のリソース設定を試してみて (X では Vim.font リソースが使はれる)、それがだめなら、必ず存在するはずの組み込みの既定フォントを試す (X の場合は &quot;7x13&quot;)。指定されるフォント名は &quot;normal&quot; な {譯注: 太字や斜字體でない} フォントでなければならない。Vim は關聯する太字體や斜字體を見つけようとする。
</p>
<p>Win32, GTK, Motif, Mac OS および Photon の場合:
</p><pre class="verbatim">:set guifont=*
</pre><p>これはフォント選擇ダイアログを開く。そこで望みのフォントを選擇することができる。
</p>
<p>MacVim において &quot;:set guifont=*&quot; は次を呼び出します:
</p><pre class="verbatim">:macaction orderFrontFontPanel:
</pre><p>これはメインメニューから &quot;Show Fonts...&quot; を選擇するのと同じことです。
</p>
<p>フォント名は使つてゐる GUI に依存する。樣々なシステムに對して &rsquo;<samp>guifont</samp>&rsquo; を設定する方法については |<a href="#setting_002dguifont">setting-guifont</a>| を參照。
</p>
<p>GTK+ 2 と 3 ではフォント名は次のやうになる:
</p><pre class="verbatim">:set guifont=Andale\ Mono\ 11
</pre><p>これだけである。もう XLFD は受け付けない。中國語の場合は以下の記述でうまくいくと報告されてゐる:
</p><pre class="verbatim">if has(&quot;gui_gtk2&quot;)
  set guifont=Bitstream\ Vera\ Sans\ Mono\ 12,Fixed\ 12
  set guifontwide=Microsoft\ Yahei\ 12,WenQuanYi\ Zen\ Hei\ 12
endif
</pre><p>(GTK+ 3 GUI の場合は gui_gtk2 を gui_gtk3 に置き換へる)
</p>
<p>Mac OSX では次のやうにします:
</p><pre class="verbatim">:set guifont=Monaco:h10
</pre><p>&rsquo;<samp>macatsui</samp>&rsquo; も參照。表示上の問題を解決する助けになる。{MacVim にはない}
MacVim では、フォント名にスペースのあるフォントは次のやうに設定します:
</p><pre class="verbatim">:set guifont=DejaVu\ Sans\ Mono:h13
</pre><span id="E236"></span><span id="index-E236"></span>
<blockquote>
<p><strong>Note:</strong> <br>
フォントは等幅でなければならない (全ての文字が同じ幅でなければならない)。例外は MacVim と GTK である。どんなフォントでも受け付けるが、等幅フォントがもつともきれいに見える。
</p></blockquote>

<p>X11 でフォントのプレビューをするには、プログラム &quot;xfontsel&quot; が使へるかもしれない。&quot;xlsfonts&quot; は、使用可能な全てのフォントのリストを與へる。
</p>
<span id="E244"></span><span id="E245"></span><span id="index-E244"></span>
<span id="index-E245"></span>
<span id="Win32-no-GUI-nituite"></span><h4 class="unnumberedsubsubsec">Win32 の GUI について</h4>
<p>フォント名には以下のオプションを指定できる。(オプションを區切るには &rsquo;:&rsquo; を使用すること)。
</p><table>
<tr><td width="20%">hXX</td><td width="80%">文字高が XX (單位はポイント。浮動小數點數でもよい)</td></tr>
<tr><td width="20%">wXX</td><td width="80%">文字幅が XX (單位はポイント。浮動小數點數でもよい)</td></tr>
<tr><td width="20%">WXX</td><td width="80%">ウェイトが XX (下記のウェイトに關する Note を參照)</td></tr>
<tr><td width="20%">b</td><td width="80%">ボールド (太字體)。これは、ウェイトを 700 に設定するのと同じである。</td></tr>
<tr><td width="20%">i</td><td width="80%">イタリック (斜字體)</td></tr>
<tr><td width="20%">u</td><td width="80%">下線付き</td></tr>
<tr><td width="20%">s</td><td width="80%">打ち消し (文字を橫切る線付き)</td></tr>
<tr><td width="20%">cXX</td><td width="80%">文字セットが XX。有效な文字セットは: ANSI, ARABIC, BALTIC, CHINESEBIG5, DEFAULT, EASTEUROPE, GB2312, GREEK, HANGEUL, HEBREW, JOHAB, MAC, OEM, RUSSIAN, SHIFTJIS, SYMBOL, THAI, TURKISH および VIETNAMESE である。通常は &quot;cDEFAULT&quot; を使用する。</td></tr>
<tr><td width="20%">qXX</td><td width="80%">品質が XX。有效な品質名は: PROOF, DRAFT, ANTIALIASED, NONANTIALIASED, CLEARTYPE または DEFAULT である。通常は &quot;qDEFAULT&quot; を使用する。

<p>いくつかの品質値はレガシーなOSではサポートされてゐない。
</p></td></tr>
</table>
<p>スペースの代はりに &rsquo;_&rsquo; を使用できるので、スペースをエスケープするためにバックスラッシュを使用する必要はない。
</p>
<p>例:
</p><pre class="verbatim">:set guifont=courier_new:h12:w5:b:cRUSSIAN
:set guifont=Andale_Mono:h7.5:w4.5
</pre>
<p>|<a href="gui_005fx11_002etxt.html#font_002dsizes">font-sizes</a>| も參照。
</p>
<blockquote>
<p><strong>ウェイトに關する Note:</strong> <br>
フォントにはさまざまなウェイトがある。Windowsの &quot;標準&quot; ウェイトは 400 の値を持ち、未指定のままであれば、これがフォントを檢索するときに使用される値である。Windows は多くの場合、フォント名よりも高い優先順位でフォントのウェイトに基づいてフォントを照合する。つまり、Light または ExtraLight 異體を指定しても、Book または Medium 異體を意味するフォント名が使用されることがある。あなたがより重いウェイトで置換されることを經驗してゐるならば、より低いウェイト値を明示的に設定することはこの望まれない置換に對して輕減するかもしれない。
</p></blockquote>


<span id="gui_002dfontwide"></span><span id="index-gui_002dfontwide"></span>
<span id="GUIFONTWIDE"></span><h4 class="unnumberedsubsec">GUIFONTWIDE</h4>

<p>空でない場合、&rsquo;<samp>guifontwide</samp>&rsquo; は、全角文字に使用されるフォントのコンマ區切りリストを指定する。ロードできる最初のフォントが使用される。
</p>
<blockquote>
<p><strong>Note:</strong> <br>
これらのフォントのサイズは &rsquo;<samp>guifont</samp>&rsquo; で指定されたものの2倍の幅かつ同じ高さでなければならない。不一致があると、テキストは正しく描畫されない。
</p></blockquote>

<span id="MacVim-to-GTK_002b-Yi-Wai-nosubeteno-GUI-baziyon_003a"></span><h4 class="unnumberedsubsubsec">MacVim と GTK+ 以外のすべての GUI バージョン:</h4>

<p>&rsquo;<samp>guifontwide</samp>&rsquo; は、&rsquo;<samp>encoding</samp>&rsquo; が &quot;<var>utf-8</var>&quot; に設定されてゐて、かつ &rsquo;<samp>guifontset</samp>&rsquo; が空または無效の場合にのみ使用される。
</p>
<p>&rsquo;<samp>guifont</samp>&rsquo; が設定されてゐて、その中に有效なフォントが見つかり、&rsquo;<samp>guifontwide</samp>&rsquo; が空の場合、Vim は一致する倍幅フォントを見つけようと試み、それに &rsquo;<samp>guifontwide</samp>&rsquo; を設定する。
</p>
<span id="guifontwide_005fmacvim"></span><span id="index-guifontwide_005fmacvim"></span>
<span id="MacVim-nomi_003a"></span><h4 class="unnumberedsubsubsec">MacVim のみ:</h4>

<p>MacVim はフォントの代替を自動的に行ひます。もしも &rsquo;<samp>guifontwide</samp>&rsquo; オプションが設定されてゐるなら、すべての全角等幅が使用されるでせう。しかしながら、もしも全角等幅フォント中の字形が利用できない場合は、フォントの代替はそのまま使はれます。
</p>
<span id="guifontwide_005fgtk"></span><span id="index-guifontwide_005fgtk"></span>
<span id="GTK_002b-GUI-nomi_003a"></span><h4 class="unnumberedsubsubsec">GTK+ GUI のみ:</h4>

<p>設定されてをり、それが適切な値であるとき、&rsquo;<samp>encoding</samp>&rsquo; が &quot;<var>utf-8</var>&quot; でなくても常に 2 倍幅文字に對して &rsquo;<samp>guifontwide</samp>&rsquo; が使はれる。Vim は自動的に &rsquo;<samp>guifontwide</samp>&rsquo; に適合する値を探さうとはしない。&rsquo;<samp>guifontwide</samp>&rsquo; が空ならば Pango/Xft が &rsquo;<samp>guifont</samp>&rsquo; で利用できない文字に對するフォントを選ぶ。そのため、Pango/Xft が選んだ値を上書きしたいのでない限り、&rsquo;<samp>guifontwide</samp>&rsquo; を設定する必要はまつたくない。
</p>
<span id="guifontwide_005fwin_005fmbyte"></span><span id="index-guifontwide_005fwin_005fmbyte"></span>
<span id="Windows-_002bmultibyte-nomi_003a"></span><h4 class="unnumberedsubsubsec">Windows +multibyte のみ:</h4>

<p>有效な値が設定されてゐる場合、&rsquo;<samp>guifont</samp>&rsquo; の代はりに &rsquo;<samp>guifontwide</samp>&rsquo; が IME の表示に使はれる。
</p>
<span id="gui_002dextras"></span><span id="index-gui_002dextras"></span>
<span id="g_t7_002e-Fu-Ji-"></span><h3 class="section">7. 附記</h3>

<p>このセクションでは GUI に關聯したその他の特徵を說明する。
</p>
<ul>
<li> GUI では、キーコードは &lt;Esc&gt; で始まらないため、エスケープを入力した後に 1 秒待たなくてよい。

</li><li> GUI で <kbd>CTRL-V</kbd> に續いて特殊なキーを入力すると &quot;&lt;Key&gt;&quot; のやうに入力される。そのやうな特殊なキーは內部で意味を持たないためである。修飾キーを同時に押して &quot;&lt;Modifiers-Key&gt;&quot; を得ることもできる。

<p>{譯注: 例へば、插入モードで <kbd>CTRL-V</kbd> に續いて <code class="tt-key">Del</code> キーを押すと &quot;&lt;Del&gt;&quot; (見た通り 5 文字) が入力される。<code class="tt-key">Alt</code> (<code class="tt-key">META</code>) キーを押しながら <code class="tt-key">Del</code> キーを押すと &quot;&lt;M-Del&gt;&quot; が入力される。<code class="tt-key">Shift</code> キーなら &quot;&lt;S-Del&gt;&quot;。}
</p>
</li><li> GUI では、修飾キーの <code class="tt-key">SHIFT</code>, <code class="tt-key">CTRL</code>, <code class="tt-key">ALT</code> (<code class="tt-key">META</code>) は特殊キーやマウスイベントのマッピングで使用できる。例へば:
<pre class="verbatim">:map &lt;M-LeftDrag&gt; &lt;LeftDrag&gt;
</pre>
</li><li> GUI では、いくつかの普通のキーにマッピング等で修飾キーを付けて使用できる。そのやうなキーは <code class="tt-key">&lt;Space&gt;</code>, <code class="tt-key">&lt;Tab&gt;</code>, <code class="tt-key">&lt;NL&gt;</code>, <code class="tt-key">&lt;CR&gt;</code>, <code class="tt-key">&lt;Esc&gt;</code> である。

</li><li> GUI が使はれてゐるかどうかを Vim script 內で調べるには次のやうにする:

<pre class="verbatim">if has(&quot;gui_running&quot;)
   echo &quot;yes, we have a GUI&quot;
else
   echo &quot;Boring old console&quot;
endif
</pre><span id="setting_002dguifont"></span></li><li> <span id="index-setting_002dguifont"></span>
さまざまなシステム上で同一の <samp>vimrc</samp> ファイルを使ふときは、次のやうにして各 GUI に對する固有のオプションを設定することができる:

<pre class="verbatim">if has(&quot;gui_running&quot;)
    if has(&quot;gui_gtk2&quot;)
        :set guifont=Luxi\ Mono\ 12
    elseif has(&quot;x11&quot;)
        &quot; Also for GTK 1
        :set guifont=*-lucidatypewriter-medium-r-normal-*-*-180-*-*-m-*-*
    elseif has(&quot;gui_win32&quot;)
        :set guifont=Luxi_Mono:h12:cANSI
    elseif has(&quot;gui_macvim&quot;)
        :set guifont=DejaVu\ Sans\ Mono:h13
    endif
endif
</pre></li></ul>

<p>推奬される日本語フォントは MS Mincho である。MS Mincho についての情報はここで見つかる:
</p>
<p><a href="http://www.lexikan.com/mincho.htm">http://www.lexikan.com/mincho.htm</a>
</p>
<span id="gui_002dshell"></span><span id="index-gui_002dshell"></span>
<span id="g_t8_002e-sierukomando"></span><h3 class="section">8. シェルコマンド</h3>

<p>X11 GUI では外部プログラムは gvim ウィンドウの中で實行される。|<a href="gui_005fx11_002etxt.html#gui_002dpty">gui-pty</a>| を參照。
</p>
<blockquote>
<p><strong>警告:</strong> <br>
X11 GUI で外部プログラムを實行することは常にうまく動作するとは限らない。&quot;ls&quot;, &quot;grep&quot;, &quot;make&quot; のやうな一般的なプログラムはたいていふまく機能する。&quot;less&quot; や &quot;ispell&quot; のやうに高度なターミナルを要求するプログラムはうまく機能しないだらう。あるものはハングさえするかもしれないし、他のターミナルから kill する必要があるかもしれない。だから氣をつけて！
</p></blockquote>

<p>Win32 GUI では外部プログラムは別のウィンドウで實行される。|<a href="gui_005fw32_002etxt.html#gui_002dshell_002dwin32">gui-shell-win32</a>| を參照。
</p>
<hr>
<div class="header">
<p>
Up: <a href="Mu-Ci-.html" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
