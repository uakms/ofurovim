<!DOCTYPE html>
<html lang="ja">
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>

<title>usr_09.txt (Vim Reference Manual)</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<meta name="description" content="usr_09.txt (Vim Reference Manual)">
<meta name="keywords" content="usr_09.txt (Vim Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="start" title="目次">
<link href="Indexes-CP.html#Indexes-CP" rel="index" title="Indexes CP">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="up" title="目次">
<link href="usr_005f10_002etxt.html#usr_005f10_002etxt" rel="next" title="usr_10.txt">
<link href="usr_005f08_002etxt.html#usr_005f08_002etxt" rel="prev" title="usr_08.txt">
<style>
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="ja">
<a name="usr_005f09_002etxt"></a>
<div class="header">
<p>
Next: <a href="usr_005f10_002etxt.html#usr_005f10_002etxt" accesskey="n" rel="next">usr_10.txt</a>, Previous: <a href="usr_005f08_002etxt.html#usr_005f08_002etxt" accesskey="p" rel="prev">usr_08.txt</a>, Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="GUI-woShi-u"></a>
<h2 class="unnumbered">GUI を使ふ</h2>
<pre class="verbatim">*usr_09.txt*	For Vim バージョン 8.1.  Last change: 2017 Aug 11

		     VIM USER MANUAL - by Bram Moolenaar

				GUI を使ふ
</pre>

<p>Vim は普通の端末で動作し、同時に gVim はグラフィカルユーザーインターフェイス (GUI) を持つてゐます。GUI ではメニュー、ツールバー、スクロールバーなどが利用できます。本章では GUI が提供するそれらの機能を說明します。
</p>
<table>
<tr><td width="30%">|<a href="#g_t09_002e1">09.1</a>|</td><td width="70%">GUI の部品</td></tr>
<tr><td width="30%">|<a href="#g_t09_002e2">09.2</a>|</td><td width="70%">GUI でマウスを使ふ</td></tr>
<tr><td width="30%">|<a href="#g_t09_002e3">09.3</a>|</td><td width="70%">GUI でクリップボード</td></tr>
<tr><td width="30%">|<a href="#g_t09_002e4">09.4</a>|</td><td width="70%">GUI で選擇モード</td></tr>
</table>

<a name="g_t09_002e1"></a><a name="index-GUI-noBu-Pin-"></a>
<a name="GUI-noBu-Pin-"></a>
<h3 class="section">GUI の部品</h3>

<p>おそらく、gvim を起動するためのアイコンがデスクトップにあるはずです。ない場合は、次のコマンドのどちらかで起動できます:
</p>
<pre class="verbatim">gvim file.txt
vim -g file.txt
</pre>
<p>GUI 版の Vim がインストールされてゐない場合は起動できません。まづ最初に GUI 版の Vim をインストールしてください。
</p>
<p>起動すると、ウィンドウが開き、そこに &quot;file.txt&quot; が表示されます。ウィンドウの外見は Vim のバージョンによつて違ふかもしれませんが、だいたい次のやうな畫面が表示されるはずです (この圖は ASCII で正しく表示されます)。
</p>
<pre class="verbatim">+----------------------------------------------------+
| file.txt + (~/dir) - VIM                         X |  &lt;- ウィンドウタイトル
+----------------------------------------------------+
| File  Edit  Tools  Syntax  Buffers  Window  Help   |  &lt;- メニューバー
+----------------------------------------------------+
| aaa  bbb  ccc  ddd  eee  fff  ggg  hhh  iii  jjj   |  &lt;- ツールバー
| aaa  bbb  ccc  ddd  eee  fff  ggg  hhh  iii  jjj   |
+----------------------------------------------------+
| file text                                      | ^ |
| ~                                              | # |
| ~                                              | # |  &lt;- スクロールバー
| ~                                              | # |
| ~                                              | # |
| ~                                              | # |
|                                                | V |
+----------------------------------------------------+
</pre>
<p>一番大きな領域にはファイルのテキストが表示されてゐます。その部分は端末での表示と同じです。色やフォントは違ふかもしれません。
</p>

<a name="uindoutaitoru"></a>
<h4 class="unnumberedsubsec">ウィンドウタイトル</h4>

<p>最上部はウィンドウタイトルです。この部分はウィンドウシステム (Windows や X のウィンドウマネージャーなど) によつて描畫されます。Vim はカレントファイルの名前をタイトルに設定します。ファイル名が先頭に表示され、それから、記號、カッコで圍まれたディレクトリ名が表示されます。記號には次の意味があります。
</p>
<table>
<tr><td width="10%">-</td><td width="90%">ファイルは變更不可。(例: ヘルプファイル)</td></tr>
<tr><td width="10%">+</td><td width="90%">ファイルは變更された。</td></tr>
<tr><td width="10%">=</td><td width="90%">ファイルは讀み込み專用。</td></tr>
<tr><td width="10%">=+</td><td width="90%">ファイルは讀み込み專用だが、變更された。</td></tr>
</table>

<p>何も表示されてゐなければ、變更されてゐない通常のファイルです。
</p>

<a name="meniyuba"></a>
<h4 class="unnumberedsubsec">メニューバー</h4>

<p>メニューの使ひ方はわかりますよね？ 一般的な項目に加へ、Vim 特有の項目が少しあります。メニューをざつと眺めてどんなものがあるか確認してください。この章に關聯したサブメニューが [編輯]-[全體設定] にあります。次のやうな項目です:
</p>
<table>
<tr><td width="50%">ツールバー表示切替</td><td width="50%">ツールバーの表示のon/off</td></tr>
<tr><td width="50%">スクロールバー(下)表示切替</td><td width="50%">スクロールバー(下)の表示のon/off</td></tr>
<tr><td width="50%">スクロールバー(左)表示切替</td><td width="50%">スクロールバー(左)の表示のon/off</td></tr>
<tr><td width="50%">スクロールバー(右)表示切替</td><td width="50%">スクロールバー(右)の表示のon/off</td></tr>
</table>

<p>ほとんどのシステムではメニューの切り離しができます。メニューの最上部にある點線のやうな項目を選擇すると、メニューが別ウィンドウで表示されます。明示的に閉ぢるまで、ウィンドウは開いたままです。
</p>

<a name="turuba"></a>
<h4 class="unnumberedsubsec">ツールバー</h4>

<p>ツールバーには、よく使はれる機能がアイコンの形で格納されてゐます。アイコンを見ればその機能を聯想できると思ひます。マウスをアイコンの上に動かしてクリックせずに一秒ほど待つと、機能の說明がツールチップで表示されます。
</p>
<p>メニューの [編輯]-[全體設定]-[ツールバー表示切換] を使ふとツールバーを非表示にできます。ツールバーを全く使はないのであれば、次のコマンドを vimrc に書いてください:
</p>
<pre class="verbatim">:set guioptions-=T
</pre>
<p>これは &rsquo;<samp>guioptions</samp>&rsquo; オプションから &quot;T&quot; フラグを取り除くコマンドです。GUI の他の部品もこのオプションを使つて、表示/非表示を指定できます。詳しくはオプションのヘルプを參照してください。
</p>

<a name="sukuroruba"></a>
<h4 class="unnumberedsubsec">スクロールバー</h4>

<p>初期設定では右側にスクロールバーが表示されます。動作は一般的なアプリケーションと同じです。ウィンドウを分割するとウィンドウごとにスクロールバーが作られます。
</p>
<p>メニューの [編輯]-[全體設定]-[スクロールバー(下)表示切換] を使ふと橫スクロールバーを表示できます。差分モードのときや &rsquo;<samp>wrap</samp>&rsquo; オプションをオフにしてゐるときに便利です。(詳しくは後で說明します)
</p>
<p>ウィンドウを垂直分割してゐて、右側のウィンドウにだけスクロールバーが付いてゐる場合は、左側のウィンドウにカーソルを移動すれば、スクロールバーはそのウィンドウに作用するやうになります。
</p>
<p>垂直分割をよく使ふなら、左側にもスクロールバーを付けるといいかもしれません。メニューから選擇するか、&rsquo;<samp>guioptions</samp>&rsquo; を設定してください:
</p><pre class="verbatim">:set guioptions+=l
</pre>
<p>これは &rsquo;<samp>guioptions</samp>&rsquo; に &rsquo;l&rsquo; フラグを追加してゐます。
</p>
<a name="g_t09_002e2"></a><a name="index-GUI-demausuwoShi-u"></a>
<a name="GUI-demausuwoShi-u"></a>
<h3 class="section">GUI でマウスを使ふ</h3>

<p>標準は素晴らしい。Microsoft Windows では、マウスを使つた標準的な操作方法でテキストを選擇できます。X ウィンドウシステムにもマウスの操作方法の標準があります。殘念ながら、この 2 つの標準は別物です。
</p>
<p>幸運なことに Vim はカスタマイズできます。マウスの振る舞ひを X ウィンドウシステム方式か Microsoft Windows 方式のどちらかに變更できます。次のコマンドでマウスの振る舞ひを X ウィンドウシステム方式に設定できます:
</p>
<pre class="verbatim">:behave xterm
</pre>
<p>次のコマンドでマウスの振る舞ひを Microsoft Windows 方式に設定できます:
</p>
<pre class="verbatim">:behave mswin
</pre>
<p>UNIX での初期設定は xterm です。Microsoft Windows での初期設定はインストール時に選擇できます。2 つの振る舞ひの詳細については|<a href="gui_002etxt.html#g_t_003abehave">:behave</a>|をご覽ください。ここでは槪要だけ說明します。
</p>

<a name="Xterm-Fang-Shi-nomausunoZhen-ruWu-i"></a>
<h4 class="unnumberedsubsec">Xterm 方式のマウスの振る舞ひ</h4>

<table>
<tr><td width="35%">左クリック</td><td width="65%">カーソル移動</td></tr>
<tr><td width="35%">左ドラッグ</td><td width="65%">ビジュアルモードでテキストを選擇</td></tr>
<tr><td width="35%">中クリック</td><td width="65%">クリップボードからテキストを貼り付け</td></tr>
<tr><td width="35%">右クリック</td><td width="65%">マウスポインタで指した場所まで選擇範圍を擴張</td></tr>
</table>


<a name="MSWIN-Fang-Shi-nomausunoZhen-ruWu-i"></a>
<h4 class="unnumberedsubsec">MSWIN 方式のマウスの振る舞ひ</h4>

<table>
<tr><td width="35%">左クリック</td><td width="65%">カーソル移動</td></tr>
<tr><td width="35%">左ドラッグ</td><td width="65%">選擇モードでテキストを選擇 (|<a href="#g_t09_002e4">09.4</a>| 參照)</td></tr>
<tr><td width="35%">シフトキー + 左クリック</td><td width="65%">マウスポインタで指した場所まで選擇範圍を擴張</td></tr>
<tr><td width="35%">中クリック</td><td width="65%">クリップボードからテキストを貼り付け</td></tr>
<tr><td width="35%">右クリック</td><td width="65%">ポップアップメニューを表示</td></tr>
</table>


<p>マウスの動作はさらに細かく設定できます。マウスの動作を變更したい場合は、以下のオプションを確認してください。
</p>
<table>
<tr><td width="25%">&rsquo;<samp>mouse</samp>&rsquo;</td><td width="75%">Vim のどのモードでマウスを使ふのか</td></tr>
<tr><td width="25%">&rsquo;<samp>mousemodel</samp>&rsquo;</td><td width="75%">クリックしたときの動作</td></tr>
<tr><td width="25%">&rsquo;<samp>mousetime</samp>&rsquo;</td><td width="75%">ダブルクリックのクリック閒隔</td></tr>
<tr><td width="25%">&rsquo;<samp>mousehide</samp>&rsquo;</td><td width="75%">入力してゐる閒、マウスを隱す</td></tr>
<tr><td width="25%">&rsquo;<samp>selectmode</samp>&rsquo;</td><td width="75%">マウスで選擇したときにビジュアルモードとセレクトモードのどちらを開始するか</td></tr>
</table>

<a name="g_t09_002e3"></a><a name="index-GUI-dekuritupubodo"></a>
<a name="GUI-dekuritupubodo"></a>
<h3 class="section">GUI でクリップボード</h3>

<p>|<a href="usr_005f04_002etxt.html#g_t04_002e7">04.7</a>| ではクリップボードの基本的な使ひ方を說明しました。ここでは X-windows での必須事項を說明します。X-windows にはプログラム閒でテキストを交換するための空閒が 2 つあります。MS-Windows にはさういふのはありません。
</p>
<p>X-Windows にはカレントセレクション (&quot;current selection&quot;) があります。これは選擇中のテキストのことです。Vim において、それはビジュアル選擇してゐる範圍のことです (初期設定の場合)。選擇してゐるテキストは特に何もしなくても他のアプリケーションにペーストできます。
</p>
<p>例へば、この文章のどこかを適當にマウスで選擇したとします。Vim は自動的にビジュアルモードに切り替はり、選擇したテキストが强調表示されます。ここで、別の gvim を引數なしで起動し、空のウィンドウを開きます。中央ボタンをクリックすると、選擇したテキストが插入されます。
</p>
<p>カレントセレクションは他のテキストを選擇するまで有效です。他の gvim にペーストした後、そのウィンドウのテキストを選擇すると、直前に別の gvim で選擇していたテキストの表示が變はるのが確認できると思ひます。その選擇範圍はもうカレントセレクションではないのです。
</p>
<p>テキストの選擇はマウスでなくても構ひません。ビジュアルモードのコマンドをキーボードで入力しても同じことになります。
</p>

<a name="Zhen-nokuritupubodo"></a>
<h4 class="unnumberedsubsec">眞のクリップボード</h4>

<p>さて、テキストを交換するためのもう 1 つの空閒を說明します。今までの說明との混同を避けるために、ここでは眞のクリップボード (&quot;real clipboard&quot;) と呼びます。普通はカレントセレクションと眞のクリップボードはどちらもクリップボードと呼ばれますが、慣れてください。
</p>
<p>眞のクリップボードにテキストをプットするために、動作中の gvim で適當なテキストを選擇し、メニューの [編輯]-[コピー] コマンドを實行してください。これで、テキストが眞のクリップボードにコピーされました。クリップボードの內容は專用のアプリケーション (例へば KDE の Klipper) がなければ見ることはできません。
</p>
<p>次に、別の gvim に移り、カーソルを適當なところに移動し、メニューの [編輯]-[貼り付け] コマンドを實行します。眞のクリップボードからテキストが插入されます。
</p>

<a name="Liang-Fang-woShi-u"></a>
<h4 class="unnumberedsubsec">兩方を使ふ</h4>

<p>カレントセレクションと眞のクリップボードを兩方使ふのは少し複雜ですが、でもこれはとても便利なのです。例を擧げませう。
</p>
<p>gvim でテキストファイルを開いて以下の操作を實行してください:
</p>
<ul>
<li> 單語をビジュアルモードで選擇する。
</li><li> [編輯]-[コピー] メニューを實行して單語をクリップボードに入れる。
</li><li> ビジュアルモードで別の單語を選擇する。
</li><li> [編輯]-[貼り付け] メニューを實行する。選擇してゐる單語がクリップボードにある單語で置き換へられます。
</li><li> マウスポインタを他のところに動かして中央ボタンを押す。直前にクリップボードのテキストで上書きされた單語がその場所に插入されます。
</li></ul>

<p>カレントセレクションと眞のクリップボードは氣をつけて使ひさへすれば、非常に役立
つテクニックになります。
</p>

<a name="kibodowoShi-u"></a>
<h4 class="unnumberedsubsec">キーボードを使ふ</h4>

<p>マウスが嫌ひなあなたでも、2 つのレジスタを使つて、カレントセレクションと眞のクリップボードにアクセスできます。カレントセレクションには <code>&quot;*</code> レジスタでアクセスします。
</p>
<p>テキストをカレントセレクションにするにはビジュアルモードを使ひます。例へば、&quot;<code class="tt-key">V</code>&quot; を押せば行全體を選擇できます。
</p>
<p>次のコマンドでカレントセレクションのテキストをカーソルの直前に插入できます:
</p>
<pre class="verbatim">&quot;*P
</pre>
<p>大文字の &quot;P&quot; であることに注意してください。小文字の &quot;p&quot; だとカーソルの直後にプットされます。
</p>
<p>眞のクリップボードには <code>&quot;+</code> レジスタでアクセスします。例へば、カーソル位置から行末までを眞のクリップボードにコピーするには、次のやうにします:
</p>
<pre class="verbatim">&quot;+y$
</pre>
<p>&quot;<code>y</code>&quot; はヤンク、つまり Vim のコピーコマンドのことでしたね。次のコマンドで眞のクリップボードのテキストをカーソルの直前に插入できます:
</p>
<pre class="verbatim">&quot;+P
</pre>
<p>カレントセレクションの場合とコマンドは同じですが、スター (&lsquo;<samp>*</samp>&rsquo;) ではなくプラス (&lsquo;<samp>+</samp>&rsquo;) レジスタを使つてゐます。
</p>
<a name="g_t09_002e4"></a><a name="index-GUI-deXuan-Ze-modo"></a>
<a name="GUI-deXuan-Ze-modo"></a>
<h3 class="section">GUI で選擇モード</h3>

<p>これは X Window よりも MS-Windows でよく利用される機能です。しかし、どちらの環境でも利用できます。ビジュアルモードについては既に知つてゐますね。選擇モードはビジュアルモードに似てゐます。選擇モードもテキストを選擇するための機能です。違ひは、文字を入力すると、選擇されてゐたテキストが削除され、入力した文字に置き換はることです。
</p>
<p>選擇モードを使ふには、最初にそれを有效にする必要があります。(MS-Windows では、既に有效になつてゐると思ひますが、これを實行しても問題ありません):
</p>
<pre class="verbatim">:set selectmode+=mouse
</pre>
<p>設定したら、マウスを使つてテキストを選擇してみてください。ビジュアルモードのやうにテキストが强調表示されます。そして、文字を入力してください。選擇されてゐたテキストが削除され、入力した文字に置き換はります。插入モードに入るので、續けて文字を入力することができます。
</p>
<p>普通に文字を入力すると選擇中のテキストが削除されてしまふので、通常の移動コマンドの &quot;<code>hjkl</code>&quot; や &quot;<code>w</code>&quot; などは使へません。代はりに、シフト + 特殊キーの組み合はせを使つてください。<code class="tt-key">&lt;S-Left&gt;</code> (シフト + 左矢印キー) でカーソルが左に移動します。ビジュアルモードと同じやうに選擇範圍が變化します。他の矢印キーも同樣に使へます。<code class="tt-key">&lt;S-End&gt;</code> と <code class="tt-key">&lt;S-Home&gt;</code> も使へます。
</p>
<p>選擇モードの動作は &rsquo;<samp>selectmode</samp>&rsquo; オプションで變更できます。
</p>
<hr>
<div class="header">
<p>
Next: <a href="usr_005f10_002etxt.html#usr_005f10_002etxt" accesskey="n" rel="next">usr_10.txt</a>, Previous: <a href="usr_005f08_002etxt.html#usr_005f08_002etxt" accesskey="p" rel="prev">usr_08.txt</a>, Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
