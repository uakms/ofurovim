<!DOCTYPE html>
<html lang="ja">
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>

<title>usr_31.txt (Vim Reference Manual)</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<meta name="description" content="usr_31.txt (Vim Reference Manual)">
<meta name="keywords" content="usr_31.txt (Vim Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="start" title="目次">
<link href="Indexes-CP.html#Indexes-CP" rel="index" title="Indexes CP">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="up" title="目次">
<link href="usr_005f32_002etxt.html#usr_005f32_002etxt" rel="next" title="usr_32.txt">
<link href="usr_005f30_002etxt.html#usr_005f30_002etxt" rel="prev" title="usr_30.txt">
<style>
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="ja">
<a name="usr_005f31_002etxt"></a>
<div class="header">
<p>
Next: <a href="usr_005f32_002etxt.html#usr_005f32_002etxt" accesskey="n" rel="next">usr_32.txt</a>, Previous: <a href="usr_005f30_002etxt.html#usr_005f30_002etxt" accesskey="p" rel="prev">usr_30.txt</a>, Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="GUI-woHuo-Yong-suru"></a>
<h2 class="unnumbered">GUI を活用する</h2>
<pre class="verbatim">*usr_31.txt*	For Vim バージョン 8.1.  Last change: 2007 May 08

		     VIM USER MANUAL - by Bram Moolenaar

				GUI を活用する
</pre>

<p>Vim は端末でも動作しますが、GUI 版の Vim にはさらに追加機能があります。ファイルブラウザーを使つてファイルを選擇したり、操作を確認するためのダイアログを表示したり、キーボードショートカットを使つてメニューにアクセスしたりできます。
</p>
<table>
<tr><td width="30%">|<a href="usr_005f30_002etxt.html#g_t30_002e1">30.1</a>|</td><td width="70%">ファイルブラウザー</td></tr>
<tr><td width="30%">|<a href="usr_005f30_002etxt.html#g_t30_002e2">30.2</a>|</td><td width="70%">操作確認</td></tr>
<tr><td width="30%">|<a href="usr_005f30_002etxt.html#g_t30_002e3">30.3</a>|</td><td width="70%">メニューのショートカット</td></tr>
<tr><td width="30%">|<a href="usr_005f30_002etxt.html#g_t30_002e4">30.4</a>|</td><td width="70%">Vim ウィンドウの位置とサイズ</td></tr>
<tr><td width="30%">|<a href="usr_005f30_002etxt.html#g_t30_002e5">30.5</a>|</td><td width="70%">その他</td></tr>
</table>

<a name="g_t31_002e1"></a><a name="index-huairuburauza-1"></a>
<a name="huairuburauza-1"></a>
<h3 class="section">ファイルブラウザー</h3>

<p>[ファイル]/[開く...] メニューを實行するとファイルブラウザーが表示されます。ファイルブラウザーを使へば簡單にファイルを探すことができます。しかし例へば、[ウィンドウを分割して開く] などのメニューは用意されてゐません。[ウィンドウ]/[分割] を實行してから [ファイル]/[開く...] を實行することもできますが、面倒ですよね。
</p>
<p>他のコマンドと同樣、ファイルブラウザーもコマンド入力で開くことができます。例へば、<code>split</code> コマンドに &quot;browse&quot; を付けることで、ファイルブラウザーを使ふことができます:
</p>
<pre class="verbatim">:browse split
</pre>
<p>選擇したファイルが &quot;<samp>:split</samp>&quot; コマンドで開かれます。キャンセルボタンを押した場合は何も實行されず、ウィンドウも分割されません。
</p>
<p>引數にファイルを指定すると、ファイルブラウザーの初期ディレクトリとして使はれます。例:
</p>
<pre class="verbatim">:browse split /etc
</pre>
<p>&quot;/etc&quot; ディレクトリでファイルブラウザーが開きます。
</p>
<p>&quot;<code>:browse</code>&quot; コマンドはファイルを開くためのコマンドと組み合はせて使ひます。
</p>
<p>ディレクトリを指定しなかつた場合は、適切なディレクトリが選擇されます。初期設定では、最後に使つたディレクトリが使はれます。例へば、&quot;<code>:browse split</code>&quot; で &quot;&lsquo;<samp>/usr/local/share</samp>&rsquo;&quot; のファイルを開いた場合、次に &quot;<code>:browse</code>&quot; を使つたときは &quot;&lsquo;<samp>/usr/local/share</samp>&rsquo;&quot; が使はれます。
</p>
<p>この動作は &rsquo;<samp>browsedir</samp>&rsquo; オプションで變更できます。次の値を設定できます:
</p>
<table>
<tr><td width="30%">last</td><td width="70%">最後に使つたディレクトリ (初期設定)</td></tr>
<tr><td width="30%">buffer</td><td width="70%">カレントバッファと同じディレクトリ</td></tr>
<tr><td width="30%">current</td><td width="70%">カレントディレクトリ</td></tr>
</table>

<p>例へば、カレントディレクトリが &quot;&lsquo;<samp>/usr</samp>&rsquo;&quot; で、&quot;&lsquo;<samp>/usr/local/share/readme</samp>&rsquo;&quot; を開いてゐるとき、次のコマンドを實行すると:
</p>
<pre class="verbatim">:set browsedir=buffer
:browse edit
</pre>
<p>&quot;&lsquo;<samp>/usr/local/share</samp>&rsquo;&quot; でブラウザーが開きます。次のやうに設定すると:
</p>
<pre class="verbatim">:set browsedir=current
:browse edit
</pre>
<p>&quot;&lsquo;<samp>/usr</samp>&rsquo;&quot; で開きます。
</p>
<blockquote>
<p><strong>Note:</strong> <br>
大抵のファイルブラウザーではキーボードが使へるので、マウスを使はなくても操作できます。操作方法はシステム依存なのでここでは說明しません。Vim は (可能な限り) 標準のブラウザーを使用します。システムのドキュメントにキーボードショートカットの說明が載つてゐるはずです。
</p></blockquote>

<p>GUI を使つてゐない場合でも、ファイルエクスプローラーを使へばファイルブラウザーと同じやうにファイルを選擇できます。ただし、&quot;<code>:browse</code>&quot; コマンドは使へません。|<a href="pi_005fnetrw_002etxt.html#netrw_002dbrowse">netrw-browse</a>| 參照。
</p>
<a name="g_t31_002e2"></a><a name="index-Cao-Zuo-Que-Ren-"></a>
<a name="Cao-Zuo-Que-Ren-"></a>
<h3 class="section">操作確認</h3>

<p>ファイルが上書きされたり變更が失はれたりするやうな操作は、閒違つて實行してしまはないやうに保護されてゐます。何かがマズいことになりさうなときは「本當にその操作を實行したい場合は &lsquo;<samp>!</samp>&rsquo; を付けてください」といふやうなエラーメッセージが表示されます。
</p>
<p>同じコマンドを再度入力したくない場合は、ダイアログを使ふと便利です。&quot;OK&quot; か &quot;Cancel&quot; を選ぶだけで動作を指示できます。
</p>
<p>例へば、ファイルを開いて變更を加へてから、次のコマンドで別のファイルを開きます:
</p>
<pre class="verbatim">:confirm edit foo.txt
</pre>
<p>すると、次のやうなダイアログが表示されます:
</p>
<pre class="verbatim">+-----------------------------------+
|                                   |
|   ?   Save changes to &quot;bar.txt&quot;?  |
|                                   |
|   YES   NO         CANCEL         |
+-----------------------------------+
</pre>
<p>ファイルを保存したい場合は &quot;YES&quot; を選擇します。變更を破毀したい場合は &quot;NO&quot; を選擇します。戾つて狀態を確認したい場合は &quot;CANCEL&quot; を選擇します。&quot;CANCEL&quot; を選擇すると元のファイルに戾れます。變更は失はれません。
</p>
<p>&quot;<code>:browse</code>&quot; と同樣、&quot;<code>:confirm</code>&quot; もファイルを開くためのコマンドと組み合はせることができます。同時に使ふこともできます:
</p>
<pre class="verbatim">:confirm browse edit
</pre>
<p>カレントバッファが未保存ならダイアログが表示されます。そして、ファイルブラウザーが表示され、ファイルを選擇できます。
</p>
<blockquote>
<p><strong>Note:</strong> <br>
ダイアログはキーボードで操作できます。一般的には、<code class="tt-key">&lt;TAB&gt;</code> キーと矢印キーで選擇を變更し、<code class="tt-key">&lt;Enter&gt;</code> で決定します。操作方法はシステムにより異なります。
</p></blockquote>

<p>&quot;<code>:conform</code>&quot; コマンドは CUI 版の Vim でも使へます。ダイアログの代はりに Vim ウィンドウの下部にメッセージが表示されるので、キーを押して操作を選擇してください。
</p>
<pre class="verbatim">:confirm edit main.c
</pre><pre class="verbatim">Save changes to &quot;Untitled&quot;?
[Y]es, (N)o, (C)ancel:
</pre>
<p>どれか 1 つのキーを押すと選擇できます。コマンドラインでの入力とは違ひ、<code class="tt-key">&lt;Enter&gt;</code> を押す必要はありません。
</p>
<a name="g_t31_002e3"></a><a name="index-meniyunosiyotokatuto"></a>
<a name="meniyunosiyotokatuto"></a>
<h3 class="section">メニューのショートカット</h3>

<p>キーボードを使へばすべてのコマンドを實行できます。メニューは (複雜な) コマンドを簡單に使ふための手段を提供しますが、キーボードから手を離してマウスを使はなければなりません。
</p>
<p>メニューはキーボードでも選擇できます。キーボードが使へるかどうかはシステム依存ですが、大抵は大丈夫です。メニューを選擇するには、メニューの下線付きの文字と <code class="tt-key">&lt;Alt&gt;</code> キーを組み合はせて使ひます。例へば、<kbd>&lt;A-w&gt;</kbd> (<code class="tt-key">&lt;Alt&gt;</code> と <code class="tt-key">w</code>) で [ウィンドウ] メニューが表示されます。
</p>
<p>[ウィンドウ] メニューの &quot;分割(p)&quot; アイテムは &lsquo;<samp>p</samp>&rsquo; に下線が付いてゐるので、<code class="tt-key">&lt;Alt&gt;</code> キーを押したまま <code class="tt-key">p</code> を押せば選擇できます。
</p>
<p><code class="tt-key">&lt;Alt&gt;</code> キーでメニューを表示した後は、カーソルキーを使つてメニューを選擇できます。サブメニューは <code class="tt-key">&lt;Right&gt;</code> で開いて <code class="tt-key">&lt;Left&gt;</code> で閉ぢることができます。閉ぢるのは <code class="tt-key">&lt;Esc&gt;</code> でも可能です。<code class="tt-key">&lt;Enter&gt;</code> でメニューを實行します。
</p>
<p><code class="tt-key">&lt;Alt&gt;</code> キーはメニュー選擇とキーマップの兩方で使はれるので操作が衝突します。<code class="tt-key">&lt;Alt&gt;</code> キーの動作は &rsquo;<samp>winaltkeys</samp>&rsquo; オプションで設定できます。
初期設定は &quot;<var>menu</var>&quot; です。メニューのショートカットと同じキーはマップできませんが、他のキーはマップすることができます。
</p>
<p>設定を &quot;<var>no</var>&quot; にすると、<code class="tt-key">&lt;Alt&gt;</code> キーを使つてメニューを選擇できなくなります。メニューを選擇するにはマウスを使ふ必要がありますが、すべての <code class="tt-key">&lt;Alt&gt;</code> キーをマップできます。
</p>
<p>設定を &quot;<var>yes</var>&quot; にすると、<code class="tt-key">&lt;Alt&gt;</code> キーはメニューのために使はれます。いくつかの <code class="tt-key">&lt;Alt&gt;</code> キー操作はメニュー選擇以外の動作になることもあります。
</p>
<a name="g_t31_002e4"></a><a name="index-Vim-uindounoWei-Zhi-tosaizu"></a>
<a name="Vim-uindounoWei-Zhi-tosaizu"></a>
<h3 class="section">Vim ウィンドウの位置とサイズ</h3>

<p>次のコマンドでスクリーン上の Vim ウィンドウの位置を確認できます:
</p>
<pre class="verbatim">:winpos
</pre>
<p>このコマンドは GUI でのみ機能します。次のやうな出力が表示されます:
</p>
<pre class="verbatim">Window position: X 272, Y 103
</pre>
<p>位置は畫面のピクセル單位です。數値を指定して Vim ウィンドウを移動することもできます。例へば、左に 100 ピクセル移動するには次のやうにします:
</p>
<pre class="verbatim">:winpos 172 103
</pre><blockquote>
<p><strong>Note:</strong> <br>
指定した位置と實際に移動した位置が少しずれることがあります。これはウィンドウの枠があるからです。ウィンドウマネージャーがずれを引き起こします。
</p></blockquote>

<p>このコマンドを起動スクリプトに書けば好きな位置でウィンドウを開くことができます。
</p>
<p>Vim ウィンドウのサイズは文字數で計算されるので、實際の幅はフォントの大きさに依存します。次のコマンドで現在のサイズを確認できます:
</p>
<pre class="verbatim">:set lines columns
</pre>
<p>サイズを變更するには &rsquo;<samp>lines</samp>&rsquo; と &rsquo;<samp>columns</samp>&rsquo; を設定します:
</p>
<pre class="verbatim">:set lines=50
:set columns=80
</pre>
<p>CUI 端末でもサイズを取得することができますが、ほとんどの端末ではサイズを變更できません。
</p>
<p>X-Windows 版の gvim では、ウィンドウの位置とサイズを起動引數で指定できます:
</p>
<pre class="verbatim">gvim -geometry {width}x{height}+{x_offset}+{y_offset}
</pre>
<p>{width} と {height} は文字數です。{x_offset} と {y_offset} はピクセル數です。例:
</p>
<pre class="verbatim">gvim -geometry 80x25+100+300
</pre>
<a name="g_t31_002e5"></a><a name="index-sonoTa--1"></a>
<a name="sonoTa--1"></a>
<h3 class="section">その他</h3>

<p>gvim はメールの編輯にも使へます。そのためには、メーラーを設定して、gvim をエディタとして選擇する必要があります。しかしそれだけではうまくいきません。gvim がまだ實行中にもかかはらず、メーラーは、gvim が編輯を終へたものと判斷してしまひます。
</p>
<p>gvim が起動するとき、gvim はシェルから分離されます。これは、端末から gvim を起動したときに、gvim と端末を平行して使ふことができるので便利です。gvim が終了するまで待機させたい場合は分離をしないやうにする必要があります。それには &quot;-f&quot; 引數を使ひます:
</p>
<pre class="verbatim">gvim -f file.txt
</pre>
<p>&quot;-f&quot; は &quot;foreground&quot; (操作中) の意味です。Vim を終了するまでシェルがブロックされます。
</p>

<a name="GUI-noChi-Yan-sutato"></a>
<h4 class="unnumberedsubsec">GUI の遲延スタート</h4>

<p>Unix では gvim を vim として起動することができます。これはシェルの中だけで作業を完結したい場合に便利です。ファイルの編輯中に GUI を使ひたくなつたら、次のコマンドで GUI を開始できます:
</p>
<pre class="verbatim">:gui
</pre>
<p>GUI ウィンドウが開いて端末が開放されるので、同じ端末で他の作業を開始できます。&quot;-f&quot; 引數を指定するとフォアグラウンドで GUI を開始できます。&quot;<code>:gui -f</code>&quot; のやうに指定します。
</p>

<a name="gvim-noQi-Dong-huairu"></a>
<h4 class="unnumberedsubsec">gvim の起動ファイル</h4>

<p>gvim を起動すると、<samp>gvimrc</samp> ファイルが讀み込まれます。これは Vim を起動したときに使はれる <samp>vimrc</samp> ファイルのやうなものです。<samp>gvimrc</samp> には、GUI を開始したときだけ使ひたい設定やコマンドを記述します。例へば、&rsquo;<samp>lines</samp>&rsquo; オプションを設定してウィンドウのサイズを變更できます:
</p>
<pre class="verbatim">:set lines=55
</pre>
<p>端末ではウィンドウサイズは固定なのでこの設定は必要ありません (サイズの變更をサポートしてゐる xterm もありますが)。
</p>
<p>gvimrc は vimrc と同じ場所から檢索されます。通常、Unix では &quot;<samp>~/.gvimrc</samp>&quot;、MS-Windows では &quot;<samp>$VIM/_gvimrc</samp>&quot; が使はれます。
<code>$MYGVIMRC</code> 環境變數に、讀み込まれたファイルの名前が設定されるので、次のコマンドでそのファイルを開くことができます (ファイルが存在するなら):
</p>
<pre class="verbatim">:edit $MYGVIMRC
</pre><p>何らかの理由で通常の <samp>gvimrc</samp> を使ひたくない場合は、&quot;-U&quot; 引數で他のファイルを指定できます:
</p>
<pre class="verbatim">gvim -U thisrc ...
</pre>
<p>いつもと違ふ設定で gvim を起動できます。例へばフォントのサイズを變更するなど。
</p>
<p><samp>gvimrc</samp> を讀み込みたくない場合は次のやうにします:
</p>
<pre class="verbatim">gvim -U NONE ...
</pre>
<hr>
<div class="header">
<p>
Next: <a href="usr_005f32_002etxt.html#usr_005f32_002etxt" accesskey="n" rel="next">usr_32.txt</a>, Previous: <a href="usr_005f30_002etxt.html#usr_005f30_002etxt" accesskey="p" rel="prev">usr_30.txt</a>, Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
