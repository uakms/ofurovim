<!DOCTYPE html>
<html lang="ja">
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>

<title>netbeans.txt (Vim Reference Manual)</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<meta name="description" content="netbeans.txt (Vim Reference Manual)">
<meta name="keywords" content="netbeans.txt (Vim Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="Mu-Ci-.html" rel="start" title="目次">
<link href="Indexes-CP.html" rel="index" title="Indexes CP">
<link href="Mu-Ci-.html" rel="up" title="目次">
<link href="sign_002etxt.html" rel="next" title="sign.txt">
<link href="workshop_002etxt.html" rel="prev" title="workshop.txt">
<style>
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="ja">
<span id="netbeans_002etxt"></span><div class="header">
<p>
Up: <a href="Mu-Ci-.html" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="NetBeans-External-Editor-intahueisu"></span><h2 class="unnumbered">NetBeans External Editor インターフェイス</h2>
<pre class="verbatim">*netbeans.txt*  For Vim バージョン 8.1.  Last change: 2019 May 05


                  VIMリファレンスマニュアル    by Gordon Prieur et al.
</pre>

<span id="netbeans"></span><span id="NetBeans"></span><span id="netbeans_002dsupport"></span><span id="index-netbeans"></span>
<span id="index-netbeans_002dsupport"></span>
<p>Vim NetBeans プロトコル: Vim と IDE を統合するためのソケットインターフェイス
</p>
<table>
<tr><td width="50%">1. はじめに</td><td width="50%">|<a href="#netbeans_002dintro">netbeans-intro</a>|</td></tr>
<tr><td width="50%">2. NetBeans インターフェイスでできること</td><td width="50%">|<a href="#netbeans_002dintegration">netbeans-integration</a>|</td></tr>
<tr><td width="50%">3. NetBeans 用に configure する</td><td width="50%">|<a href="#netbeans_002dconfigure">netbeans-configure</a>|</td></tr>
<tr><td width="50%">4. エラーメッセージ</td><td width="50%">|<a href="#netbeans_002dmessages">netbeans-messages</a>|</td></tr>
<tr><td width="50%">5. Vim を NetBeans モードで起動する</td><td width="50%">|<a href="#netbeans_002drun">netbeans-run</a>|</td></tr>
<tr><td width="50%">6. NetBeans プロトコル</td><td width="50%">|<a href="#netbeans_002dprotocol">netbeans-protocol</a>|</td></tr>
<tr><td width="50%">7. NetBeans コマンド</td><td width="50%">|<a href="#netbeans_002dcommands">netbeans-commands</a>|</td></tr>
<tr><td width="50%">8. 既知の問題</td><td width="50%">|<a href="#netbeans_002dproblems">netbeans-problems</a>|</td></tr>
<tr><td width="50%">9. NetBeans プロトコルのデバッグ</td><td width="50%">|<a href="#netbeans_002ddebugging">netbeans-debugging</a>|</td></tr>
<tr><td width="50%">10. NetBeans 外部エディタ</td></tr>
<tr><td width="50%">&nbsp;&nbsp;&nbsp;&nbsp;10.1. NetBeans をダウンロードする</td><td width="50%">|<a href="#netbeans_002ddownload">netbeans-download</a>|</td></tr>
<tr><td width="50%">&nbsp;&nbsp;&nbsp;&nbsp;10.2. NetBeans のキーバインド</td><td width="50%">|<a href="#netbeans_002dkeybindings">netbeans-keybindings</a>|</td></tr>
<tr><td width="50%">&nbsp;&nbsp;&nbsp;&nbsp;10.3. NetBeans 側の準備</td><td width="50%">|<a href="#netbeans_002dpreparation">netbeans-preparation</a>|</td></tr>
<tr><td width="50%">&nbsp;&nbsp;&nbsp;&nbsp;10.4. External Editor モジュールの入手</td><td width="50%">|<a href="#obtaining_002dexted">obtaining-exted</a>|</td></tr>
<tr><td width="50%">&nbsp;&nbsp;&nbsp;&nbsp;10.5. NetBeans の設定</td><td width="50%">|<a href="#netbeans_002dsetup">netbeans-setup</a>|</td></tr>
</table>

<p>{|<a href="various_002etxt.html#g_t_002bnetbeans_005fintg">+netbeans_intg</a>| 機能つきでコンパイルされたときのみ利用可能}
</p>
<span id="netbeans_002dintro"></span><span id="index-netbeans_002dintro"></span>
<span id="g_t1_002e-hazimeni-8"></span><h3 class="section">1. はじめに</h3>

<p>NetBeans インターフェイスは、最初は External Editor プラグインを使つて Vim と NetBeans Java IDE を統合するために開發されました。その NetBeans プラグインは今はもう NetBeans の新しいバージョンに對應してをらず、このプロトコルは任意の IDE と Vim を統合させるために開發されてゐます。
</p>
<p>Vim の NetBeans プロトコルは、古典的な TCP ソケットを使つた、テキストベースの通信プロトコルです。Java や NetBeans にはまつたく依存してゐません。ソケットインターフェイスさえ備へてゐれば、どんな言語・環境でもこのプロトコルを使つて Vim をコントロールできます。C, C++, Python, Java の實裝がすでに存在してゐます。歷史的な理由により NetBeans の名前が今も殘されてゐます。
</p>
<p>NetBeans プロトコルを使つたプロジェクトは現在のところ、以下のものがあります:
</p><ul>
<li> VimIntegration, Vim の統合を行つてゐる樣々なプロジェクトの說明

<p><a href="http://www.freehackers.org/VimIntegration">http://www.freehackers.org/VimIntegration</a>
</p></li><li> Agide, AAP プロジェクト用の IDE。Python で書かれてゐる。

<p><a href="http://www.a-a-p.org">http://www.a-a-p.org</a>
</p></li><li> Clewn, gdb 統合。C で書かれてゐる。

<p><a href="http://clewn.sourceforge.net/">http://clewn.sourceforge.net/</a>
</p></li><li> Pyclewn, gdb 統合。Python で書かれてゐる。

<p><a href="http://pyclewn.sourceforge.net/">http://pyclewn.sourceforge.net/</a>
</p></li><li> VimPlugin, Eclipse の內部に Vim を取り込む。

<p><a href="http://vimplugin.sourceforge.net/wiki/pmwiki.php">http://vimplugin.sourceforge.net/wiki/pmwiki.php</a>
</p></li><li> PIDA, Python で書かれた IDE。

<p><a href="http://pida.co.uk/">http://pida.co.uk/</a>
</p></li><li> VimWrapper, Vim と IDE を簡單に統合するためのライブラリ

<p><a href="http://www.freehackers.org/VimWrapper">http://www.freehackers.org/VimWrapper</a>
</p></li></ul>

<p>詳しくは、それぞれのプロジェクトページを參照してください。
</p>
<p>別の方法としてチャネルを使ふ方法があります。詳しくは |<a href="channel_002etxt.html#channel">channel</a>| を參照してください。
</p>
<p>このヘルプページの以降の部分で、NetBeans ソケットインターフェイスを使つて Vim をコントロールするプログラムのことを「Vim コントローラ」と呼びます。
</p>

<span id="NetBeans-IDE-nituite"></span><h4 class="unnumberedsubsec">NetBeans IDE について</h4>

<p>NetBeans は、Sun Microsystems, Inc. と netbeans.org の開發者コミュニティが合同で開發してゐるオープンソースの統合開發環境 (IDE) です。最初は Java の IDE でしたが、今では C, C++, Fortran もサポートするやうになつてゐます。
</p>
<p>NetBeans に關してより詳しくは http://www.netbeans.org を參照してください。The External Editor は殘念なことに obsolete と宣言されてゐます。
</p>
<p><a href="http://externaleditor.netbeans.org">http://externaleditor.netbeans.org</a>
</p>
<p>Sun Microsystems, Inc. は NetBeans を Sun ONE Studio といふ名前でもリリースしてゐます。Sun ONE Studio に關しては <a href="http://www.sun.com">http://www.sun.com</a> を參照してください。
</p>
<p>現在のところ、NetBeans は Java を完全サポート、C, C++, Fortran を限定的にサポートしてゐます。Sun ONE Studio は Java, C, C++, Fortran を完全サポートしてゐます。
</p>
<span id="netbeans_002dintegration"></span><span id="index-netbeans_002dintegration"></span>
<span id="g_t2_002e-NetBeans-intahueisudedekirukoto"></span><h3 class="section">2. NetBeans インターフェイスでできること</h3>

<p>Vim の NetBeans ソケットインターフェイスを使ふと、Vim から情報を引き出したり、Vim に指定の動作をさせることができます:
</p><ul>
<li> バッファに關する情報を取得する: バッファ名、カーソル位置、バッファの內容、など
</li><li> バッファが開く・閉ぢるとき通知してもらふ
</li><li> バッファの內容がどのやうに變はつたかを通知してもらふ
</li><li> ファイルを讀み込む・保存する
</li><li> バッファの內容を修正する
</li><li> 特殊なキーバインドをインストールする
</li><li> ウィンドウを前面に出す。ウィンドウの位置・サイズを調整する
</li></ul>

<p>Vim にキーストロークを送つたり、Vim の中で函數を評價するには |<a href="remote_002etxt.html#clientserver">clientserver</a>| インターフェイスを使ふ必要があります。
</p>

<span id="netbeans_002dconfigure"></span><span id="index-netbeans_002dconfigure"></span>
<span id="g_t3_002e-NetBeans-Yong-ni-configure-suru"></span><h3 class="section">3. NetBeans 用に configure する</h3>

<p>Vim のインストールについてより詳しくは、ユーザーマニュアルの |<a href="usr_005f90_002etxt.html">usr_90.txt</a>| を讀んでください。
</p>

<span id="Unix-deha_003a"></span><h4 class="unnumberedsubsec">Unix では:</h4>

<p>configure を引數なしで起動した場合、NetBeans インターフェイスを有效にできるか configure がチェックし、可能なら有效にします。
</p>
<p>NetBeans インターフェイスを有效にしたくない場合は、Makefile の中の &quot;&lsquo;<samp>--disable-netbeans</samp>&rsquo;&quot; の行のコメントアウトを解除すれば無效にできます。
</p>
<p>現在 NetBeans インターフェイスは端末動作の Vim と GUI (GTK, GNOME, Windows, Athena, Motif) の GVim でのみサポートされてゐます。
</p>
<p>Motif をサポートするためには XPM ライブラリが必要です。
XPM ライブラリは、Motif または Athena を使用して Vim內に畫像を表示するために必要です。それがなければ、ツールバーと目印 (sign) は無效になります。
</p>
<p>XPM ライブラリは、フランス國立コンピュータ科學硏究所の Arnaud Le Hors によつて提供されてゐます。それは <a href="http://cgit.freedesktop.org/xorg/lib/libXpm">http://cgit.freedesktop.org/xorg/lib/libXpm</a> からダウンロードすることができます。これを書いてゐる時點での現在のリリースは <samp>xpm-3.4k-solaris.tgz</samp> で、これは gzip された tar ファイルです。 ディレクトリ /usr/local/xpm を作成してそこにファイルを展開すると、<samp>Makefile</samp> のコメントアウトされてゐない行を變更せずに使用できます。 他の xpm ディレクトリを使用する場合は、src/Makefile の <code>XPM_DIR</code> を變更する必要があります。
</p>

<span id="MS_002dWindows-deha_003a"></span><h4 class="unnumberedsubsec">MS-Windows では:</h4>

<p>Win32 サポートは現在ベータ版の段階です。
</p>
<p>Win32 で XPM signs を使ふ(NetBeans と使ふ場合など)ためには、XPM を自分自身でコンパイルするか、コンパイル濟みライブラリを使ふ必要があります。
</p><ul>
<li> <a href="http://iamphet.nm.ru/misc/">http://iamphet.nm.ru/misc/</a> (MS Visual C++ 用)
</li><li> <a href="http://gnuwin32.sourceforge.net">http://gnuwin32.sourceforge.net</a> (MinGW 用)
</li></ul>

<span id="debatuguwoYou-Xiao-Hua-suru_003a"></span><h4 class="unnumberedsubsec">デバッグを有效化する:</h4>

<p>Vim と NetBeans プロトコルのデバッグを有效化するには、&quot;NBDEBUG&quot; マクロを定義する必要があります。お使ひのプラットフォーム用の Makefile の中から &quot;NBDEBUG&quot; を檢索し、どの行のコメントを解除すればよいかを調べてください。さうすればコンパイルコマンドに &quot;-DNBDEBUG&quot; が追加されます。|<a href="#netbeans_002ddebugging">netbeans-debugging</a>| も參照してください。
</p>
<span id="netbeans_002dmessages"></span><span id="index-netbeans_002dmessages"></span>
<span id="g_t4_002e-erametusezi"></span><h3 class="section">4. エラーメッセージ</h3>

<p>以下のエラーメッセージは NetBeans ソケットプロトコルのものです:
</p>
<dl compact="compact">
<dd><span id="E463"></span><span id="index-E463"></span>
</dd>
<dt>Region is guarded, cannot modify</dt>
<dt>日本語版: 領域が保護されてゐるので, 變更できません</dt>
<dd><p>Vim コントローラがテキスト中に保護領域を設定してをり、そこを變更することはできません。必要に應じてカレントバッファもセットします。
</p>
<span id="E532"></span><span id="index-E532"></span>
</dd>
<dt>The defineAnnoType highlighting color name is too long</dt>
<dd><p>defineAnnoType コマンドの &quot;fg&quot; と &quot;bg&quot; の色指定引數の最大長は 32 文字です。
</p>
<p>バージョン 2.5 で新たに追加された仕樣。
</p>
<span id="E656"></span><span id="index-E656"></span>
</dd>
<dt>Writes of unmodified buffers forbidden</dt>
<dd><p>Vim コントローラによつて開かれてゐる變更されてゐないバッファを書き出すことはできません。
</p>
<span id="E657"></span><span id="index-E657"></span>
</dd>
<dt>Partial writes disallowed</dt>
<dd><p>Vim コントローラによつて開かれてゐるバッファの部分的な書き出しはできません。
</p>
<span id="E658"></span><span id="index-E658"></span>
</dd>
<dt>Connection lost for this buffer</dt>
<dt>日本語版: バッファの NetBeans 接續が失はれました</dt>
<dd><p>Vim コントローラがこのファイルの狀態について混亂してしまひました。データを破損する危險を冒すよりも、このファイルに對する接續を切斷することを選びました。このファイルに對する變更を保存する責任は Vim が引き繼ぎ、Vim コントローラはもうそれらについて關知しません。
</p>
<span id="E744"></span><span id="index-E744"></span>
</dd>
<dt>Read-only file</dt>
<dt>日本語版: NetBeans は讀込專用ファイルを變更することを許しません</dt>
<dd><p>通常の Vim では、讀み込み專用ファイルを變更することはでき、ファイルを書き出すときだけ讀み込み專用のルールが適用されます。しかし、NetBeans はユーザーが讀み込み專用ファイルに變更を施すことを許可しません。そのため、Vim が讀み込み專用ファイルを變更すると混亂してしまひます。そのため、NetBeans モードで動作してゐるときは、Vim でもファイルへの變更を許可しないやうにしてゐます。
</p></dd>
</dl>

<span id="netbeans_002drun"></span><span id="index-netbeans_002drun"></span>
<span id="g_t5_002e-Vim-wo-NetBeans-mododeQi-Dong-suru"></span><h3 class="section">5. Vim を NetBeans モードで起動する</h3>

<p>Vim を NetBeans モードで實行するには 2 つの方法があります:
</p>
<ul>
<li> IDE から起動するときなどに Vim に |<a href="starting_002etxt.html#g_t_002dnb">-nb</a>| 引數を付けて起動する
</li><li> Vim の中で |<a href="#g_t_003anbstart">:nbstart</a>| コマンドを使つて開始する
</li></ul>

<p>Vim は接續試行時に 3 秒のタイムアウトを用ゐます。
</p>
<span id="netbeans_002dparameters"></span><span id="index-netbeans_002dparameters"></span>
<p>NetBeans 接續情報を指定する形式は 3 通りあります。コマンドラインで |<a href="starting_002etxt.html#g_t_002dnb">-nb</a>| 引數を指定するときは次のやうに指定します:
</p>
<table>
<tr><td width="60%">-nb={fname}</td><td width="40%">ファイルから</td></tr>
<tr><td width="60%">-nb:{hostname}:{addr}:{password}</td><td width="40%">直接指定</td></tr>
<tr><td width="60%">-nb</td><td width="40%">ファイルまたは環境變數から</td></tr>
</table>

<p>Vim の中で |<a href="#g_t_003anbstart">:nbstart</a>| コマンドの引數として指定するときは次のやうに指定します:
</p>
<table>
<tr><td width="60%">={fname}</td><td width="40%">ファイルから</td></tr>
<tr><td width="60%">:{hostname}:{addr}:{password}</td><td width="40%">直接指定</td></tr>
<tr><td width="60%">&lt;MISSING ARGUMENT&gt;</td><td width="40%">ファイルまたは環境變數から</td></tr>
</table>

<span id="E660"></span><span id="E668"></span><span id="index-E660"></span>
<span id="index-E668"></span>
<p>NetBeans の開始をコマンドラインで指定するとき、セキュリティ上の理由からベストな方法は、情報をファイルに書き、自分だけが讀めるやうにしておくことです。ファイル名は &quot;-nb={fname}&quot; で渡すか、または &quot;-nb&quot; をパラメーターなしで使ふと環境變數 &quot;__NETBEANS_CONINFO&quot; が使はれます。このファイルは以下の 3 行を含んでゐなければなりません (順序は問はない):
</p>
<pre class="verbatim">host={hostname}
port={addr}
auth={password}
</pre>
<p>これ以外の行は無視されます。Vim コントローラが終了後にこのファイルを削除する責任を負ひます。
</p>
<p>{hostname} は Vim コントローラが動作するマシンの名前です。省略されたときは、環境變數 &quot;__NETBEANS_HOST&quot; または既定値の &quot;localhost&quot; が使はれます。
</p>
<p>{addr} は NetBeans インターフェイスのポート番號です。省略されたときは、環境變數 &quot;__NETBEANS_SOCKET&quot; または既定値の 3219 が使はれます。
</p>
<p>{password} は NetBeans への接續のパスワードです。省略されたときは、環境變數 &quot;__NETBEANS_VIM_PASSWORD&quot; または &quot;changeme&quot; が使はれます。
</p>
<p>Vim は起動時に、指定されたホスト・ポートへのソケット接續 (クライアント側) を初期化します。接續が確立されると、AUTH イベントによりパスワードが送信されます。
</p>

<span id="netbeans_002dprotocol"></span><span id="index-netbeans_002dprotocol"></span>
<span id="g_t6_002e-NetBeans-purotokoru"></span><h3 class="section">6. NetBeans プロトコル</h3>

<p>Vim コントローラと Vim の通信にはプレーンテキストのメッセージが使はれます。このプロトコルは、最初は NetBeans の External Editor モジュールと協調して動作するやうに設計されました。その後、Agide (A-A-P GUI IDE, <a href="http://www.a-a-p.org">http://www.a-a-p.org</a> を參照) と、そして他の IDE とも動作するやうに擴張されました。この擴張は &quot;version 2.1&quot; とバージョンづけられてゐます。
</p>
<p>プロトコル version 2.2 は小さな變更で、NetBeans ユーザーにのみ影響し、Agide ユーザーには無關係なはずでした。しかし、あるバグが修正されました。netbeans_saved() 函數が &quot;save&quot; プロトコルコマンドを送信するのですが、プロトコル version 2.1 とそれ以前では、それが書き込みが行はれたことの通知であると誤解されてゐました。
</p>
<p>實際は NetBeans に對して保存するやう通知するものだつたので、複數の書き込みが行はれました。これが樣々な問題を引き起こし、2.2 で修正されました。以降、同じ閒違ひが起こらないやうにするため、netbeans_saved() は netbeans_save_buffer() と名前が變更されました。
</p>
<p>現在のバージョンは 2.5 です。2.4 と 2.5 の違ひは下記文章から &quot;2.5&quot; を檢索してください。
</p>
<p>メッセージはソケットを通じて送られます。メッセージは UTF-8 のプレーンテキストなので、このプロトコルは他のどんな通信メカニズムでも使へます。
</p>
<p>Netbeans メッセージは Vim がユーザー入力待ちでアイドル狀態のときに處理されます。Vim が非對話モードのとき (例へば Vim script による自動テストを實行してゐるときなど) は、アイドルループは頻繁には呼ばれないのでメッセージ處理が追ひつかないかもしれません。その場合は Vim script に |<a href="various_002etxt.html#g_t_003asleep">:sleep</a>| コマンドを入れてください。|<a href="various_002etxt.html#g_t_003asleep">:sleep</a>| コマンドは Netbeans メッセージの處理を呼び出します。
</p>
<table>
<tr><td width="50%">6.1 メッセージの種類</td><td width="50%">|<a href="#nb_002dmessages">nb-messages</a>|</td></tr>
<tr><td width="50%">6.2 用語</td><td width="50%">|<a href="#nb_002dterms">nb-terms</a>|</td></tr>
<tr><td width="50%">6.3 コマンド</td><td width="50%">|<a href="#nb_002dcommands">nb-commands</a>|</td></tr>
<tr><td width="50%">6.4 函數と應答</td><td width="50%">|<a href="#nb_002dfunctions">nb-functions</a>|</td></tr>
<tr><td width="50%">6.5 イベント</td><td width="50%">|<a href="#nb_002devents">nb-events</a>|</td></tr>
<tr><td width="50%">6.6 特別なメッセージ</td><td width="50%">|<a href="#nb_002dspecial">nb-special</a>|</td></tr>
<tr><td width="50%">6.7 プロトコルエラー</td><td width="50%">|<a href="#nb_002dprotocol_005ferrors">nb-protocol_errors</a>|</td></tr>
</table>


<span id="nb_002dmessages"></span><span id="index-nb_002dmessages"></span>
<span id="g_t6_002e1-metusezinoZhong-Lei-"></span><h4 class="unnumberedsubsec">6.1 メッセージの種類</h4>

<p>メッセージには 4 つの種類があります:
</p>
<table>
<thead><tr><th width="20%">種類</th><th width="30%">方向</th><th width="50%">コメント</th></tr></thead>
<tr><td width="20%">コマンド</td><td width="30%">IDE -&gt; editor</td><td width="50%">應答は必要ない</td></tr>
<tr><td width="20%">函數</td><td width="30%">IDE -&gt; editor</td><td width="50%">エディタは應答を送信しなければならない</td></tr>
<tr><td width="20%">應答</td><td width="30%">editor -&gt; IDE</td><td width="50%">函數への應答としてのみ送られる</td></tr>
<tr><td width="20%">イベント</td><td width="30%">editor -&gt; IDE</td><td width="50%">應答は必要ない</td></tr>
</table>

<p>メッセージは、改行文字で終はる一行として送られます。引數は 1 つのスペースで區切られます。メッセージの最初の要素はメッセージの種類に依存します:
</p>
<table>
<thead><tr><th width="20%">種類</th><th width="40%">最初の要素</th><th width="40%">例</th></tr></thead>
<tr><td width="20%">コマンド</td><td width="40%">bufID:name!seqno</td><td width="40%">11:showBalloon!123 &quot;text&quot;</td></tr>
<tr><td width="20%">函數</td><td width="40%">bufID:name/seqno</td><td width="40%">11:getLength/123</td></tr>
<tr><td width="20%">應答</td><td width="40%">seqno</td><td width="40%">123 5000</td></tr>
<tr><td width="20%">イベント</td><td width="40%">bufID:name=seqno</td><td width="40%">11:keyCommand=123 &quot;S-F2&quot;</td></tr>
</table>



<span id="nb_002dterms"></span><span id="index-nb_002dterms"></span>
<span id="g_t6_002e2-Yong-Yu-"></span><h4 class="unnumberedsubsec">6.2 用語</h4>

<dl compact="compact">
<dt>bufID</dt>
<dd><p>バッファ ID。メッセージは特定のバッファ向けの場合も、全體用の場合もあります。全體用のメッセージは bufID 0 を使ひます。
</p><blockquote>
<p><strong>Note:</strong> <br>
このバッファ ID は IDE によつて割り當てられるもので、Vim のバッファ番號とは異なります。
</p></blockquote>
<p>bufID は連續して增加する番號で、1 から始まります。&rsquo;<samp>switchbuf</samp>&rsquo; オプションが &quot;usetab&quot; に設定されてゐる狀態で &quot;bufID&quot; のバッファが現在のタブページで見つからない場合に、netbeans コマンドおよび函數はカレントウィンドウでバッファを入れ替へる代はりに他のタブページに含まれるこのバッファのうち最初のものへジャンプし、それをカレントバッファとして設定します。
</p>
</dd>
<dt>seqno</dt>
<dd><p>IDE が Vim にコマンド・函數を發行するときつけられる連續する番號です。應答は、その元メッセージと同じシーケンス番號を使はねばなりません。シーケンス番號 0 はイベント用に使はれます (最後に受け取つたコマンドまたは函數のシーケンス番號が使はれることもあります)。
</p>
</dd>
<dt>string</dt>
<dd><p>ダブルクォートで圍まれた文字列。UTF-8 でエンコードされます。よつて ASCII 文字はそのままとなります。特殊文字はバックスラッシュをつけて表現されます:
</p><table>
<tr><td width="20%">\&quot;</td><td width="80%">ダブルクォート</td></tr>
<tr><td width="20%">\n</td><td width="80%">改行</td></tr>
<tr><td width="20%">\r</td><td width="80%">復歸</td></tr>
<tr><td width="20%">\t</td><td width="80%">タブ (任意。そのままでも使へます)</td></tr>
<tr><td width="20%">\\</td><td width="80%">バックスラッシュ</td></tr>
</table>
<p>NUL 文字は使用できません。
</p>
</dd>
<dt>boolean</dt>
<dd><p>次の 2 つの値のどちらかとなります。
</p><table>
<tr><td width="50%">T</td><td width="50%">true</td></tr>
<tr><td width="50%">F</td><td width="50%">false</td></tr>
</table>

</dd>
<dt>number</dt>
<dd><p>10 進數の數値。
</p>
</dd>
<dt>color</dt>
<dd><p>10 進數の數値か &quot;none&quot; (クォートなし) か色の名前 (クォートなし) のいづれか。色の名前は |<a href="syntax_002etxt.html#highlight_002dctermfg">highlight-ctermfg</a>| と |<a href="syntax_002etxt.html#gui_002dcolors">gui-colors</a>| で定義されてゐる名前。
</p>
<p>バージョン 2.5 で新たに追加された仕樣。
</p>
</dd>
<dt>offset</dt>
<dd><p>バッファ中のバイト位置を示す數値。第 1 バイト目のオフセットは 0 となります。改行は、ファイル中での表現と同じくカウントされます (CR/LF は 2 バイト)。
</p><blockquote>
<p><strong>Note:</strong> <br>
マルチバイト文字は、そのバイト數カウントされます。
</p></blockquote>

</dd>
<dt>lnum/col</dt>
<dd><p>行番號と桁番號。行番號は 1 から始まり、桁番號は 0 から始まるバイト位置となります。
</p><blockquote>
<p><strong>Note:</strong> <br>
マルチバイト文字は 2 桁以上を占めることに注意してください。
</p></blockquote>

</dd>
<dt>pathname</dt>
<dd><p>文字列: フルパスでのファイル名
</p></dd>
</dl>


<span id="nb_002dcommands"></span><span id="index-nb_002dcommands"></span>
<span id="g_t6_002e3-Commands"></span><h4 class="unnumberedsubsec">6.3 Commands</h4>

<dl compact="compact">
<dt>actionMenuItem</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>actionSensitivity</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>addAnno serNum typeNum off len</dt>
<dd><p>このバッファに annotation をつけます。
</p>
<p>引數:
</p><table>
<tr><td width="20%">serNum</td><td width="20%">number</td><td width="60%">この annotation の通し番號。削除するときに使はれます。</td></tr>
<tr><td width="20%">typeNum</td><td width="20%">number</td><td width="60%">このバッファに對して defineAnnoType で定義された annotation タイプの番號。</td></tr>
<tr><td width="20%">off</td><td width="20%">number</td><td width="60%">annotation をつける位置のオフセット</td></tr>
<tr><td width="20%">len</td><td width="20%">number</td><td width="60%">未使用</td></tr>
</table>
<p>version 2.1 では &quot;off&quot; の代はりに &quot;lnum/col&quot; が使へます。
</p>
</dd>
<dt>balloonResult text</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>close</dt>
<dd><p>バッファを閉ぢます。これを使ふとカレントバッファがない狀態になります。非常に危險です!
</p>
</dd>
<dt>create</dt>
<dd><p>名前をつけてバッファを作成します。作成されたバッファがカレントバッファになります (元のバッファは、變更されてゐれば hidden 狀態になります)。
</p>
<p>Vim コントローラは、開いてゐるファイルに對する最初のコマンドとしてこのコマンドを使ふべきです。一聯のコマンドの例は次のやうになります:
</p><table>
<tr><td width="60%">create</td><td width="40%"></td></tr>
<tr><td width="60%">setCaretListener</td><td width="40%">(無視される)</td></tr>
<tr><td width="60%">setModified</td><td width="40%">(效果なし)</td></tr>
<tr><td width="60%">setContentType</td><td width="40%">(無視される)</td></tr>
<tr><td width="60%">startDocumentListen</td><td width="40%"></td></tr>
<tr><td width="60%">setTitle</td><td width="40%"></td></tr>
<tr><td width="60%">setFullName</td><td width="40%"></td></tr>
</table>

</dd>
<dt>defineAnnoType typeNum typeName tooltip glyphFile fg bg</dt>
<dd><p>このバッファに對する annotation のタイプを定義します。
</p>
<p>引數:
</p><table>
<tr><td width="20%">typeNum</td><td width="20%">number</td><td width="60%">シーケンス番號 (實際には使はれない)</td></tr>
<tr><td width="20%">typeName</td><td width="20%">string</td><td width="60%">この annotation を識別するための名前</td></tr>
<tr><td width="20%">tooltip</td><td width="20%">string</td><td width="60%">未使用</td></tr>
<tr><td width="20%">glyphFile</td><td width="20%">string</td><td width="60%">アイコンのファイル名</td></tr>
<tr><td width="20%">fg</td><td width="20%">color</td><td width="60%">行の文字色</td></tr>
<tr><td width="20%">bg</td><td width="20%">color</td><td width="60%">行の背景色</td></tr>
</table>
<p>Vim はこの annotation に對して目印を定義します。
</p>
<p>色を數値で指定するときは &quot;#rrggbb&quot; で赤綠靑での色指定になり (|<a href="syntax_002etxt.html#gui_002dcolors">gui-colors</a>| 參照) GVim でのみ定義されます。
</p>
<p>色を名前で指定するときはその色はカラー端末上で動作する Vim と GVim の兩方で定義されたものです。
</p>
<p>&quot;fg&quot; と &quot;bg&quot; が兩方とも &quot;none&quot; の場合、行は强調されません (version 2.1 から)。
</p>
<p>&quot;glyphFile&quot; が空の場合、テキストの目印は使はれません (version 2.1 から)。
</p>
<p>&quot;glyphFile&quot; が 1 または 2 文字である場合、テキストの目印が定義されます (version 2.1 から)。
</p><blockquote>
<p><strong>Note:</strong> <br>
annotation にはシーケンス番號がつけられ、その番號は addAnno で使はれます。
</p></blockquote>

</dd>
<dt>editFile pathname</dt>
<dd><p>バッファの名前をセットし、ファイル &quot;pathname&quot; を開きます。IDE が開くファイルをエディタに傳へる通常の方法です。
</p>
<p>バッファに bufID を割り當てるため、このコマンドに對する bufID は 0 以外の値にしなければなりません。bufID 0 でイベント fileOpened が發生しますが、バッファは割り當てられてゐます。
</p>
<p>IDE からエディタにファイルのテキストを渡したい場合には、代はりに次のコマンドを使つてください:
</p><pre class="verbatim">setFullName
insert
initDone
</pre><p>version 2.1 から。
</p>
</dd>
<dt>enableBalloonEval</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>endAtomic</dt>
<dd><p>アトミックな操作を終了します。&quot;startAtomic&quot; と &quot;endAtomic&quot; の閒に行はれた變更は 1 つの操作として undo されます。しかし現在は未實裝です。必要に應じて再描畫をしてください。
</p>
</dd>
<dt>guard off len</dt>
<dd><p>バッファ內の領域を保護します。保護された領域を變更することはできません。&quot;off&quot; と &quot;len&quot; は number で、保護されるテキストを指定します。
</p>
</dd>
<dt>initDone</dt>
<dd><p>バッファの準備ができたとマークします。暗默的にそのバッファをカレントバッファにします。自動コマンドイベント BufReadPost を發生させます。
</p>
</dd>
<dt>insertDone</dt>
<dd><p>Vim コントローラから Vim へ、最初のファイルの插入が行はれたことを通知します。これにより、ファイル讀み込みのメッセージが表示されます。version 2.3 より前は、ファイルを開いた後にメッセージが表示されませんでした。
</p>
<p>version 2.3 から。
</p>
</dd>
<dt>moveAnnoToFront serNum</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>netbeansBuffer isNetbeansBuffer</dt>
<dd><p>&quot;isNetbeansBuffer&quot; が &quot;T&quot; ならば、このバッファは NetBeans により「所有」されます。
</p>
<p>version 2.2 から。
</p>
</dd>
<dt>putBufferNumber pathname</dt>
<dd><p>pathname は string。&quot;pathname&quot; といふ名前のバッファにバッファ番號を割り當てます。エディタで新たにファイルが開かれると、そのことを IDE に通知します。そして IDE はそのファイルに對してバッファ番號を割り當てます。そのときこのコマンドが使はれます。そのバッファは初期化濟みとマークされます。
</p>
<p>version 2.1 から。
</p>
</dd>
<dt>raise</dt>
<dd><p>エディタを前面に移動します。GUI Vim でのみ有效。
</p>
<p>version 2.1 から。
</p>
</dd>
<dt>removeAnno serNum</dt>
<dd><p>以前にこのバッファに對してつけられた annotation を削除します。&quot;serNum&quot; は addAnno で使はれたのと同じ番號です。
</p>
</dd>
<dt>save</dt>
<dd><p>バッファが變更されたとき保存します。インターフェイスのもう一方側はバッファを書き出し、&quot;setModified&quot; を呼び出してバッファの &quot;changed&quot; フラグをオフにすることを期待されてゐます。
これらの條件が眞になる場合、書き込みはスキップされます:
</p><ul>
<li> &rsquo;<samp>write</samp>&rsquo; がオフのとき
</li><li> バッファが讀み込み專用のとき
</li><li> バッファがファイル名を持たないとき
</li><li> &rsquo;<samp>buftype</samp>&rsquo; により書き込みが禁止されてゐるとき
</li></ul>
<p>version 2.2 から。
</p>
</dd>
<dt>saveDone</dt>
<dd><p>Vim コントローラから Vim へ、保存が行はれたことを通知します。これによつて保存メッセージが表示されます。version 2.3 より前では、保存メッセージは表示されませんでした。
</p>
<p>version 2.3 から。
</p>
</dd>
<dt>setAsUser</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>setBufferNumber pathname</dt>
<dd><p>&quot;pathname&quot; といふ名前のバッファにバッファ番號を割り當てます。エディタで新たにファイルが開かれると、そのことを IDE に通知します。そして IDE はそのファイルに對してバッファ番號を割り當てます。そのときこのコマンドが使はれます。
</p>
<p>このバッファがカレントバッファになるといふ副作用があります。&quot;putBufferNumber&quot; の方がより便利なコマンドです。
</p>
</dd>
<dt>setContentType</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>setDot off</dt>
<dd><p>このバッファをカレントバッファにし、カーソルを指定した位置に移動します。バッファが他のウィンドウで開かれてゐる場合は、そのウィンドウがカレントウィンドウになります。
</p>
<p>折り疊みがある場合、カーソル行が見えるやうに開かれます。version 2.1 では &quot;off&quot; の代はりに &quot;lnum/col&quot; が使へます。
</p>
</dd>
<dt>setExitDelay seconds</dt>
<dd><p>&quot;seconds&quot; は number。終了の遲延をセットします。この遲延によつて、IDE に對して本當に終了するまへに何かをするチャンスを與へます。既定値は 2 秒です。
</p>
<p>version 2.1 から。
</p>
<p>version 2.3 から非推奬になりました。
</p>
</dd>
<dt>setFullName pathname</dt>
<dd><p>バッファ &quot;pathname&quot; に對するファイル名をセットします。引數は string です。
</p>
<p>IDE の制禦下にあるファイルを IDE が編輯したいときに使はれます。このバッファがカレントバッファになりますが、ファイルは讀み込まれません。その內容をセットするため、次に &quot;insert&quot; コマンドが發行されます。
</p>
</dd>
<dt>setLocAndSize</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>setMark</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>setModified modified</dt>
<dd><p>boolean の引數 &quot;modified&quot; が &quot;T&quot; のとき、バッファを modified 狀態にします。&quot;F&quot; のときは unmodified にします。
</p>
</dd>
<dt>setModtime time</dt>
<dd><p>Vim コントローラによりファイルが直接保存されたあとに發行されます。バッファの變更時刻を更新します。
</p>
<p>version 2.3 から。
</p>
</dd>
<dt>setReadOnly</dt>
<dd><p>ファイルを讀み込み專用にします。
</p>
<p>version 2.3 で實裝されました。
</p>
</dd>
<dt>setStyle</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>setTitle name</dt>
<dd><p>&quot;name&quot; といふ名前のバッファのタイトルをセットします。引數 &quot;name&quot; は string。このタイトルは Vim コントローラ函數でのみ使はれ、Vim では使はれません。
</p>
</dd>
<dt>setVisible visible</dt>
<dd><p>boolean の引數 &quot;visible&quot; が &quot;T&quot; の場合は、そのバッファへ移動します。&quot;F&quot; の場合は何もしません。
</p>
</dd>
<dt>showBalloon text</dt>
<dd><p>マウスポインタの位置に、&quot;text&quot; といふ內容のバルーンウィンドウ (ポップアップウィンドウ) を表示します。引數 &quot;text&quot; は string です。マウスが 2, 3 ピクセル以上移動すると、バルーンウィンドウは消えます。
</p>
<p>GUI Vim でのみ有效。
</p>
<p>version 2.1 から。
</p>
</dd>
<dt>specialKeys</dt>
<dd><p>Vim コントローラに戾して處理させるキー (大抵はファンクションキー) を設定します。これによつて Vim の中で IDE のホットキーを使ふことができるやうになります。
</p>
<p>version 2.3 で實裝されました。
</p>
</dd>
<dt>startAtomic</dt>
<dd><p>アトミックな操作を開始します。&quot;endAtomic&quot; が發行されるまで畫面の更新は行はれません。
</p>
</dd>
<dt>startCaretListen</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>startDocumentListen</dt>
<dd><p>そのバッファにおける變更を &quot;insert&quot; と &quot;remove&quot; イベントによつてIDE に通知するやうセットします。既定では通知するやうになつてゐます。
</p>
</dd>
<dt>stopCaretListen</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>stopDocumentListen</dt>
<dd><p>そのバッファにおける變更を IDE に通知しないやうにします。 startDocumentListen の逆です。
</p><blockquote>
<p><strong>Note:</strong> *
&quot;netbeansBuffer&quot; によつてこのバッファが NetBeans バッファであるとマークされてゐる場合、このバッファは Vim の中で削除されます。Sun Studio 10 との互換性のためです。
</p></blockquote>

</dd>
<dt>unguard off len</dt>
<dd><p>&quot;guard&quot; の逆で、テキスト領域に對する保護を解除します。必要に應じてカレントバッファもセットします。
</p>
</dd>
<dt>version</dt>
<dd><p>未實裝。
</p></dd>
</dl>


<span id="nb_002dfunctions"></span><span id="index-nb_002dfunctions"></span>
<span id="g_t6_002e4-Guan-Shu-toYing-Da-"></span><h3 class="section">6.4 函數と應答</h3>

<dl compact="compact">
<dt>getDot</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>getCursor</dt>
<dd><p>カレントバッファの bufID とカーソル位置を返します。
</p>
<p>應答は次の形式:
</p><pre class="verbatim">seqno bufID lnum col off
</pre><table>
<tr><td width="20%">seqno</td><td width="80%">函數のシーケンス番號</td></tr>
<tr><td width="20%">bufID</td><td width="80%">カレントバッファの bufID (未知なら -1)</td></tr>
<tr><td width="20%">lnum</td><td width="80%">カーソル位置の行番號 (1 から始まる)</td></tr>
<tr><td width="20%">col</td><td width="80%">カーソル位置の桁番號 (バイト單位。0 から始まる)</td></tr>
<tr><td width="20%">off</td><td width="80%">カーソル位置のバッファ內のオフセット (バイト單位)</td></tr>
</table>
<p>version 2.1 から。
</p>
</dd>
<dt>getLength</dt>
<dd><p>バッファの長さをバイト單位で返します。
</p>
<p>5000 バイトのバッファにおける應答の例:
</p><pre class="verbatim">123 5000
</pre><blockquote>
<p><strong>TODO:</strong> <br>
部分行の使ひ方を說明する。
</p></blockquote>

</dd>
<dt>getMark</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>getAnno serNum</dt>
<dd><p>指定された annotation の行番號を返す。
</p>
<p>引數:
</p><table>
<tr><td width="20%">serNum</td><td width="80%">annotation の通し番號</td></tr>
</table>
<p>應答は次の形式:
</p><table>
<tr><td width="40%">123 lnum</td><td width="60%">annotation の行番號</td></tr>
<tr><td width="40%">123 0</td><td width="60%">無效な annotation 番號</td></tr>
</table>
<p>version 2.4 から。
</p>
</dd>
<dt>getModified</dt>
<dd><p>バッファが指定された場合: バッファが變更されてゐないなら 0、變更されてゐるなら 1 を返します。
</p>
<p>バッファが指定されない場合(bufID が 0 の場合): 變更されてゐるバッファの數を返します。戾り値が 0 なら、Vim に終了するやう指示しても安全です。
</p>
<p>version 2.1 から。
</p>
</dd>
<dt>getText</dt>
<dd><p>バッファの中身を文字列として返します。2 行だけのバッファにおける應答の例:
</p><pre class="verbatim">123 &quot;first line\nsecond line\n&quot;
</pre><blockquote>
<p><strong>Note:</strong> <br>
ドキュメントには引數 offset と length が記述されてゐますが、實裝されてゐません。
</p></blockquote>

</dd>
<dt>insert off text</dt>
<dd><p>位置 &quot;off&quot; の前に &quot;text&quot; を插入します。&quot;text&quot; は string、&quot;off&quot; は number です。
&quot;text&quot; の行末には &quot;\n&quot; (改行) がつきます。&rsquo;<samp>fileformat</samp>&rsquo; が &quot;dos&quot; の場合には &quot;\r\n&quot; がつきます。空バッファに對して &quot;insert&quot; を行ふと、Vim はそれに應じて &rsquo;<samp>fileformat</samp>&rsquo; を設定します。
</p>
<p>&quot;off&quot; が行頭を指してゐる場合、その行の前に插入されます。そのため、&quot;off&quot; が 0 の場合、最初の行の前に插入されます。
&quot;off&quot; が行頭よりも後を指す場合 (行末の NUL を指す場合も含め)、テキストの最初の行はその行に追加されます。2 行目以降はその下にきます。
應答は次のやうになります:
</p><table>
<tr><td width="50%">123</td><td width="50%">問題なし</td></tr>
<tr><td width="50%">123 !message</td><td width="50%">失敗</td></tr>
</table>
<blockquote>
<p><strong>Note:</strong> <br>
應答のメッセージはクォートされてゐません。必要に應じてこのバッファをカレントバッファにします。變更されたテキストへカーソルを移動させません。undo 情報をリセットします。
</p></blockquote>

</dd>
<dt>remove off length</dt>
<dd><p>位置 &quot;off&quot; のテキストを &quot;length&quot; バイト削除します。どちらの引數も number です。
應答は次のやうになります:
</p><table>
<tr><td width="50%">123</td><td width="50%">問題なし</td></tr>
<tr><td width="50%">123 !message</td><td width="50%">失敗</td></tr>
</table>
<blockquote>
<p><strong>Note:</strong> <br>
應答のメッセージはクォートされてゐません。必要に應じてこのバッファをカレントバッファにします。
</p></blockquote>

</dd>
<dt>saveAndExit</dt>
<dd><p>&quot;<code>:confirm qall</code>&quot; と同じことをします (Vim を閉ぢる)。變更されたファイルがない、またはユーザーが操作をキャンセルしなかつた場合、Vim は終了し、戾り値は送信されません。IDE は接續が切斷したことをもつて成功と判斷できます。ユーザーが操作をキャンセルした場合、變更されてゐるバッファの番號が返され、Vim は終了しません。
</p>
<p>version 2.1 から。
</p></dd>
</dl>


<span id="nb_002devents"></span><span id="index-nb_002devents"></span>
<span id="g_t6_002e5-ibento"></span><h4 class="unnumberedsubsec">6.5 イベント</h4>

<dl compact="compact">
<dt>balloonEval off len type</dt>
<dd><p>マウスポインタが一定時閒テキストの上に置かれました。&quot;len&quot; が 0 の場合、マウスポインタが &quot;off&quot; の位置にあり、選擇がされてゐないことを意味します。
</p>
<p>&quot;len&quot; が 0 でない場合、&quot;off&quot; から &quot;off&quot; + &quot;len&quot; までのテキストが選擇されてゐることを意味します。
</p>
<p>バッファに對して &quot;enableBalloonEval&quot; が使はれた後でのみ送信されます。&quot;type&quot; はまだ定義されてゐません。
</p>
<p>未實裝。
</p>
</dd>
<dt>balloonText text</dt>
<dd><p>&rsquo;<samp>ballooneval</samp>&rsquo; がセットされてをり、マウスポインタが一定時閒テキストの上に置かれたとき發生します。&quot;text&quot; は string で、マウスポインタの下のテキストを表します。
</p>
<p>GUI Vim でのみ有效。
</p>
<p>version 2.1 から。
</p>
</dd>
<dt>buttonRelease button lnum col</dt>
<dd><p>ボタンが離されたとき、どのボタンが押されたかと、カーソルの位置を報告します。Vim コントローラによつて所有されてゐるバッファにおいてのみ發生します。マウスがステータスラインまたはセパレータラインの中にあるときは、ボタンが離されても、このイベントは送信されません。col が 1 未滿の場合、目印エリアの中でボタンが離されたことを意味します。
</p>
<p>version 2.2 から。
</p>
</dd>
<dt>disconnect</dt>
<dd><p>Vim が終了するので、これ以上コマンドを讀み書きしないやう Vim コントローラに傳へます。
</p>
<p>version 2.3 から。
</p>
</dd>
<dt>fileClosed</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>fileModified</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>fileOpened pathname open modified</dt>
<dd><p>ユーザーがファイルを開きました。
</p>
<p>引數:
</p><table>
<tr><td width="33%">pathname</td><td width="33%">string</td><td width="33%">ファイル名</td></tr>
<tr><td width="33%">open</td><td width="33%">boolean</td><td width="33%">常に &quot;T&quot;</td></tr>
<tr><td width="33%">modified</td><td width="33%">boolean</td><td width="33%">常に &quot;F&quot;</td></tr>
</table>

</dd>
<dt>geometry cols rows x y</dt>
<dd><p>エディタウィンドウのサイズと位置を報告します。
</p>
<p>引數:
</p><table>
<tr><td width="30%">cols</td><td width="30%">number</td><td width="40%">テキストの桁數</td></tr>
<tr><td width="30%">rows</td><td width="30%">number</td><td width="40%">テキストの行數</td></tr>
<tr><td width="30%">x</td><td width="30%">number</td><td width="40%">畫面上のピクセル位置</td></tr>
<tr><td width="30%">y</td><td width="30%">number</td><td width="40%">畫面上のピクセル位置</td></tr>
</table>
<p>Motif でのみ動作します。
</p>
</dd>
<dt>insert off text</dt>
<dd><p>Vim において、&quot;off&quot; の位置にテキスト &quot;text&quot; が插入されました。有效化されてゐるときのみ發生します。&quot;startDocumentListen&quot; を參照してください。
</p>
</dd>
<dt>invokeAction</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>keyCommand keyName</dt>
<dd><p>&quot;keyName&quot; といふ名前の特殊キーが押されたことを報告します。&quot;keyName&quot; は string です。
サポートされてゐるキー名:
</p><table>
<tr><td width="30%">F1</td><td width="70%">ファンクションキー 1</td></tr>
<tr><td width="30%">F2</td><td width="70%">ファンクションキー 2</td></tr>
<tr><td width="30%">...</td><td width="70%"></td></tr>
<tr><td width="30%">F12</td><td width="70%">ファンクションキー 12</td></tr>
<tr><td width="30%">&rsquo; &rsquo;</td><td width="70%">スペース (シングルクォートはつかない)</td></tr>
<tr><td width="30%">!</td><td width="70%">エクスクラメーションマーク</td></tr>
<tr><td width="30%">...</td><td width="70%">それ以外の ASCII 印字可能文字</td></tr>
<tr><td width="30%">~</td><td width="70%">チルダ</td></tr>
<tr><td width="30%">X</td><td width="70%">認識されないキー</td></tr>
</table>

<p>前に &quot;C&quot;, &quot;S&quot;, &quot;M&quot; がつくことがあります。それぞれ <code class="tt-key">Control</code>, <code class="tt-key">Shift</code>, <code class="tt-key">Meta</code> (<code class="tt-key">Alt</code>) キーを意味します。これらの修飾キーとキー名の閒にはダッシュがつきます。例: &quot;C-F2&quot;.
</p>
<p>ASCII 文字は version 2.1 から。
</p>
</dd>
<dt>keyAtPos keyName lnum/col</dt>
<dd><p>&quot;keyName&quot; と同樣ですが、行番號と桁番號も報告します。
</p>
<p>version 2.1 から。
</p>
</dd>
<dt>killed</dt>
<dd><p>ユーザーによつてファイルが削除またはワイプアウトされ、annotation が削除されました。このバッファに對する bufID は無效になりました。IDE によつて bufID が割り當てられたファイルに對してのみ發生します。
</p>
</dd>
<dt>newDotAndMark off off</dt>
<dd><p>カーソルがバッファの &quot;off&quot; バイトの位置にあることを報告します。&quot;keyCommand&quot; イベントの直前でのみ送信されます。
</p>
</dd>
<dt>quit</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>remove off len</dt>
<dd><p>Vim において、&quot;off&quot; の位置から &quot;len&quot; バイトのテキストが削除されました。有效にされてゐるときのみ發生します。&quot;startDocumentListen&quot; を參照してください。
</p>
</dd>
<dt>revert</dt>
<dd><p>未實裝。
</p>
</dd>
<dt>save</dt>
<dd><p>バッファが保存され、「未變更」狀態です。有效にされてゐるときのみ發生します。&quot;startDocumentListen&quot; を參照してください。
</p>
</dd>
<dt>startupDone</dt>
<dd><p>エディタがスタートアップ處理を完了し、ファイルを編輯する準備が整ひました。
</p>
<p>version 2.1 から。
</p>
</dd>
<dt>unmodified</dt>
<dd><p>バッファが「未變更」狀態になりました。有效にされてゐるときのみ發生します。&quot;startDocumentListen&quot; を參照してください。
</p>
</dd>
<dt>version vers</dt>
<dd><p>インターフェイスの實裝のバージョンを報告します。Vim は &quot;2.4&quot; と報告します (ダブルクォートを含む)。
</p></dd>
</dl>


<span id="nb_002dspecial"></span><span id="index-nb_002dspecial"></span>
<span id="g_t6_002e6-Te-Bie-nametusezi"></span><h3 class="section">6.6 特別なメッセージ</h3>

<p>これらのメッセージは、前述のメッセージの形式に從ひません。改行文字で終はります。
</p>
<dl compact="compact">
<dt>ACCEPT</dt>
<dd><p>未使用。
</p>
</dd>
<dt>AUTH password</dt>
<dd><p>editor -&gt; IDE: エディタが IDE に送る最初のメッセージ。|<a href="starting_002etxt.html#g_t_002dnb">-nb</a>| で指定された、ソケットサーバーのパスワードを含んでゐなければなりません。引用符は使はれません。
</p>
</dd>
<dt>DISCONNECT</dt>
<dd><p>IDE -&gt; editor: 接續を切斷します。その後エディタは終了します。IDE は、保存されてゐない變更がないときしかこのメッセージを送つてはなりません！
</p>
</dd>
<dt>DETACH</dt>
<dd><p>IDE -&gt; editor: エディタを終了させずに接續を切斷します。エディタは終了させずに IDE を終了させるとき使はれます。
</p>
<p>version 2.1 で導入されました。
</p>
</dd>
<dt>REJECT</dt>
<dd><p>未使用。
</p></dd>
</dl>


<span id="nb_002dprotocol_005ferrors"></span><span id="index-nb_002dprotocol_005ferrors"></span>
<span id="g_t6_002e7-purotokoruera"></span><h4 class="unnumberedsubsec">6.7 プロトコルエラー</h4>

<p>メッセージがプロトコルに違反したとき、以下のエラーが發生します:
<span id="E627"></span><span id="E628"></span><span id="E629"></span><span id="E632"></span><span id="E633"></span><span id="E634"></span><span id="E635"></span><span id="E636"></span><span id="E637"></span><span id="E638"></span><span id="E639"></span><span id="E640"></span><span id="E641"></span><span id="E642"></span><span id="E643"></span><span id="E644"></span><span id="E645"></span><span id="E646"></span><span id="E647"></span><span id="E648"></span><span id="E649"></span><span id="E650"></span><span id="E651"></span><span id="E652"></span><span id="index-E627"></span>
<span id="index-E628"></span>
<span id="index-E629"></span>
<span id="index-E632"></span>
<span id="index-E633"></span>
<span id="index-E634"></span>
<span id="index-E635"></span>
<span id="index-E636"></span>
<span id="index-E637"></span>
<span id="index-E638"></span>
<span id="index-E639"></span>
<span id="index-E640"></span>
<span id="index-E641"></span>
<span id="index-E642"></span>
<span id="index-E643"></span>
<span id="index-E644"></span>
<span id="index-E645"></span>
<span id="index-E646"></span>
<span id="index-E647"></span>
<span id="index-E648"></span>
<span id="index-E649"></span>
<span id="index-E650"></span>
<span id="index-E651"></span>
<span id="index-E652"></span>
</p><pre class="verbatim"> *E627* *E628* *E629* *E632* *E633* *E634* *E635* *E636*
 *E637* *E638* *E639* *E640* *E641* *E642* *E643* *E644* *E645* *E646*
 *E647* *E648* *E649* *E650* *E651* *E652*
</pre>

<span id="netbeans_002dcommands"></span><span id="index-netbeans_002dcommands"></span>
<span id="g_t7_002e-NetBeans-komando"></span><h3 class="section">7. NetBeans コマンド</h3>

<dl compact="compact">
<dd><span id="g_t_003anbstart"></span><span id="E511"></span><span id="E838"></span><span id="index-_003anbstart"></span>
<span id="index-E511"></span>
<span id="index-E838"></span>
</dd>
<dt>:nbs[tart] {connection}</dt>
<dd><p>新しい Netbeans セッションを開始する。{connection} はソケット接續パラメーター。{connection} の書式は |<a href="#netbeans_002dparameters">netbeans-parameters</a>| で說明されてゐます。
</p>
<p>netbeans ソケットが接續されてゐるかどうかは次のコマンドで確認できます: &rsquo;<code>:echo has(&quot;netbeans_enabled&quot;)</code>&rsquo;
</p>
<span id="g_t_003anbclose"></span><span id="index-_003anbclose"></span>
</dd>
<dt>:nbc[lose]</dt>
<dd><p>現在の NetBeans セッションを閉ぢる。目印はすべて削除されます。
</p>
<span id="g_t_003anbkey"></span><span id="index-_003anbkey"></span>
</dd>
<dt>:nb[key] {key}</dt>
<dd><p>Vim コントローラに {key} を送信する。specialKeys コマンドによりホットキーがインストールされてゐるとき、このコマンドを使つてホットキー・メッセージを Vim コントローラに送信できます。
このコマンドはどのやうなテキストでも送信できます。これは例へば Pyclewn で gdb コマンドを Vim ユーザーコマンドとして構築するのに使はれてゐます。
</p>
<p>newDotAndMark, keyCommand, keyAtPos イベントが發生します (この順番で)。
</p></dd>
</dl>


<span id="netbeans_002dproblems"></span><span id="index-netbeans_002dproblems"></span>
<span id="g_t8_002e-Ji-Zhi-noWen-Ti-"></span><h3 class="section">8. 既知の問題</h3>

<p>NUL 文字は扱へません。editor -&gt; IDE の通信では、NUL は NL に置換して送信されます。IDE -&gt; editor では、NUL を含めることはできません。
</p>
<p>NetBeans セッションが端末動作の Vim で初期化され、後で |<a href="gui_005fx11_002etxt.html#g_t_003agui">:gui</a>| コマンドによつて GUI 環境に引き繼がれることがあります。この場合、&quot;<code>:gui</code>&quot; コマンドが <samp>.gvimrc</samp> を讀み込み、カラースキームが讀み込まれ、そこで &quot;<code>:highlight clear</code>&quot; コマンドが實行されることで、NetBeans annotation 用に定義された强調表示がクリアされるかもしれません。
</p>
<p>バージョン 2.5 で新たに追加された仕樣。
</p>

<span id="netbeans_002ddebugging"></span><span id="index-netbeans_002ddebugging"></span>
<span id="g_t9_002e-NetBeans-purotokorunodebatugu"></span><h3 class="section">9. NetBeans プロトコルのデバッグ</h3>

<p>Vim プロトコルをデバッグするには、まづ Vim をデバッグサポートと NetBeans デバッグサポートつきでコンパイルします。|<a href="#netbeans_002dconfigure">netbeans-configure</a>| を參照してください。
</p>
<p>次の環境變數をセットしてください:
</p><pre class="verbatim">export SPRO_GVIM_DEBUG=netbeans.log
export SPRO_GVIM_DLEVEL=0xffffffff
</pre>
<p>すると、やりとりされるすべての NetBeans プロトコルメッセージが netbeans.log といふファイルに記錄されるやうになります。
</p>
<p>セッションを行つた後の netbeans.log の內容は次のやうになります:
</p><pre class="verbatim"> Tue May 20 17:19:27 2008
 EVT: 0:startupDone=0
 CMD 1: (1) create
 CMD 2: (1) setTitle &quot;testfile1.txt&quot;
 CMD 3: (1) setFullName &quot;testfile1.txt&quot;
 EVT(suppressed): 1:remove=3 0 -1
 EVT: 1:fileOpened=0 &quot;d:\\work\\vimWrapper\\vimWrapper2\\pyvimwrapper\\tests\\testfile1.txt&quot; T F
 CMD 4: (1) initDone
 FUN 5: (0) getCursor
 REP 5: 1 1 0 0
 CMD 6: (2) create
 CMD 7: (2) setTitle &quot;testfile2.txt&quot;
 CMD 8: (2) setFullName &quot;testfile2.txt&quot;
 EVT(suppressed): 2:remove=8 0 -1
 EVT: 2:fileOpened=0 &quot;d:\\work\\vimWrapper\\vimWrapper2\\pyvimwrapper\\tests\\testfile2.txt&quot; T F
 CMD 9: (2) initDone
</pre>

<span id="g_t10_002e-NetBeans-Wai-Bu-tekisutoedeita"></span><h3 class="section">10. NetBeans 外部テキストエディタ</h3>

<blockquote>
<p><strong>Note:</strong>
この情報は古くなつてゐます！NetBeans の古いバージョンを使つてゐる場合だけ讀んでください。
</p></blockquote>


<span id="netbeans_002ddownload"></span><span id="index-netbeans_002ddownload"></span>
<span id="g_t10_002e1_002e-NetBeans-wodaunrodosuru"></span><h4 class="unnumberedsubsec">10.1. NetBeans をダウンロードする</h4>

<p>NetBeans IDE は netbeans.org からダウンロードできます。リリースされたバージョン、ソースをダウンロードでき、CVS を使つて最新のソースを取得することもできます。ソースをダウンロードした場合、ビルド方法については netbeans.org にある說明に從つてください。
</p>
<p>NetBeans のバージョンによつては、External Editor モジュールを使ふためにもう少し手を加へなければならないかもしれません。External Editor モジュールによつて NetBeans は gvim と協調して動作できるやうになります (xemacs とも :-)。このモジュールが NetBeans に含まれてゐない場合、<a href="http://externaleditor.netbeans.org">http://externaleditor.netbeans.org</a> を參照してください。
</p>
<p>C, C++, Fortran サポートには、cpp モジュールも必要になります。<a href="http://cpp.netbeans.org">http://cpp.netbeans.org</a> を參照してください。
</p>
<p>Sun Microsystems, Inc から Sun ONE Studio の 30 日閒無料試用版をダウンロードすることもできます。<a href="http://www.sun.com">http://www.sun.com</a> を參照してください。
</p>

<span id="netbeans_002dkeybindings"></span><span id="index-netbeans_002dkeybindings"></span>
<span id="g_t10_002e2_002e-NetBeans-nokibaindo"></span><h4 class="unnumberedsubsec">10.2. NetBeans のキーバインド</h4>

<p>Vim は NetBeans コマンドを實行するキーバインドを理解します。これらは普通、ファンクションキーの組み合はせです。NetBeans コマンドを實行するには、<code class="tt-key">Pause</code> キーに續けて NetBeans のキーバインドをタイプします。たとへば、Java ファイルをコンパイルする NetBeans のキーバインドは &quot;<code class="tt-key">F9</code>&quot; です。なので、Vim で &quot;<code class="tt-key">Pause</code> <code class="tt-key">F9</code>&quot; と押すと Java ファイルをコンパイルできます。カレント行のブレークポイントをトグルするには &quot;<code class="tt-key">Pause</code> <code class="tt-key">Shift</code> <code class="tt-key">F8</code>&quot; を押します。
</p>
<p><code class="tt-key">Pause</code> キーはファンクションキー 21 です。キーボードに <code class="tt-key">Pause</code> キーがなく、代はりに <code class="tt-key">F8</code> を使ひたいといふ場合、次のやうにします:
</p><pre class="verbatim">:map &lt;F8&gt; &lt;F21&gt;
</pre>
<p>External Editor モジュールは動的に NetBeans キーバインドを讀み込むので、NetBeans がキーバインドを變更してゐても、Vim は常に最新のキーバインドに對應します。
</p>

<span id="netbeans_002dpreparation"></span><span id="index-netbeans_002dpreparation"></span>
<span id="g_t10_002e3_002e-NetBeans-Ce-noZhun-Bei-"></span><h4 class="unnumberedsubsec">10.3. NetBeans 側の準備</h4>

<p>NetBeans を Vim と協調動作させるには、NetBeans External Editor モジュールが讀み込まれ、有效化されてゐなければなりません。Sun ONE Studio Enterprise Edition を使つてゐるなら、デフォルトでこのモジュールが讀み込まれ有效化されます。NetBeans を使つてゐる場合は、このオープンソースのモジュールを入手しなければなりません。
</p>
<p>このモジュールが入つてゐるかを確認するには Tools -&gt; Options ダイアログを開き、IDE Configuration -&gt; System -&gt; Modules の &quot;Modules&quot; リストを見ます。そこに &quot;External Editor&quot; があれば、それが有效になつてゐるか確認します (&quot;Enabled&quot; プロパティが &quot;True&quot; かどうか)。&quot;External Editor&quot; がなければ、次の節 |<a href="#obtaining_002dexted">obtaining-exted</a>| を參照してください。
</p>

<span id="obtaining_002dexted"></span><span id="index-obtaining_002dexted"></span>
<span id="g_t10_002e4_002e-External-Editor-moziyurunoRu-Shou-"></span><h4 class="unnumberedsubsec">10.4. External Editor モジュールの入手</h4>

<p>External Editor モジュールを入手する方法は二通りあります。最も簡單な方法は、NetBeans Update Center を使つてダウンロード・インストールすることです。しかし殘念なことに、いくつかのバージョンでは Update Center にこのモジュールが存在しません。Update Center にない場合は、モジュールのソースをダウンロードしてビルドする必要があります。私が NetBeans Update Center からダウンロードできるやうにしますので、ビルドは不要になるでせう。他の方法として <a href="http://externaleditor.netbeans.org">http://externaleditor.netbeans.org</a> もチェックしてください。
</p>
<p>CVS で External Editor のソースを取得して自分でビルドする方法は <a href="http://externaleditor.netbeans.org">http://externaleditor.netbeans.org</a> と <a href="http://www.netbeans.org">http://www.netbeans.org</a> を參照してください。殘念ながら、これは簡單な道のりではありません。
</p>

<span id="netbeans_002dsetup"></span><span id="index-netbeans_002dsetup"></span>
<span id="g_t10_002e5_002e-NetBeans-noShe-Ding-"></span><h4 class="unnumberedsubsec">10.5. NetBeans の設定</h4>

<p>|<a href="#netbeans_002dpreparation">netbeans-preparation</a>| で NetBeans External Editor モジュールを讀み込み、有效化できたら、あとは gvim のコマンドラインを設定するだけです。
</p>
<p>Tools -&gt; Options を開き、Editing カテゴリを表示します。External Editor を選擇します。右側のペインに Properties タブと Expert タブがあるはずです。Properties タブで &quot;Editor Type&quot; を &quot;Vim&quot; にします。Expert タブで &quot;Vim Command&quot; を正しく設定してください。
</p>
<p>&quot;Vim Command&quot; を變更するときは注意してください。接續するためには、いくつかのコマンドラインオプションを正しく設定する必要があります。コマンドの名前を變更することができますが、それくらゐです。gvim が <code>$PATH</code> の中にあるなら、コマンドを &quot;gvim&quot; から始められます。gvim を <code>$PATH</code> から檢索させたくないならフルパスで指定してください。以上で、NetBeans で開くファイルが gvim で開かれるやうになります。
</p>
<p>gvim で開かれるファイルもあるが、NetBeans のエディタで開かれるファイルもある (擴張子が異なる) といふ場合、Expert タブの MIME Type プロパティを確認してください。NetBeans は MIME によつて判斷し、External Editor はこのプロパティで指定された MIME Type だけを開きます。
</p>

<hr>
<div class="header">
<p>
Up: <a href="Mu-Ci-.html" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
