<!DOCTYPE html>
<html lang="ja">
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>

<title>starting.txt (Vim Reference Manual)</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<meta name="description" content="starting.txt (Vim Reference Manual)">
<meta name="keywords" content="starting.txt (Vim Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="start" title="目次">
<link href="Indexes-CP.html#Indexes-CP" rel="index" title="Indexes CP">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="up" title="目次">
<link href="editing_002etxt.html#editing_002etxt" rel="next" title="editing.txt">
<link href="develop_002etxt.html#develop_002etxt" rel="prev" title="develop.txt">
<style>
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="ja">
<a name="starting_002etxt"></a>
<div class="header">
<p>
Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Vim-noQi-Dong-_002c-Qi-Dong-Yin-Shu-yaChu-Qi-Hua-niGuan-site"></a>
<h2 class="unnumbered">Vim の起動、起動引數や初期化に關して</h2>
<pre class="verbatim">*starting.txt*  For Vim バージョン 8.1.  Last change: 2019 Jun 02


		  VIMリファレンスマニュアル    by Bram Moolenaar
</pre>

<a name="starting"></a><a name="index-starting"></a>
<a name="index-Vim-noQi-Dong-"></a>
<a name="Vim-noQi-Dong-"></a>
<h3 class="section">Vim の起動</h3>

<table>
<tr><td width="50%">1. Vim の起動引數</td><td width="50%">|<a href="#vim_002darguments">vim-arguments</a>|</td></tr>
<tr><td width="50%">2. Amiga 版の Vim</td><td width="50%">|<a href="#starting_002damiga">starting-amiga</a>|</td></tr>
<tr><td width="50%">3. eVim について</td><td width="50%">|<a href="#evim_002dkeys">evim-keys</a>|</td></tr>
<tr><td width="50%">4. 初期化</td><td width="50%">|<a href="#initialization">initialization</a>|</td></tr>
<tr><td width="50%">5. $VIM と $VIMRUNTIME</td><td width="50%">|<a href="#g_t_0024VIM">$VIM</a>|</td></tr>
<tr><td width="50%">6. サスペンド</td><td width="50%">|<a href="#suspend">suspend</a>|</td></tr>
<tr><td width="50%">7. 終了</td><td width="50%">|<a href="#exiting">exiting</a>|</td></tr>
<tr><td width="50%">8. 設定の保存</td><td width="50%">|<a href="#save_002dsettings">save-settings</a>|</td></tr>
<tr><td width="50%">9. ビューとセッション</td><td width="50%">|<a href="#views_002dsessions">views-sessions</a>|</td></tr>
<tr><td width="50%">10. viminfo ファイル</td><td width="50%">|<a href="#viminfo_002dfile">viminfo-file</a>|</td></tr>
</table>

<a name="vim_002darguments"></a><a name="index-vim_002darguments"></a>
<a name="index-Vim-noQi-Dong-Yin-Shu-"></a>
<a name="g_t1_002e-Vim-noQi-Dong-Yin-Shu-"></a>
<h3 class="section">1. Vim の起動引數</h3>

<p>たいていは 1 つのファイルを編輯するために次のやうなコマンドで Vim を起動する
</p>
<a name="g_t_002dvim"></a><a name="index-_002dvim"></a>
<pre class="verbatim">vim filename
</pre>
<p>より一般的に言へば、Vim は次の書式で起動することができる:
</p>
<pre class="verbatim">vim [option | filename] ..
</pre>
<p>オプション引數とファイル引數は混在でき、幾つでも與へる事ができる。しかし引數を取るオプションには注意が必要である。
</p>
<p>さまざまな Vi のバージョンとの互換性に付いては |<a href="vi_005fdiff_002etxt.html#cmdline_002darguments">cmdline-arguments</a>| を參照。
</p>
<p>正確には、以下の 5 つの項目から 1 つを選んで編輯が開始される:
</p>
<a name="g_t_002dfile"></a><a name="g_t_002d_002d_002d"></a><a name="index-_002dfile"></a>
<a name="index-_2212_2212_2212"></a>
<dl compact="compact">
<dt>filename</dt>
<dd><p>1 つ以上のファイル名が與へられた場合。まづは最初の 1 つが編輯ファイルとしてバッファに讀み込まれる。カーソルはそのバッファの 1 行目に置かれる。
</p>
<p>&rsquo;-&rsquo; で始まるファイル名を指定するには、オプションと區別するために、引數に &quot;&lsquo;<samp>--</samp>&rsquo;&quot; を置く。例:
</p><pre class="verbatim">vim -- -filename
</pre>
<p>&quot;&lsquo;<samp>--</samp>&rsquo;&quot; の後の全ての引數はファイル名として解釋されるので、その他のオプションや引數 &quot;+command&quot; は使用することができない。
</p>
<p>MS-Windows におけるクォートの動作については |<a href="os_005fwin32_002etxt.html#win32_002dquotes">win32-quotes</a>| を參照。
</p>
<a name="g_t_2212_2212"></a><a name="index-_2212_2212"></a>
</dd>
<dt>-</dt>
<dd><p>この引數は Ex モードで起動するかどうかで意味が異なる。
</p>
<p>ノーマルモードで起動する場合:
</p><pre class="verbatim">vim -
ex -v -
</pre><p>新しいバッファに、標準入力を讀み込んで編輯を始める。コマンドは通常であれば標準入力から讀み込まれるが、この場合、代はりに標準エラー出力から讀み込まれる。例:
</p><pre class="verbatim">find . -name &quot;*.c&quot; -print | vim -
</pre><p>{譯注: 以下の文はすべて &quot;view -&quot; に對する說明と思はれる。}
</p>
<p>簡單に終了できるやう、バッファに「變更(modified)」のマークは付けられない。バッファの內容を思ひがけず失ひたくない場合は、變更とマークするやう氣を付けること。例:
</p><pre class="verbatim">ls | view -
</pre><p>Ex モードで起動する場合:
</p><pre class="verbatim">ex -
vim -e -
exim -
vim -E -
</pre><p>サイレントモードで起動する。|<a href="#g_t_002ds_002dex">-s-ex</a>| を參照。
</p>
<a name="g_t_002dt"></a><a name="g_t_002dtag"></a><a name="index-_002dt"></a>
<a name="index-_002dtag"></a>
</dd>
<dt>-t {tag}</dt>
<dd><p>タグを開く。{tag} が tags ファイルから檢索され、關聯づけられたファイルが現在のファイルとされ、關聯づけられたコマンドが實行される。大抵これは C プログラムを編輯するときに使用され、&quot;tag&quot; は函數名である事が多い。それにより、その函數を含むファイルが自動的に開かれ、カーソルがその函數の定義位置に設定される (|<a href="tagsrch_002etxt.html#tags">tags</a>| を參照)。
</p>
<a name="g_t_002dq"></a><a name="g_t_002dqf"></a><a name="index-_002dq"></a>
<a name="index-_002dqf"></a>
</dd>
<dt>-q [errorfile]</dt>
<dd><p>クイックフィックスモードで起動。 [errorfile] に指定したファイルが讀み込まれ最初のエラーが表示される。|<a href="quickfix_002etxt.html#quickfix">quickfix</a>| を參照。
</p>
<p>[errorfile] が與へられない場合、オプション &rsquo;<samp>errorfile</samp>&rsquo; がファイル名として使用される。省略値に關しては &rsquo;<samp>errorfile</samp>&rsquo; を參照。
</p>
</dd>
<dt>(nothing)</dt>
<dd><p>上記の 4 つのうち、どれも指定せずに Vim を起動すると、新しいバッファが用意される。それは名前のない空のバッファである。
</p></dd>
</dl>


<p>起動時のモードはプログラム名を &quot;vim&quot; とは別の名前にすることで指定できる。それは次のやうにオプションを與へたのと同じである:
</p><table>
<tr><td><a name="ex"></a><a name="index-ex"></a></td></tr>
<tr><td width="15%">ex</td><td width="15%">vim -e</td><td width="70%">Ex モードで起動 (|<a href="intro_002etxt.html#Ex_002dmode">Ex-mode</a>| を參照)。
<a name="exim"></a><a name="index-exim"></a></td></tr>
<tr><td width="15%">exim</td><td width="15%">vim -E</td><td width="70%">改良版 Ex モードで起動 (|<a href="intro_002etxt.html#Ex_002dmode">Ex-mode</a>| を參照)。(通常はインストールされない)
<a name="view"></a><a name="index-view"></a></td></tr>
<tr><td width="15%">view</td><td width="15%">vim -R</td><td width="70%">讀み込み專用モードで起動 (|<a href="#g_t_002dR">-R</a>| を參照)。
<a name="gvim"></a><a name="index-gvim"></a></td></tr>
<tr><td width="15%">gvim</td><td width="15%">vim -g</td><td width="70%">GUI で起動 (|<a href="gui_002etxt.html#gui">gui</a>| を參照)。
<a name="gex"></a><a name="index-gex"></a></td></tr>
<tr><td width="15%">gex</td><td width="15%">vim -eg</td><td width="70%">GUI の EX モードで起動。
<a name="gview"></a><a name="index-gview"></a></td></tr>
<tr><td width="15%">gview</td><td width="15%">vim -Rg</td><td width="70%">GUI の讀み込み專用モードで起動。
<a name="rvim"></a><a name="index-rvim"></a></td></tr>
<tr><td width="15%">rvim</td><td width="15%">vim -Z</td><td width="70%">&quot;vim&quot; の制限モードで起動 (|<a href="#g_t_002dZ">-Z</a>| を參照)。
<a name="rview"></a><a name="index-rview"></a></td></tr>
<tr><td width="15%">rview</td><td width="15%">vim -RZ</td><td width="70%">&quot;view&quot; の制限モード。
<a name="rgvim"></a><a name="index-rgvim"></a></td></tr>
<tr><td width="15%">rgvim</td><td width="15%">vim -gZ</td><td width="70%">&quot;gvim&quot; の制限モード。
<a name="rgview"></a><a name="index-rgview"></a></td></tr>
<tr><td width="15%">rgview</td><td width="15%">vim -RgZ</td><td width="70%">&quot;gview&quot; の制限モード。
<a name="evim"></a><a name="index-evim"></a></td></tr>
<tr><td width="15%">evim</td><td width="15%">vim -y</td><td width="70%">簡易操作の Vim (|<a href="#g_t_002dy">-y</a>| を參照)
<a name="eview"></a><a name="index-eview"></a></td></tr>
<tr><td width="15%">eview</td><td width="15%">vim -yR</td><td width="70%">&quot;evim&quot; と同じ。讀み込み專用モード。</td></tr>
<tr><td width="15%">vimdiff</td><td width="15%">vim -d</td><td width="70%">差分モードで起動 |<a href="diff_002etxt.html#diff_002dmode">diff-mode</a>|</td></tr>
<tr><td width="15%">gvimdiff</td><td width="15%">vim -gd</td><td width="70%">差分モードで起動 |<a href="diff_002etxt.html#diff_002dmode">diff-mode</a>|</td></tr>
</table>

<p>これらの別名の後ろに付けられる文字は無視される。たとへば GUI で起動するのに &quot;gvim-5&quot; といふ名前を付けることができる。もちろんその名前で實行可能なファイルがなければならない。
</p>
<p>UNIX では通常、Vim といふ名前の實行可能ファイルが 1 つあり、それに對して違ふ名前のリンクが用意される。使用してゐるシステムがリンクをサポートせず、實行ファイルのコピーを幾つも作りたくないのならば、リンクの代はりにエイリアスを使ふこともできる。例:
</p><pre class="verbatim">alias view   vim -R
alias gvim   vim -g
</pre><a name="startup_002doptions"></a><a name="index-startup_002doptions"></a>
<p>オプション引數はどんな順番で與へても良い。1 文字のオプションは 1 つのダッシュ (-) の後に組み合はせる。引數 &quot;--&quot; の後にはオプション引數を置くことはできない。
</p>
<p>VMS では全てのオプション引數は小文字であるとみなされる。大文字を指定するにはスラッシュを前に置く。つまり &quot;-R&quot; でリカバリモード、&quot;-/R&quot; で讀み込み專用となる。
</p>
<a name="g_t_002dh"></a><a name="g_t_002d_002dhelp"></a><a name="g_t_002d_003f"></a><a name="index-_002dh"></a>
<a name="index-_2212_2212help"></a>
<a name="index-_002d_003f"></a>
<dl compact="compact">
<dt>--help</dt>
<dt>-?</dt>
<dt>-h</dt>
<dd><p>使用法(ヘルプ)を表示して終了する。
</p>
<p>そのテキストを保存するには |<a href="#info_002dmessage">info-message</a>| を參照。
</p>
<a name="g_t_002d_002dversion"></a><a name="index-_2212_2212version"></a>
</dd>
<dt>--version</dt>
<dd><p>バージョン情報を表示して終了する。出力は |<a href="various_002etxt.html#g_t_003aversion">:version</a>| コマンドと一緖。
</p>
<p>そのテキストを保存するには |<a href="#info_002dmessage">info-message</a>| を參照。
</p>
<a name="g_t_002d_002dnoplugin"></a><a name="index-_2212_2212noplugin"></a>
</dd>
<dt>--noplugin</dt>
<dd><p>プラグインを讀み込まない。&rsquo;<samp>loadplugins</samp>&rsquo; オプションをオフにする。
</p><blockquote>
<p><strong>Note:</strong> <br>
|<a href="#g_t_002du">-u</a>| 引數でもプラグインを讀み込まないやうにできる:
</p><table>
<tr><td width="25%">引數</td><td width="25%">vimrcファイル</td><td width="25%">プラグイン</td><td width="25%">defaults.vim</td></tr>
<tr><td width="25%">なし</td><td width="25%">yes</td><td width="25%">yes</td><td width="25%">yes</td></tr>
<tr><td width="25%">-u NONE</td><td width="25%">no</td><td width="25%">no</td><td width="25%">no</td></tr>
<tr><td width="25%">-u DEFAULTS</td><td width="25%">no</td><td width="25%">no</td><td width="25%">yes</td></tr>
<tr><td width="25%">-u NORC</td><td width="25%">no</td><td width="25%">yes</td><td width="25%">no</td></tr>
<tr><td width="25%">&ndash;noplugin</td><td width="25%">yes</td><td width="25%">no</td><td width="25%">yes</td></tr>
</table>
</blockquote>

<a name="g_t_002d_002dstartuptime"></a><a name="index-_2212_2212startuptime"></a>
</dd>
<dt>--startuptime {fname}</dt>
<dd><p>起動處理の閒、經過時閒のメッセージをファイル {fname} に書き出す。<samp>.vimrc</samp> やプラグインの讀み込み、最初のファイルの讀み込みにおいて、どこで時閒がかかつてゐるかを調べるために役に立つ。
</p>
<p>{fname} が既に存在するときはそのファイルに追記される。(|<a href="various_002etxt.html#g_t_002bstartuptime">+startuptime</a>| 付きでコンパイルされたときのみ有效)
</p>
<a name="g_t_002d_002dliteral"></a><a name="index-_2212_2212literal"></a>
</dd>
<dt>--literal</dt>
<dd><p>ファイル名を文字どほり解釋する。ワイルドカードを展開しない。Unix では必要ない、Vim は常にファイル名を文字どほり解釋する (シェルがワイルドカードを展開する)。
</p>
<p>全てのファイル名に適用される。この引數の前に指定したものも同じ。
</p>
<a name="g_t_002d_002b"></a><a name="index-_002d_002b"></a>
</dd>
<dt>+[num]</dt>
<dd><p>最初に編輯されるファイルの &quot;num&quot; 行目にカーソルを置いて開く。&quot;num&quot; がなかつた場合には、カーソルは最終行に置かれる。
</p>
<a name="g_t_002d_002b_002f"></a><a name="index-_002d_002b_002f"></a>
</dd>
<dt>+/{pat}</dt>
<dd><p>最初に編輯されるファイルの、&quot;pat&quot; を含む最初の行にカーソルを置いて起動する(指定可能な檢索パターンについては |<a href="pattern_002etxt.html#pattern">pattern</a>| を參照)。檢索はカーソル位置から開始される。カーソルの位置は最初の行か、もしくは |<a href="#viminfo">viminfo</a>| から復元された最後に使はれた位置の場合もある。必ず最初の行から檢索したい場合は &quot;+1 +/pat&quot; を使ふ。
</p>
<a name="g_t_002d_002bc"></a><a name="g_t_002dc"></a><a name="index-_002d_002bc"></a>
<a name="index-_002dc"></a>
</dd>
<dt>+{command}</dt>
<dt>-c {command}</dt>
<dd><p>最初のファイルが讀み込まれた後 (加へてそのファイルに適用される autocommand と modeline が處理された後) に {command} が實行される。&quot;command&quot; は Ex コマンドとして解釋される。&quot;command&quot; にスペースを含んでゐる場合には、ダブルクォートで挾まれてゐる必要がある(これは使はれてゐるシェルに依存する)。例:
</p><pre class="verbatim">vim  &quot;+set si&quot;  main.c
vim &quot;+find stdio.h&quot;
vim  -c &quot;set ff=dos&quot;  -c wq  mine.mak
</pre><blockquote>
<p><strong>Note:</strong> <br>
Vim コマンドの引數として &quot;+&quot; か &quot;-c&quot; をあはせ、最大 10 個まで使ふことができる。これらの引數は與へられた順番で實行される。&quot;-S&quot; 引數は &quot;-c&quot; として同じやうに數へる。
</p></blockquote>

<a name="g_t_002d_002dcmd"></a><a name="index-_2212_2212cmd"></a>
</dd>
<dt>--cmd {command}</dt>
<dd><p>vimrc ファイルを處理する前に {command} を實行する。それ以外は	-c {command} と同じである。&quot;-c&quot; 引數とは別に、10 個まで使ふことができる。
</p>
<a name="g_t_002dS"></a><a name="index-_002dS"></a>
</dd>
<dt>-S {file}</dt>
<dd><p>最初のファイルが讀み込まれた後に {file} を實行する。これは次のものを簡單にしたものである:
</p><pre class="verbatim">-c &quot;source {file}&quot;
</pre><p>&quot;-c&quot; と混ぜて使ふことができ、複數指定できる。&quot;-c&quot; と合はせて 10 個まで指定できる。{file} の先頭文字には &quot;-&quot; は使へない。
</p>
<p>作業をして Vim を終了するスクリプトを實行するのには使はないこと、エラーメッセージが見えないだらう。代はりに |<a href="#g_t_002du">-u</a>| を使ふこと。
</p>
</dd>
<dt>-S</dt>
<dd><p>&quot;-S Session.vim&quot; と同じ。最後の引數として使はれたときや、その後に他のオプション引數が續いたときのみこのやうに解釋される。
</p>
<a name="g_t_002dr"></a><a name="index-_002dr"></a>
<a name="index-rikabarimododeQi-Dong-suru"></a>
</dd>
<dt>-r</dt>
<dd><p>リカバリモード。ファイル名の引數なしで實行した場合には、存在するスワップファイルのリストが表示される。ファイルを指定すると、クラッシュしたセッションを復活させるために、スワップファイルが讀み込まれる。|<a href="recover_002etxt.html#crash_002drecovery">crash-recovery</a>| を參照。
</p>
<a name="g_t_002dL"></a><a name="index-_002dL"></a>
</dd>
<dt>-L</dt>
<dd><p>-r と同じ。
</p>
<a name="g_t_002dR"></a><a name="index-_002dR"></a>
<a name="index-Du-miIp-miZhuan-Yong-mododeQi-Dong-suru"></a>
</dd>
<dt>-R</dt>
<dd><p>讀み込み專用モード。オプション &rsquo;<samp>readonly</samp>&rsquo; が、編輯される全てのファイルに設定される。これにより、まだバッファを編輯することはできるが、偶然にファイルを上書きしてしまふやうなことは防がれる。もしも、讀み込み專用モードにゐることを忘れてバッファへ變更を行つたとしても、&quot;<code>:w!</code>&quot; のやうに Ex コマンドに「ビックリマーク」を付けることで上書きすることが可能。
</p>
<p>&rsquo;<samp>readonly</samp>&rsquo; オプションは &quot;<code>:set noro</code>&quot; としてオフに設定することが可能である (オプションを說明した章 |<a href="options_002etxt.html#options">options</a>| を參照)。その後の編輯は讀み込み專用モードではなくなる。實行ファイルを &quot;<code>view</code>&quot; として起動した場合は、この -R 引數と同じ動作になる。オプション &rsquo;<samp>updatecount</samp>&rsquo; は 10000 に設定され、これはスワップファイルがさう頻繁には自動更新されなくなるといふことである。
</p>
<p>變更を不許可とするには |<a href="#g_t_002dM">-M</a>| を參照。
</p>
<a name="g_t_002dm"></a><a name="index-_002dm"></a>
</dd>
<dt>-m</dt>
<dd><p>變更を保存できなくする。オプション &rsquo;<samp>write</samp>&rsquo; がオフに設定され、ファイルを保存することができなくなる。オプション &rsquo;<samp>write</samp>&rsquo; をオンすれば、再び保存することが可能になる。
</p>
<a name="g_t_002dM"></a><a name="index-_002dM"></a>
</dd>
<dt>-M</dt>
<dd><p>變更できないやうにする。オプション &rsquo;<samp>modifiable</samp>&rsquo; がオフに設定され、變更を加へることができなくなる。さらに、オプション &rsquo;<samp>write</samp>&rsquo; がオフに設定され、ファイルを保存することができなくなる。&rsquo;<samp>modifiable</samp>&rsquo; と &rsquo;<samp>write</samp>&rsquo; をオンにすれば、變更を加へて保存できるやうになる。
</p>
<a name="g_t_002dZ"></a><a name="restricted_002dmode"></a><a name="E145"></a><a name="E981"></a><a name="index-_002dZ"></a>
<a name="index-restricted_002dmode"></a>
<a name="index-E145"></a>
<a name="index-E981"></a>
<a name="index-Zhi-Xian-mododeQi-Dong-suru"></a>
</dd>
<dt>-Z</dt>
<dd><p>制限モード。外部シェルを實行するあらゆるコマンドの使用を許可しない。これにはサスペンドである <kbd>CTRL-Z</kbd> や、&quot;<code>:sh</code>&quot;、フィルタリング、system() 函數、バッククォートの評價、libcall() が含まれる。
</p>
<p>delete()、rename()、mkdir()、job_start() なども許可されてゐない。
</p>
<p>Python、Ruby、Lua などのインターフェイスも、シェルコマンドの實行に使用される可能性があるため無效になつてゐる。PerlはSafe モジュールを使用してゐる。
</p><blockquote>
<p><strong>Note:</strong> <br>
ユーザーはまだシェルコマンドを實行する拔け穴を見つけるかもしれない、それが困難になつただけである。
</p></blockquote>

<a name="g_t_002dg"></a><a name="index-_002dg"></a>
<a name="index-GUI-mododeQi-Dong-suru"></a>
</dd>
<dt>-g</dt>
<dd><p>Vim を GUI モードで起動する。|<a href="gui_002etxt.html#gui">gui</a>| を參照。逆は |<a href="#g_t_002dv">-v</a>| を參照。
</p>
<a name="g_t_002dv"></a><a name="index-_002dv"></a>
<a name="index-Ex-wo-Vi-mododeQi-Dong-suru"></a>
</dd>
<dt>-v</dt>
<dd><p>Ex を Vi モードで起動する。實行ファイルが &quot;ex&quot; や &quot;gvim&quot; である時にだけ、違ひが現れる。gvim では可能ならば &quot;GUI&quot; ではないモードで起動する。
</p>
<a name="g_t_002de"></a><a name="index-_002de"></a>
<a name="index-Vim-wo-Ex-mododeQi-Dong-suru"></a>
</dd>
<dt>-e</dt>
<dd><p>Vim を Ex モードで起動する |<a href="intro_002etxt.html#Q">Q</a>|。實行ファイルの名前が &quot;ex&quot; 以外の時に意味がある。
</p>
<a name="g_t_002dE"></a><a name="index-_002dE"></a>
</dd>
<dt>-E</dt>
<dd><p>Vim を改良版 Ex モードで起動する |<a href="intro_002etxt.html#gQ">gQ</a>|。實行ファイルの名前が &quot;exim&quot; 以外の時に意味がある。
</p>
<a name="g_t_002ds_002dex"></a><a name="index-_002ds_002dex"></a>
<a name="index-batutimododeQi-Dong-suru"></a>
</dd>
<dt>-s</dt>
<dd><p>サイレント(もしくはバッチ)モード。Vim が &quot;ex&quot; で起動されるか、このオプションよりも先に &quot;-e&quot; が付いてゐた場合にだけ働く。さうでない場合には |<a href="#g_t_002ds">-s</a>| を參照。|<a href="#g_t_002ds">-s</a>| として使ふときには引數をとる。
端末の替はりにファイルから Ex コマンドを實行する場合に使用される。ほとんどのプロンプトとメッセージは抑制される。警告とエラーのメッセージも抑制される。次のコマンドの出力は標準出力へ表示される:
</p><pre class="verbatim">:print
:list
:number
:set      オプション値を表示するため。
</pre><p>&rsquo;<samp>verbose</samp>&rsquo; が 0 以外のときにはメッセージは抑制されずに標準エラー出力へ表示される(デバッグ用)。&rsquo;<samp>term</samp>&rsquo; と <code>$TERM</code> は考慮されない。Vim が停止してゐるやうだつたら &quot;qa!<code class="tt-key">&lt;Enter&gt;</code>&quot; と入力してみてほしい。
</p>
<p>Vim がユーザーの入力を待つてゐるときでもプロンプトは表示されない。
</p>
<p>初期化處理はスキップされる (このオプションが引數 &quot;-u&quot; と一緖に使はれた場合は除く)。
</p>
<p>例:
</p><pre class="verbatim">vim -e -s &lt; thefilter  thefile
</pre><p>逆に、スクリプトからのエラーを見るには、|<a href="#g_t_002du">-u</a>| フラグを付けファイルを實行する:
</p><pre class="verbatim">vim -u thefilter thefile
</pre><a name="g_t_002db"></a><a name="index-_002db"></a>
<a name="index-bainarimododeQi-Dong-suru"></a>
</dd>
<dt>-b</dt>
<dd><p>バイナリモード。ファイルを入出力する再に &lt;NL&gt; だけを行のセパレータとして認識するやうになる。オプション &rsquo;<samp>expandtab</samp>&rsquo; は無效化される。オプション &rsquo;<samp>textwidth</samp>&rsquo; は 0 に設定される。&rsquo;<samp>modeline</samp>&rsquo; はオフに設定される。オプション &rsquo;<samp>binary</samp>&rsquo; がオンに設定される。これは vimrc/exrc のファイルが讀み込まれた直後、引數で與へられたファイルが讀み込まれるよりも前に行はれる。|<a href="editing_002etxt.html#edit_002dbinary">edit-binary</a>| も參照。
</p>
<a name="g_t_002dl"></a><a name="index-_002dl"></a>
<a name="index-Lisp-mododeQi-Dong-suru"></a>
</dd>
<dt>-l</dt>
<dd><p>Lisp モード。オプション &rsquo;<samp>lisp</samp>&rsquo; と &rsquo;<samp>showmatch</samp>&rsquo; をオンに設定する。
</p>
<a name="g_t_002dA"></a><a name="index-_002dA"></a>
<a name="index-arabiaYu-mododeQi-Dong-suru"></a>
</dd>
<dt>-A</dt>
<dd><p>アラビア語モード。オプション &rsquo;<samp>arabic</samp>&rsquo; をオンに設定する。|<a href="various_002etxt.html#g_t_002barabic">+arabic</a>| (これは |<a href="various_002etxt.html#g_t_002brightleft">+rightleft</a>| も含んでゐる) が有效なときだけ使用できる。さうでないときには Vim はエラーメッセージを出力して終了する。
</p>
<a name="g_t_002dF"></a><a name="index-_002dF"></a>
<a name="index-perusiaYu-mododeQi-Dong-suru"></a>
</dd>
<dt>-F</dt>
<dd><p>これは Farsi (ペルシア語モード) で使用されてゐましたが、削除された。|<a href="farsi_002etxt.html#farsi_002etxt">farsi.txt</a>| を參照。
</p>
<a name="g_t_002dH"></a><a name="index-_002dH"></a>
<a name="index-heburaiYu-mododeQi-Dong-suru"></a>
</dd>
<dt>-H</dt>
<dd><p>Hebrew (ヘブライ語)モード。オプション &rsquo;<samp>hkmap</samp>&rsquo; と &rsquo;<samp>rightleft</samp>&rsquo; をオンに設定する。(|<a href="various_002etxt.html#g_t_002brightleft">+rightleft</a>| を有效にしてコンパイルした時にだけ使用可。さうでない場合 Vim はエラーメッセージを表示して終了する)。
</p>
<a name="g_t_002dV"></a><a name="verbose"></a><a name="index-_002dV"></a>
<a name="index-verbose"></a>
</dd>
<dt>-V[N]</dt>
<dd><p>詳細表示する。オプション &rsquo;<samp>verbose</samp>&rsquo; を [N] に設定する (N を省略した場合は 10 が設定される)。&quot;<code>:source</code>&quot; が實行される度、<samp>viminfo</samp> の讀み書きを行ふ度に情報が表示される。Vim の起動時と終了時の動作を調べるときに便利である。
</p>
<p>例:
</p><pre class="verbatim">vim -V8 foobar
</pre>
</dd>
<dt>-V[N]{filename}</dt>
<dd><p>-V と同樣で、さらに &rsquo;<samp>verbosefile</samp>&rsquo; を {filename} に設定する。その結果、メッセージは表示されずにファイル {filename} に書き出される。{filename} は數字で始まつてはならない。
</p>
<p>例:
</p><pre class="verbatim">vim -V20vimlog foobar
</pre><a name="g_t_002dD"></a><a name="index-_002dD"></a>
<a name="index-debatugumododeQi-Dong-suru"></a>
</dd>
<dt>-D</dt>
<dd><p>デバッグする。スクリプトの最初のコマンドを實行するところからデバッグを開始する。|<a href="repeat_002etxt.html#debug_002dmode">debug-mode</a>|
</p>
<p>{|<a href="various_002etxt.html#g_t_002beval">+eval</a>| が有效な場合のみ利用可能}
</p>
<a name="g_t_002dC"></a><a name="index-_002dC"></a>
<a name="index-Hu-Huan-mododeQi-Dong-suru"></a>
</dd>
<dt>-C</dt>
<dd><p>互換モード。オプション &rsquo;<samp>compatible</samp>&rsquo; をオンに設定する。<samp>.vimrc</samp> ファイルが存在する場合にも Vi との互換性を得ることができる。プラグインや起動時スクリプトで &quot;<code>:set nocompatible</code>&quot; とするとこのオプションより優先されるため、起動後には &rsquo;<samp>nocompatible</samp>&rsquo; になつてしまふだらう。どこで最後に設定されたかを調べるには次のコマンドを使ふ:
</p><pre class="verbatim">:verbose set compatible?
</pre><p>&rsquo;<samp>compatible</samp>&rsquo; がオンになつてゐると動かないプラグインもある。起動處理の後でこれをセットするにはこのやうにする:
</p><pre class="verbatim">vim &quot;+set cp&quot; filename
</pre><p>|<a href="#compatible_002ddefault">compatible-default</a>| も參照。
</p>
<a name="g_t_002dN"></a><a name="index-_002dN"></a>
<a name="index-Fei-Hu-Huan-mododeQi-Dong-suru"></a>
</dd>
<dt>-N</dt>
<dd><p>非互換モード。オプション &rsquo;<samp>compatible</samp>&rsquo; をオフに設定する。<samp>.vimrc</samp> ファイルがないときや、&quot;-u NONE&quot; としてゐるときに、&rsquo;<samp>nocompatible</samp>&rsquo; (Vim の擴張を有效) にすることができる。|<a href="#compatible_002ddefault">compatible-default</a>| も參照。
</p>
<a name="g_t_002dy"></a><a name="easy"></a><a name="index-_002dy"></a>
<a name="index-easy"></a>
<a name="index-Jian-Yi-mododeQi-Dong-suru"></a>
</dd>
<dt>-y</dt>
<dd><p>簡易モード。|<a href="#evim">evim</a>| や |<a href="#eview">eview</a>| と同じ。&rsquo;<samp>insertmode</samp>&rsquo; をオンに設定して起動し、モードレスエディタのやうに振舞ふ。このスイッチを指定すると、$VIMRUNTIME/evim.vim が自動的に讀み込まれ、一般的なエディタと同じ操作ができるやうなマッピングが設定される。
</p>
<p>|<a href="#evim_002dkeys">evim-keys</a>| を參照。利用可能なら GUI が使用される。
</p>
<a name="g_t_002dn"></a><a name="index-_002dn"></a>
</dd>
<dt>-n</dt>
<dd><p>スワップファイルを使用しない。クラッシュしたときに編輯していたファイルを復舊することはできなくなる。フロッピーディスクのやうな非常に低速なメディアのファイルを讀んだり編輯したいときに有用である。&quot;:set updatecount=0&quot; と設定するのと同じである。オプション &rsquo;<samp>updatecount</samp>&rsquo; に 0 より大きい値を設定することで、スワップファイルの使用を有效にすることができる。例、&quot;:set uc=100&quot;。
</p><blockquote>
<p><strong>Note:</strong> <br>
-n と -b を合はせて -nb としないこと。-nb には別の意味がある: |<a href="#g_t_002dnb">-nb</a>|
</p></blockquote>
<p><samp>vimrc</samp> ファイルの實行解釋の直後で、GUI が初期化される前に &rsquo;<samp>updatecount</samp>&rsquo; が 0 に設定される。よつて <samp>vimrc</samp> ファイルの中で &rsquo;<samp>updatecount</samp>&rsquo; を設定しても上書きされてしまふが、<samp>gvimrc</samp> での設定は上書きされない。|<a href="#startup">startup</a>| を參照。ディスクへのアクセスを減らしたいのならば (ノート PC を使用してゐる場合など)、&quot;-n&quot; を使用する替はりに、&rsquo;<samp>updatetime</samp>&rsquo; を設定し、&rsquo;<samp>updatecount</samp>&rsquo; に非常に大きい値を設定して、編輯中のファイルを保存する時に &quot;<code>:preserve</code>&quot; を利用すると良い。この方法だとクラッシュからの復舊の可能性を保てる。
</p>
<a name="g_t_002do"></a><a name="index-_002do"></a>
</dd>
<dt>-o[N]</dt>
<dd><p>N 個のウィンドウを水平分割して開く。[N] が與へられない場合には、引數で指定された全てのファイルに對して 1 個のウィンドウが開かれる。畫面に十分な廣さがない場合には、始めのはうの數個のファイルだけがウィンドウを伴つて表示される。逆にファイルの數よりもウィンドウの數が多く指定された場合、多い分のウィンドウは空ファイルの編輯用として開かれる。
</p>
<a name="g_t_002dO"></a><a name="index-_002dO"></a>
</dd>
<dt>-O[N]</dt>
<dd><p>N 個のウィンドウを垂直分割して開く。それ以外は |<a href="#g_t_002do">-o</a>| と同じ。-o と -O が兩方指定されたときは最後に指定された方を使用する。
</p>
<a name="g_t_002dp"></a><a name="index-_002dp"></a>
</dd>
<dt>-p[N]</dt>
<dd><p>N 個のタブページを開く。[N] が省略されると、引數として與へられた各ファイルに對し1つずつタブページを開く。最大値は &rsquo;<samp>tabpagemax</samp>&rsquo; ページ(既定値は 10)である。引數よりも多くのタブページが作られる場合は、最後の數個のタブページは空ファイルを開く。|<a href="tabpage_002etxt.html#tabpage">tabpage</a>| も參照。
</p>
<a name="g_t_002dT"></a><a name="index-_002dT"></a>
</dd>
<dt>-T {terminal}</dt>
<dd><p>端末の種類を &quot;terminal&quot; に設定する。これは Vim がユーザーの端末へ送るコードに影響を與へる。Vim はユーザーが使用してゐる端末の種類を自分で判斷することができるので、通常これは必要がない (|<a href="term_002etxt.html#terminal_002dinfo">terminal-info</a>| を參照)。
</p>
<a name="g_t_002d_002dnot_002da_002dterm"></a><a name="index-_2212_2212not_002da_002dterm"></a>
</dd>
<dt>--not-a-term</dt>
<dd><p>入力と出力 (もしくはどちらか一方) が端末に接續されてゐないと、ユーザーが知つてゐることを Vim に傳へる。これにより警告が表示され 2 秒閒の遲延が發生するのを避けられる。
</p>
<p>&quot;Reading from stdin...&quot; のメッセージを避けることもできる。
</p>
<p>&quot;N files to edit&quot; のメッセージを避けることもできる。
</p>
<a name="g_t_002d_002dttyfail"></a><a name="index-_2212_2212ttyfail"></a>
</dd>
<dt>--ttyfail</dt>
<dd><p>標準入力か標準出力が端末 (tty) でない場合、すぐに終了する。
</p>
<a name="g_t_002dd"></a><a name="index-_002dd"></a>
<a name="index-Chai-Fen-mododeQi-Dong-suru"></a>
</dd>
<dt>-d</dt>
<dd><p>差分モードで起動する。|<a href="diff_002etxt.html#vimdiff">vimdiff</a>| と同じ。
</p>
<p>{|<a href="various_002etxt.html#g_t_002bdiff">+diff</a>| が有效な場合のみ利用可能}
</p>
</dd>
<dt>-d {device}</dt>
<dd><p>{device} Amiga 專用機能。|<a href="various_002etxt.html#g_t_002bdiff">+diff</a>| が無效な場合のみ利用可能。|<a href="#g_t_002ddev">-dev</a>| と同じやうに機能する。
<a name="g_t_002ddev"></a><a name="index-_002ddev"></a>
</p></dd>
<dt>-dev {device}</dt>
<dd><p>Amiga 專用機能: {device} が編輯用に開かれる。普通、ウィンドウの位置とサイズを設定するために &quot;-d con:x/y/width/height&quot; の形式で指定する。例、&quot;-d con:30/10/600/150&quot;。しかしその他の AUX: のやうなデバイスの編輯を開始することにも使用できる。
<a name="g_t_002df"></a><a name="index-_002df"></a>
</p></dd>
<dt>-f</dt>
<dd><p>GUI: Vim を起動したプログラム(プロセス)から獨立しない。&rsquo;f&rsquo; は &quot;foreground&quot; を意味する。省略すると、GUI 版の Vim は新しいプロセスへ fork して、現在のプロセスは終了してしまふ。gvim の編輯セッションが終はるのを待つプログラム (メールソフトやニュースリーダーなど) には、&quot;-f&quot; を使ふべきだらう。gvim が fork しないやうにするには、自分の <samp>.gvimrc</samp> の中で &rsquo;<samp>guioptions</samp>&rsquo; に &rsquo;<var>f</var>&rsquo; を加へれば良い。
</p><blockquote>
<p><strong>Note:</strong> <br>
&quot;-gf&quot; で GUI をフォアグラウンドで實行開始できるが、&quot;-fg&quot; だと前景色の設定になつてしまふ。|<a href="gui_005fx11_002etxt.html#gui_002dfork">gui-fork</a>| 參照。
</p>
<p>Amiga: Vim を新しいウィンドウで起動しない。編輯作業が終はるのを待つプログラム (メールソフトやニュースリーダー) によつて Vim が起動される時に、このオプションは使用される。|<a href="#amiga_002dwindow">amiga-window</a>| を參照。
</p>
<p>MS-Windows: このオプションはサポートされない。vim.bat や gvim.bat 經由で起動した場合は機能する。
</p></blockquote>


<a name="g_t_002d_002dnofork"></a><a name="index-_2212_2212nofork"></a>
</dd>
<dt>--nofork</dt>
<dd><p>GUI: fork しない。|<a href="#g_t_002df">-f</a>| と同じ。
<a name="g_t_002du"></a><a name="E282"></a><a name="index-_002du"></a>
<a name="index-E282"></a>
</p></dd>
<dt>-u {vimrc}</dt>
<dd><p>初期化のためにファイル {vimrc} が讀込まれる。その他の初期化はスキップされる。|<a href="#initialization">initialization</a>| を參照。
</p>
<p>これにより特殊なマッピングや設定をした、特殊なモードで Vim を起動することができる。これを簡單に使用するにはシェルのエイリアスが使へるだらう。例:
</p><pre class="verbatim">alias vimc vim -u ~/.c_vimrc !*
</pre><p>autocommand を使ふことも考慮すべきである。|<a href="autocmd_002etxt.html#autocommand">autocommand</a>| を參照。
</p>
<p>{vimrc} に &quot;NONE&quot; (全て大文字)が指定された時には、設定ファイルや環境變數による初期化、<samp>.gvimrc</samp> による GUI の初期化も含め、全て省略される。プラグインも讀み込まれない。
</p>
<p>{vimrc} が &quot;NORC&quot; (全部大文字) のときは &quot;NONE&quot; と同じやうに處理されるが、プラグインは讀み込まれる。
</p>
<p>{vimrc} が &quot;DEFAULTS&quot; (全部大文字) のときは &quot;NONE&quot; と同じやうに處理されるが、|<a href="#defaults_002evim">defaults.vim</a>| スクリプトが讀み込まれる。また、&rsquo;<samp>nocompatible</samp>&rsquo; が設定される。|<a href="#g_t_002d_002dclean">--clean</a>| も參照。
</p>
<p>&quot;DEFAULTS&quot; 以外の引數と共に &quot;-u&quot; 引數を使用すると、副作用としてオプション &rsquo;<samp>compatible</samp>&rsquo; がデフォルトでオンに設定される。これは豫期せぬ動作を引き起こすかもしれない。|<a href="options_002etxt.html#g_t_0027compatible_0027">'compatible'</a>| を參照。
</p>
<a name="g_t_002dU"></a><a name="E230"></a><a name="index-_002dU"></a>
<a name="index-E230"></a>
</dd>
<dt>-U {gvimrc}</dt>
<dd><p>GUI がスタートする時にファイル {gvimrc} が讀込まれる。その他の GUI 初期化はスキップされる。{gvimrc} に NONE が指定された場合、初期化ファイルは何も讀込まれない。|<a href="gui_002etxt.html#gui_002dinit">gui-init</a>|
</p>
<p>例外: システムのメニューファイルは常に讀込まれる。
</p>
<a name="g_t_002di"></a><a name="index-_002di"></a>
</dd>
<dt>-i {viminfo}</dt>
<dd><p>デフォルトの <samp>viminfo</samp> の代はりにファイル {viminfo} を使用する。&quot;NONE&quot; (全て大文字)が指定された場合には、&rsquo;<samp>viminfo</samp>&rsquo; が指定されたり、&quot;:rv&quot; や &quot;:wv&quot; が使はれても、<samp>viminfo</samp> は讀み書きともに使用されない。|<a href="#viminfo_002dfile">viminfo-file</a>| 參照。
</p>
<a name="g_t_002d_002dclean"></a><a name="index-_2212_2212clean"></a>
</dd>
<dt>--clean</dt>
<dd><p>&quot;-u DEFAULTS -U NONE -i NONE&quot; と同樣:
</p><ul>
<li> ファイルや環境變數からの初期化はスキップされる。
</li><li> &rsquo;runtimepath&rsquo; と &rsquo;packpath&rsquo; は ホームディレクトリの項目は除かれて設定される (これは -u DEFAULTS を使ふと生じない)。
</li><li> |<a href="#defaults_002evim">defaults.vim</a>| スクリプトが讀み込まれる。これは &rsquo;<samp>nocompatible</samp>&rsquo; を含む: Vim のデフォルトを使ふ。
</li><li> |<a href="gui_002etxt.html#gvimrc">gvimrc</a>| スクリプトは讀み込まれない。
</li><li> viminfo ファイルは讀み書きされない。
</li></ul>

<a name="g_t_002dx"></a><a name="index-_002dx"></a>
</dd>
<dt>-x</dt>
<dd><p>ファイルの讀み書き時に暗號化を施す。暗號の鍵としてオプション &rsquo;<samp>key</samp>&rsquo; に設定された値を使用する。全ての書き込みは、テキストに對して鍵を使つて暗號化を行つてから なされる。ファイルを讀込む時には、Vim は暗號化ファイルかチェックし、自動的に鍵を聞いてくるので、引數 &rsquo;-x&rsquo; は必要でない。|<a href="editing_002etxt.html#encryption">encryption</a>|
</p>
<a name="g_t_002dX"></a><a name="index-_002dX"></a>
</dd>
<dt>-X</dt>
<dd><p>X サーバーと通信しない。さうして、カレントウィンドウのタイトルを取得したり、X のクリップボードを使つたコピー/ペーストを使用したりしない。端末エミュレータで Vim を使用するときにXサーバーとの通信速度が遲い場合にそれを囘避できる。
</p>
<p>效果があるか確かめるには |<a href="#g_t_002d_002dstartuptime">--startuptime</a>| を使つてみること。
</p>
<p>Unix か VMS で |<a href="various_002etxt.html#g_t_002bX11">+X11</a>| が有效な場合のみ意味がある。特定の端末を使用するときだけ通信を無效にするには、オプション &rsquo;<samp>clipboard</samp>&rsquo; を參照。
</p>
<p>X11 Session Management Protocol (XSMP) の處理が組み込まれてゐる場合、その通信にも大きな延滯が生じるため、無效にする。(例へばクライアントとサーバーが通信するため)あとから X サーバーとの通信をつなげるには |<a href="eval_002etxt.html#serverlist_0028_0029">serverlist()</a>| 函數を呼び出す。ただし XSMP の處理は有效にならない。
</p>
<a name="g_t_002ds"></a><a name="index-_002ds"></a>
</dd>
<dt>-s {scriptin}</dt>
<dd><p>スクリプトファイル {scriptin} が讀込まれる。ファイルの中のキャラクタは、全てユーザーがタイプしたものとして解釋される。エディタが終了する前にファイルの終端に達した場合、以降のキャラクタはキーボードから讀込まれる。Ex モード動作時には働かない、|<a href="#g_t_002ds_002dex">-s-ex</a>| を參照。|<a href="repeat_002etxt.html#complex_002drepeat">complex-repeat</a>| も參照。
</p>
<a name="g_t_002dw_005fnr"></a><a name="index-_002dw_005fnr"></a>
</dd>
<dt>-w {number}</dt>
<dt>-w{number}</dt>
<dd><p>オプション &rsquo;<samp>window</samp>&rsquo; を {number} に設定する。
</p>
<a name="g_t_002dw"></a><a name="index-_002dw"></a>
</dd>
<dt>-w {scriptout}</dt>
<dd><p>Vim を終了するまで、ユーザーが入力した全部の文字が記錄され、ファイル {scriptout} に書き出される。これは &quot;vim -s&quot; や &quot;:source!&quot; で讀込まれるスクリプトファイルを作成するのに役立つ。既にファイル &quot;scriptout&quot; が存在する場合には、そのファイルに追加保存する。|<a href="repeat_002etxt.html#complex_002drepeat">complex-repeat</a>| も參照。
</p>
<p>{scriptout} は數字で始まつてはならない。
</p>
<a name="g_t_002dW"></a><a name="index-_002dW"></a>
</dd>
<dt>-W {scriptout}</dt>
<dd><p>-w に似てゐるが、アペンド(追加)せずに、既にあるファイルを上書きする。
</p>
</dd>
<dt>--remote [+{cmd}] {file} ...</dt>
<dd><p>サーバーとして機能してゐる他の Vim で {file} を開く。この引數の前にファイルを指定することはできない。|<a href="remote_002etxt.html#g_t_002d_002dremote">--remote</a>| を參照。
</p>
</dd>
<dt>--remote-silent [+{cmd}] {file} ...</dt>
<dd><p>--remote と同じ。ただしサーバーがなくてもメッセージを出さない。|<a href="remote_002etxt.html#g_t_002d_002dremote_002dsilent">--remote-silent</a>| を參照。
</p>
</dd>
<dt>--remote-wait [+{cmd}] {file} ...</dt>
<dd><p>--remote と同じ。ただしサーバーが終了するまで待機する。|<a href="remote_002etxt.html#g_t_002d_002dremote_002dwait">--remote-wait</a>| を參照。
</p>
</dd>
<dt>--remote-wait-silent [+{cmd}] {file} ...</dt>
<dd><p>--remote-wait と同じ。ただしサーバーがなくてもメッセージを出さない。|<a href="remote_002etxt.html#g_t_002d_002dremote_002dwait_002dsilent">--remote-wait-silent</a>| を參照。
</p>
</dd>
<dt>--servername {name}</dt>
<dd><p>Vim サーバーの名前を指定する。これは通信先のサーバー名、あるいは起動する Vim が使用する名前である。|<a href="remote_002etxt.html#g_t_002d_002dservername">--servername</a>| を參照。
</p>
</dd>
<dt>--remote-send {keys}</dt>
<dd><p>{keys} を Vim サーバーに送り、終了する。|<a href="remote_002etxt.html#g_t_002d_002dremote_002dsend">--remote-send</a>| を參照。
</p>
</dd>
<dt>--remote-expr {expr}</dt>
<dd><p>Vim サーバーで {expr} を評價し、その結果を標準出力に出力する。|<a href="remote_002etxt.html#g_t_002d_002dremote_002dexpr">--remote-expr</a>| を參照。
</p>
</dd>
<dt>--serverlist</dt>
<dd><p>稼動してゐる Vim サーバーの一覽を出力する。|<a href="remote_002etxt.html#g_t_002d_002dserverlist">--serverlist</a>| を參照。
</p>
<a name="g_t_002d_002dsocketid"></a><a name="index-_2212_2212socketid"></a>
</dd>
<dt>--socketid {id}</dt>
<dd><p>GTK+ GUI の Vim のみ。GtkPlug を使用し、別アプリケーションのウィンドウで起動するやうにする。詳細は |<a href="gui_005fx11_002etxt.html#gui_002dgtk_002dsocketid">gui-gtk-socketid</a>| を參照。
</p>
<a name="g_t_002d_002dwindowid"></a><a name="index-_2212_2212windowid"></a>
</dd>
<dt>--windowid {id}</dt>
<dd><p>Win32 GUI の Vim のみ。ウィンドウ {id} を親ウィンドウにしようと試みる。成功するとそのウィンドウの內側で起動する。詳しくは |<a href="gui_005fw32_002etxt.html#gui_002dw32_002dwindowid">gui-w32-windowid</a>| を參照。
</p>
<a name="g_t_002d_002decho_002dwid"></a><a name="index-_2212_2212echo_002dwid"></a>
</dd>
<dt>--echo-wid</dt>
<dd><p>GTK+ GUI の Vim のみ。ウィンドウの ID を標準出力に出力する。この値は gvim を kpart ウィジェットに埋め込むのに使用できる。出力の書式は:
</p><pre class="verbatim">WID: 12345\n
</pre>
<a name="g_t_002d_002drole"></a><a name="index-_2212_2212role"></a>
</dd>
<dt>--role {role}</dt>
<dd><p>GTK+ 2 GUI のみ。メインウィンドウの役割 (role) を {role} に設定する。ウィンドウの役割はウィンドウマネージャーがウィンドウを識別して、ウィンドウの位置等を復元するのに使はれる。この引數はログイン時にセッションを復元するときに自動的に使用される。|<a href="gui_005fx11_002etxt.html#gui_002dgnome_002dsession">gui-gnome-session</a>| を參照。
</p>
<a name="g_t_002dP"></a><a name="MDI"></a><a name="E671"></a><a name="E672"></a><a name="index-_002dP"></a>
<a name="index-MDI"></a>
<a name="index-E671"></a>
<a name="index-E672"></a>
</dd>
<dt>-P {parent-title}</dt>
<dd><p>Win32 のみ。親になるアプリケーションのタイトルを指定する。可能であれば Vim はその MDI アプリケーションのウィンドウ內で起動する。
</p>
<p>{parent-title} が親アプリケーションのウィンドウのタイトルに使はれてゐて、明確に區別できる必要がある。
</p><blockquote>
<p><strong>Note:</strong> <br>
まだ簡單に實裝されてゐるだけである。全てのアプリケーションで動くわけではない。メニューは機能しない。
</p></blockquote>

<a name="g_t_002dnb"></a><a name="index-_002dnb"></a>
</dd>
<dt>-nb -nb={fname} -nb:{hostname}:{addr}:{password}</dt>
<dd><p>Netbeans と接續し、エディタサーバーになる。2 番目の型は接續情報を格納したファイルを指定する。3 番目の型は Netbeans に接續するためのホスト名、アドレス、パスワードを指定する。|<a href="netbeans_002etxt.html#netbeans_002drun">netbeans-run</a>|
</p></dd>
</dl>

<p>實行ファイルが &quot;view&quot; だつたならば、Vim は讀込み專用モードで起動する。&quot;view&quot; から &quot;vim&quot; へハードリンクかシンボリックリンクを作成すると便利だらう。&quot;vim -R&quot; とすることでも讀込み專用モードで起動できる。
</p>
<p>實行ファイルの名前が &quot;ex&quot; ならば、Vim は Ex モードで起動する。これは &quot;:&quot; コマンドだけしか使へないことを意味してゐる。しかし引數 &quot;-v&quot; が與へられれば、Vim は常にノーマルモードで起動する。
</p>
<p>unix 互換のシステムで X11 GUI サポートが有效ならさらに多くの引數が利用可能である。|<a href="gui_005fx11_002etxt.html#gui_002dresources">gui-resources</a>| を參照。
</p>
<a name="starting_002damiga"></a><a name="index-starting_002damiga"></a>
<a name="index-Amiga-Ban-no-Vim"></a>
<a name="g_t2_002e-Amiga-Ban-no-Vim"></a>
<h3 class="section">2. Amiga 版の Vim</h3>

<a name="workbench"></a><a name="index-workbench"></a>
<a name="Vim-wo-Workbench-karaQi-Dong-suru"></a>
<h4 class="unnumberedsubsec">Vim を Workbench から起動する</h4>

<p>Workbench 上でアイコンを 2 度クリックすれば Vim を起動することができる。さうすると
空のバッファで起動するだらう。
</p>
<p>&quot;Project&quot; アイコンを使用することで、1 つ以上のファイルを開くことができる。アイコンの &quot;Default Tool&quot; には Vim の實行ファイルの完全なパスを設定し、&quot;<samp>.info</samp>&quot; ファイルの名前には、編輯するテキストファイルの名前を設定する。このアイコンを 2 度クリックすると、Vim が起動してそのファイルを開く(そのファイルがあれば)。シフトキーを押しながらアイコンをクリックし、最後のファイルを 2 度クリックすることで、複數のファイルを開くことができる。これら全てのアイコンの &quot;Default Tool&quot; は同じでなければならない。
</p>
<p>Workbench からではファイル名以外の引數は、Vim へ與へることができない。
</p>
<a name="amiga_002dwindow"></a><a name="index-amiga_002dwindow"></a>
<a name="Vim-uindou"></a>
<h4 class="unnumberedsubsec">Vim ウィンドウ</h4>

<p>Vim は起動された CLI ウィンドウの中で動作する。Vim が &quot;run&quot; や &quot;runback&quot; コマンド、あるいや Workbench から起動された場合には、自分自身でウィンドウを開く。
</p>
<dl compact="compact">
<dt>技術的詳細:</dt>
<dd><p>新しいウィンドウを開くためにちよつとしたトリックを使ふ。Vim は普通の CLI ウィンドウの中で起動されてゐないことを檢出するとすぐに、&quot;t:&quot; にあるスクリプトファイルを作成する。このスクリプトファイルには Vim を起動したのと同じコマンドに加へて &quot;endcli&quot; コマンドが含まれてゐる。このスクリプトファイルは &quot;newcli&quot; コマンドと一緖に實行される (これが行はれる時には &quot;c:run&quot; と &quot;c:newcli&quot; コマンドが必要)。
</p>
<p>スクリプトファイルはリブートするか、手動で消すまで存在しつづける。この方法は &quot;<code>:sh</code>&quot; と &quot;<code>:!</code>&quot; コマンドが正しく機能する必要がある。しかし Vim が -f オプション(フォアグラウンドモード)で起動された時には、この方法は使はれない。Vim を -f オプションで起動した時には、その終了を待つからである。
</p>
<p>スクリプトのトリックを使ふと、Vim を呼び出したプログラムはその終了を知ることができない。オプション-fはメールプログラムなど編輯のセッションが終はつたことを 檢出したい場合に、Vim を起動する方法として使用される。だからオプション -f が指定された時には、&quot;<code>:sh</code>&quot; と &quot;<code>:!</code>&quot; コマンドは使用することができない。
</p></dd>
</dl>

<p>Vim は自動的にウィンドウのサイズを認識して對應する。Amiga DOS 1.3 の元では、表示の更新速度を上げるために、fastfonts のプログラム &quot;FF&quot; の支援を受けて動作する。
</p>
<a name="evim_002dkeys"></a><a name="index-evim_002dkeys"></a>
<a name="index-eVim-nituite"></a>
<a name="g_t3_002e-eVim-nituite"></a>
<h3 class="section">3. eVim について</h3>

<p>EVim は Vim をモードレスエディタとして實行する。これは Vi らしくない發想ではあるが、Vim の操作方法を覺えられるほどには使用しない人の助けになる。ノーマルモードのコマンドを覺えることで編輯作業がより簡單になるといふことを利用者が感付いてくれれば幸ひである。
</p>
<p>Evim では以下のオプションが標準設定から變更される:
</p>
<table>
<tr><td width="35%">:set nocompatible</td><td width="65%">Vi にはない Vim 獨自の機能を使ふ</td></tr>
<tr><td width="35%">:set insertmode</td><td width="65%">常時插入モードを使用する</td></tr>
<tr><td width="35%">:set hidden</td><td width="65%">非表示になつたバッファを開放しない</td></tr>
<tr><td width="35%">:set backup</td><td width="65%">バックアップファイルを消さない (VMS 以外)</td></tr>
<tr><td width="35%">:set backspace=2</td><td width="65%">どこでもバックスペースを使用できるやうにする</td></tr>
<tr><td width="35%">:set autoindent</td><td width="65%">新しい行を入力するときに自動的にインデントする</td></tr>
<tr><td width="35%">:set history=50</td><td width="65%">Ex コマンドの使用履歷を 50 回前まで記錄する</td></tr>
<tr><td width="35%">:set ruler</td><td width="65%">カーソルの位置を表示する</td></tr>
<tr><td width="35%">:set incsearch</td><td width="65%">檢索時、入力途中にマッチ箇所を表示する</td></tr>
<tr><td width="35%">:set mouse=a</td><td width="65%">全てのモードでマウスを使ふ</td></tr>
<tr><td width="35%">:set hlsearch</td><td width="65%">檢索した文字を强調表示する</td></tr>
<tr><td width="35%">:set whichwrap+=&lt;,&gt;,[,]</td><td width="65%"><code class="tt-key">&lt;Left&gt;</code> と <code class="tt-key">&lt;Right&gt;</code> を使つた左右の移動で行を跨ぐ</td></tr>
<tr><td width="35%">:set guioptions-=a</td><td width="65%">非 Unix のみ。選擇時に自動的にコピーしない</td></tr>
</table>

<p>キーマッピング:
</p><table>
<tr><td width="25%">&lt;Down&gt;</td><td width="75%">實際の行ではなく表示された行の單位で移動する</td></tr>
<tr><td width="25%">&lt;Up&gt;</td><td width="75%">同上</td></tr>
<tr><td width="25%">Q</td><td width="75%">&quot;gq&quot; コマンドで文章整形する。</td></tr>
<tr><td width="25%">&lt;BS&gt;</td><td width="75%">ビジュアルモードで選擇範圍を削除する</td></tr>
<tr><td width="25%">CTRL-X</td><td width="75%">ビジュアルモードで選擇範圍を切り取つてクリップボードにコピーする</td></tr>
<tr><td width="25%">&lt;S-Del&gt;</td><td width="75%">同上</td></tr>
<tr><td width="25%">CTRL-C</td><td width="75%">ビジュアルモードで選擇範圍をクリップボードにコピーする</td></tr>
<tr><td width="25%">&lt;C-Insert&gt;</td><td width="75%">同上</td></tr>
<tr><td width="25%">CTRL-V</td><td width="75%">クリップボードから貼り付ける (どのモードでも)</td></tr>
<tr><td width="25%">&lt;S-Insert&gt;</td><td width="75%">同上</td></tr>
<tr><td width="25%">CTRL-Q</td><td width="75%">本來の <kbd>CTRL-V</kbd> の機能</td></tr>
<tr><td width="25%">CTRL-Z</td><td width="75%">元に戾す (undo)</td></tr>
<tr><td width="25%">CTRL-Y</td><td width="75%">やり直し (redo)</td></tr>
<tr><td width="25%">&lt;M-Space&gt;</td><td width="75%">システムメニューを表示</td></tr>
<tr><td width="25%">CTRL-A</td><td width="75%">全てを選擇する</td></tr>
<tr><td width="25%">&lt;C-Tab&gt;</td><td width="75%">次のウィンドウへ。<kbd>CTRL-W w</kbd> と同じ</td></tr>
<tr><td width="25%">&lt;C-F4&gt;</td><td width="75%">ウィンドウを閉ぢる。<kbd>CTRL-W c</kbd> と同じ</td></tr>
</table>

<p>追記:
</p><ul>
<li> &quot;:behave mswin&quot; が使用される |<a href="gui_002etxt.html#g_t_003abehave">:behave</a>|
</li><li> 構文强調表示が有效になる
</li><li> ファイルタイプ別の機能が有效になる。ファイルタイプ用のプラグインやインデントが使用される。
</li><li> テキストファイルでは &rsquo;<samp>textwidth</samp>&rsquo; が 78 に設定される
</li></ul>

<p><strong>Hint:</strong> <br>
ノーマルモードのコマンドを連續して使用するには <kbd>CTRL-L</kbd> を使用する。|<a href="insert_002etxt.html#i_005fCTRL_002dL">i_CTRL-L</a>|
</p>
<a name="initialization"></a><a name="startup"></a><a name="index-initialization"></a>
<a name="index-startup"></a>
<a name="index-Chu-Qi-Hua-"></a>
<a name="Chu-Qi-Hua-"></a>
<h4 class="unnumberedsubsec">初期化</h4>

<p>このセクションは Vim の非 GUI バージョンについて書く。GUI をスタートさせた時の追加の初期化は |<a href="gui_005fx11_002etxt.html#gui_002dfork">gui-fork</a>| を參照。
</p>
<p>スタート時に、Vim は環境變數とファイルを調べ、然るべく値を設定する。Vim はこの順序で取り掛かる。
</p>
<a name="SHELL"></a><a name="COMSPEC"></a><a name="TERM"></a><a name="index-SHELL"></a>
<a name="index-COMSPEC"></a>
<a name="index-TERM"></a>
<ol>
<li> オプション &rsquo;<samp>shell</samp>&rsquo; と &rsquo;<samp>term</samp>&rsquo; を設定する
環境變數 <code>SHELL</code> が存在するならば、オプション &rsquo;<samp>shell</samp>&rsquo; を設定するのに使はれる。MS-DOS と Win32 では <code>SHELL</code> が設定されてゐない場合 <code>COMSPEC</code> の値が使用される。

<p>環境變數 <code>TERM</code> が存在するならば、オプション &rsquo;<samp>term</samp>&rsquo; を設定するのに使はれる。しかし、後で GUI を開始するときに &rsquo;<samp>term</samp>&rsquo; は變更される(下のステップ 8 を參照)。
</p>
</li><li> 引數を處理する
Vim を起動するときに指定したオプション引數やファイル名を調べる。指定されたファイルのバッファを作成する(まだ讀み込まない)。引數 |<a href="#g_t_002dV">-V</a>| を使ふと、初期化處理のデバッグ用にこれ以降で起こることを表示したりログに書き出したりできる。

<a name="vimrc"></a><a name="exrc"></a></li><li> <a name="index-vimrc"></a>
<a name="index-exrc"></a>
環境變數とファイルの Ex コマンドを實行する
環境變數の値は 1 つの Ex コマンドラインとして讀まれるので、複數のコマンドを實行したい時には &rsquo;|&rsquo; か &quot;&lt;NL&gt;&quot; で區切る必要がある。

<p>&quot;<samp>vimrc</samp>&quot; ファイルは初期化コマンドを含んだファイルである。<samp>vimrc</samp> ファイルは 1 行ずつ Ex コマンドとして實行される。&quot;exrc&quot; とほぼ等價である。それらは同じタイプのファイルであるが、&quot;exrc&quot; が常に Vi によつて使はれるのに對して、&quot;vimrc&quot; は Vim 特有のものである。|<a href="usr_005f05_002etxt.html#vimrc_002dintro">vimrc-intro</a>| も參照。
</p>
<p>個人の初期化ファイルの配置場所:
</p><table>
<tr><td width="20%">Unix</td><td width="80%">$HOME/.vimrc, $HOME/.vim/vimrc</td></tr>
<tr><td width="20%">OS/2</td><td width="80%">$HOME/.vimrc, $HOME/vimfiles/vimrc, $VIM/.vimrc (または _vimrc)</td></tr>
<tr><td width="20%">MS-Windows</td><td width="80%">$HOME/_vimrc, $HOME/vimfiles/vimrc, $VIM/_vimrc</td></tr>
<tr><td width="20%">Amiga</td><td width="80%">s:.vimrc, home:.vimrc, home:vimfiles:vimrc, $VIM/.vimrc</td></tr>
</table>

<p>初期化ファイルは上記の順に檢索され、最初に見つかつたものだけが讀み込まれる。
</p>
<p>推奬: Vim の設定ファイルは全て $HOME/.vim/ ディレクトリ (MS-Windows では $HOME/vimfiles/) に置くこと。さうすれば設定ファイルを別のシステムにコピーするのが容易になる。
</p>
<p>Vim が &quot;-u filename&quot; で起動された場合、デフォルトの vimrc の代はりに &quot;filename&quot; が使はれる。續く初期化處理の 4. までがスキップされる。<code>$MYVIMRC</code> は設定されない。
</p>
<p>&quot;vim -u NORC&quot; によりファイルを讀み込むことなくこれらの初期化を省略することができる。&quot;vim -u NONE&quot; を使用するとさらにプラグインも讀み込まない。|<a href="#g_t_002du">-u</a>|
</p>
<p>起動引數 &quot;-s&quot; により Vim が Ex モードで起動されたならば、續く 4. までの初期化處理がスキップされる。オプション &quot;-u&quot; だけが處理される。
<a name="evim_002evim"></a><a name="index-evim_002evim"></a>
</p><ul>
<li> a. Vim を |<a href="#evim">evim</a>| や |<a href="#eview">eview</a>| として、あるいは |<a href="#g_t_002dy">-y</a>| 引數を指定して起動すると $VIMRUNTIME/evim.vim が實行される。
<a name="system_002dvimrc"></a></li><li> <a name="index-system_002dvimrc"></a>
b. Unix、MS-DOS、MS-Windows、OS/2、VMS、Macintosh、RISC-OS そして Amiga では、システムの vimrc ファイルが初期化のために讀み込まれる。このファイルのパスは &quot;:version&quot; コマンドによつて確認できる。普通は &quot;$VIM/vimrc&quot; である。
<blockquote>
<p><strong>Note:</strong> <br>
このファイルは &rsquo;compatible&rsquo; モードであつても讀み込まれる。&rsquo;compatible&rsquo; の自動リセットはこれが終はつた後に行はれることになつてゐる。必要ならば &quot;<code>:set nocp</code>&quot; コマンドを追加する。
</p></blockquote>
<p>Macintosh では $VIMRUNTIME/macmap.vim が讀み込まれる (MacVim.app 上ではさうではなく、これは古い Carbon 版にのみ當てはまる)。
</p>
<a name="VIMINIT"></a><a name="g_t_002evimrc"></a><a name="g_t_005fvimrc"></a><a name="EXINIT"></a><a name="g_t_002eexrc"></a><a name="g_t_005fexrc"></a><a name="g_t_0024MYVIMRC"></a></li><li> <a name="index-VIMINIT"></a>
<a name="index-_002evimrc"></a>
<a name="index-_005fvimrc"></a>
<a name="index-EXINIT"></a>
<a name="index-_002eexrc"></a>
<a name="index-_005fexrc"></a>
<a name="index-_0024MYVIMRC"></a>
c. 初期化のために 5 つの場所が檢索される。最初に見つかつたものが使用され、殘りは無視される。ここまでで環境變數 <code>$MYVIMRC</code> が設定されてゐなく、VIMINIT を使つてゐないなら、<code>$MYVIMRC</code> に最初にみつかつたファイルが設定される。
<ul>
<li> I 環境變數 <code>VIMINIT</code> (|<a href="#compatible_002ddefault">compatible-default</a>| も參照) (*) その內容は Ex コマンドとして解釋される。
</li><li> II ユーザー vimrc ファイル:
<table>
<tr><td width="50%">&quot;$HOME/.vimrc&quot;</td><td width="50%">(for Unix and OS/2) (*)</td></tr>
<tr><td width="50%">&quot;$HOME/.vim/vimrc&quot;</td><td width="50%">(for Unix and OS/2) (*)</td></tr>
<tr><td width="50%">&quot;s:.vimrc&quot;</td><td width="50%">(for Amiga) (*)</td></tr>
<tr><td width="50%">&quot;home:.vimrc&quot;</td><td width="50%">(for Amiga) (*)</td></tr>
<tr><td width="50%">&quot;home:vimfiles:vimrc&quot;</td><td width="50%">(for Amiga) (*)</td></tr>
<tr><td width="50%">&quot;$VIM/.vimrc&quot;</td><td width="50%">(for OS/2 and Amiga) (*)</td></tr>
<tr><td width="50%">&quot;$HOME/_vimrc&quot;</td><td width="50%">(for MS-DOS and Win32) (*)</td></tr>
<tr><td width="50%">&quot;$HOME/vimfiles/vimrc&quot;</td><td width="50%">(for MS-DOS and Win32) (*)</td></tr>
<tr><td width="50%">&quot;$VIM/_vimrc&quot;</td><td width="50%">(for MS-DOS and Win32) (*)</td></tr>
</table>
<blockquote>
<p><strong>Note:</strong> <br>
Unix, OS/2 そして Amiga では、&quot;.vimrc&quot; がなかつた場合には、MS-DOS 互換のファイルシステムを使用することを考へ、&quot;_vimrc&quot; も試みられる。MS-DOS と Win32 では &quot;_vimrc&quot; を探したあとで、ロングファイルネームの仕組みを使用して &quot;.vimrc&quot; が探される。
</p></blockquote>
<blockquote>
<p><strong>Note:</strong> <br>
MS-DOS と Win32 では &quot;$HOME&quot; がまず檢査される。&quot;_vimrc&quot; と &quot;.vimrc&quot; のどちらもない場合には、&quot;$VIM&quot; が調べられる。$VIM が設定されてゐない場合については |<a href="#g_t_0024VIM">$VIM</a>| 參照。
</p></blockquote>
</li><li> III 環境變數 EXINIT。
その內容は Ex コマンドとして解釋される。
</li><li> IV ユーザーの exrc ファイル。vimrc と同じだが、vimrc が exrc によつて置き換へられてゐる。しかし &quot;.exrc&quot; と &quot;_exrc&quot; のどちらか 1 つだけが使はれる。これはシステムによる。(*) の註釋は適用されない。
</li><li> V デフォルトの $VIMRUNTIME/defaults.vim を讀み込む。これは、大半の新規ユーザーが必要するであらう各種オプションを設定し、&quot;syntax on&quot; 及び &quot;filetype on&quot; コマンドを含んでゐる。|<a href="#defaults_002evim">defaults.vim</a>| を參照。
</li></ul>

</li><li> d. &rsquo;<samp>exrc</samp>&rsquo; オプションがオン (初期狀態ではオフ) の場合、現在のディレクトリで 3 つのファイルが檢索される。最初に見つかつたものだけが使用され、殘りは無視される。
<table>
<tr><td width="20%">- The file</td><td width="80%">&quot;.vimrc&quot; (for Unix, Amiga and OS/2) (*)</td></tr>
<tr><td width="20%"></td><td width="80%">&quot;_vimrc&quot; (for MS-DOS and Win32) (*)</td></tr>
<tr><td width="20%">- The file</td><td width="80%">&quot;_vimrc&quot; (for Unix, Amiga and OS/2) (*)</td></tr>
<tr><td width="20%"></td><td width="80%">&quot;.vimrc&quot; (for MS-DOS and Win32) (*)</td></tr>
<tr><td width="20%">- The file</td><td width="80%">&quot;.exrc&quot;  (for Unix, Amiga and OS/2)</td></tr>
<tr><td width="20%"></td><td width="80%">&quot;_exrc&quot;  (for MS-DOS and Win32)</td></tr>
</table>

<p>(*) このファイルを使用するか環境變數を使用した場合、自動的に &rsquo;<samp>compatible</samp>&rsquo; オプションがオフに設定される。|<a href="#compatible_002ddefault">compatible-default</a>| を參照。
</p></li></ul>

<blockquote>
<p><strong>Note:</strong> <br>
|<a href="if_005fmzsch_002etxt.html#mzscheme">mzscheme</a>| インターフェイスを使用する場合は、<samp>vimrc</samp> ファイルの讀み込み後に初期化されることに注意。それより後に &rsquo;<samp>mzschemedll</samp>&rsquo; を變更しても效果はない。
</p></blockquote>

<a name="load_002dplugins"></a></li><li> <a name="index-load_002dplugins"></a>
プラグインスクリプトを讀み込む
次のコマンドと同じことを實行する:
<pre class="verbatim">:runtime! plugin/**/*.vim
</pre><p>オプション &rsquo;<samp>runtimepath</samp>&rsquo; に指定された各ディレクトリのサブディレクトリ &quot;plugin&quot; にある擴張子が &quot;.vim&quot; となつてゐるファイルを實行する(各ディレクトリごとに名前順で實行される)。サブディレクトリに對しても再歸的に檢索される。
ただし &quot;after&quot; において變更した &rsquo;<samp>runtimepath</samp>&rsquo; 內のディレクトリはこの手順をスキップし、after パッケージだけを讀み込む。下の說明を參照。次の場合にはプラグインを讀み込まない:
</p><ul>
<li> vimrc ファイルでオプション &rsquo;<samp>loadplugins</samp>&rsquo; がオフに設定された。
</li><li> 起動時の引數に |<a href="#g_t_002d_002dnoplugin">--noplugin</a>| が指定された。
</li><li> 起動時の引數に |<a href="#g_t_002d_002dclean">--clean</a>| が指定された。
</li><li> 起動時の引數に &quot;-u NONE&quot; が指定された |<a href="#g_t_002du">-u</a>|。
</li><li> |<a href="various_002etxt.html#g_t_002beval">+eval</a>| の機能を無效にして Vim をコンパイルした。
</li></ul>
<blockquote>
<p><strong>Note:</strong> <br>
引數に &quot;-c set noloadplugins&quot; と指定しても意味がない。このコマンドはこの時點ではまだ實行されない。&quot;&ndash;cmd &rsquo;set noloadplugins&rsquo;&quot; または &quot;&ndash;cmd &rsquo;set loadplugins&rsquo;&quot; とすればよい。|<a href="#g_t_002d_002dcmd">--cmd</a>|
</p></blockquote>

<p>パッケージが讀み込まれる。&rsquo;<samp>packpath</samp>&rsquo; 內の各エントリの &quot;start&quot; ディレクトリの下で見つかつたプラグインだけが上記の要領で讀み込まれる。見つけた plugin ディレクトリはすべて &rsquo;<samp>runtimepath</samp>&rsquo; に追加され、すべてのプラグインが讀み込まれる。詳細は |<a href="repeat_002etxt.html#packages">packages</a>| を參照。
</p>
<p>プラグインスクリプトが讀み込まれるが、しかし上で言及したやうに、ここでは &quot;after&quot; で終はるディレクトリに限られる。パッケージが見つかつた際には &rsquo;<samp>runtimepath</samp>&rsquo; が變更されるが、&quot;after&quot; で終はるディレクトリは追加されないことに注意。
</p>
</li><li> &rsquo;<samp>shellpipe</samp>&rsquo; と &rsquo;<samp>shellredir</samp>&rsquo; を設定する
それ以前に設定されてゐなければ、&rsquo;shell&rsquo; オプションに從つて &rsquo;<samp>shellpipe</samp>&rsquo; と &rsquo;<samp>shellredir</samp>&rsquo; オプションが設定される。つまり自分で設定しなくても、Vim が適切な &rsquo;<samp>shellpipe</samp>&rsquo; と &rsquo;<samp>shellredir</samp>&rsquo; の値を設定してくれる。

</li><li> &quot;-n&quot; コマンド引數が使用されてゐたら、&rsquo;<samp>updatecount</samp>&rsquo; を 0 に設定する

</li><li> バイナリオプションを設定する
Vim の起動時に &quot;-b&quot; フラグが與へられた場合、この時點でバイナリ編輯用のフラグが設定される。|<a href="#g_t_002db">-b</a>| 參照。

</li><li> GUI の初期化を行ふ
&quot;gvim&quot; として起動された場合、GUI の初期化が行はれる。|<a href="gui_002etxt.html#gui_002dinit">gui-init</a>| 參照。

</li><li> viminfo ファイルを讀み込む
&rsquo;<samp>viminfo</samp>&rsquo; オプションが空でなければ、viminfo ファイルが讀み込まれる。|<a href="#viminfo_002dfile">viminfo-file</a>| 參照。

</li><li> quickfix ファイルを讀み込む
Vim に &quot;-q&quot; フラグが與へられた場合、quickfix ファイルが讀み込まれる。これに失敗すると Vim は終了する。

</li><li> 全てのウィンドウを開く
|<a href="#g_t_002do">-o</a>| フラグが與へられた場合、ウィンドウが開く(しかしまだ表示されない)。|<a href="#g_t_002dp">-p</a>| フラグが與へられた場合、タブページが作られる(しかしまだ表示されない)。

<p>スクリーンが切り替へられると、描畫が始まる。&quot;-q&quot; フラグが Vim に與へられた場合、最初のエラーにジャンプする。全てのバッファがロードされる。
</p>
</li><li> スタートアップコマンドが實行される
&quot;-t&quot; フラグが Vim に與へられた場合、タグにジャンプする。
|<a href="#g_t_002dc">-c</a>| と |<a href="editing_002etxt.html#g_t_002bcmd">+cmd</a>| 引數で與へられたコマンドが實行される。
&rsquo;<samp>insertmode</samp>&rsquo; オプションがセットされてゐると、插入モードに入る。
スタートフラグがリセットされ、has(&quot;vim_starting&quot;) がゼロを返すやうになる。
|<a href="eval_002etxt.html#v_003avim_005fdid_005fenter">v:vim_did_enter</a>| 變數が 1 にセットされる。
|<a href="autocmd_002etxt.html#VimEnter">VimEnter</a>| の autocommand が實行される。
</li></ol>

<p>最初に見つかつた vimrc, gvimrc が <code>$MYVIMRC</code>, <code>$MYGVIMRC</code> に設定される。
</p>

<a name="index-Chu-Qi-Hua-nohinto"></a>
<a name="Chu-Qi-Hua-nohinto"></a>
<h4 class="unnumberedsubsec">初期化のヒント</h4>

<dl compact="compact">
<dt>スタンダードセットアップ:</dt>
<dd><p>全ての編輯セッションに有效な、デフォルト設定とキーマッピングを設定する vimrc ファイルを作成する。それを既に 3b で述べた位置に置く:
</p><table>
<tr><td width="50%">~/.vimrc</td><td width="50%">(Unix and OS/2)</td></tr>
<tr><td width="50%">s:.vimrc</td><td width="50%">(Amiga)</td></tr>
<tr><td width="50%">$VIM\_vimrc</td><td width="50%">(MS-DOS and Win32)</td></tr>
</table>
<blockquote>
<p><strong>Note:</strong> <br>
vimrc ファイルを作るとデフォルトで &rsquo;<samp>compatible</samp>&rsquo; オプションがオフに設定される。|<a href="#compatible_002ddefault">compatible-default</a>| 參照。
</p></blockquote>

</dd>
<dt>ローカルセットアップ:</dt>
<dd><p>特定のディレクトリだけにおいて編輯時に必要になるコマンドを vimrc ファイルに書き、そのディレクトリに &quot;.vimrc&quot; (MS-DOS と Win32 は &quot;_vimrc&quot;) といふ名前で置く。
</p><blockquote>
<p><strong>Note:</strong> <br>
Vim に、これらのファイルを見るやうに指定するには、&rsquo;<samp>exrc</samp>&rsquo; オプションをオンにする必要がある。|<a href="#trojan_002dhorse">trojan-horse</a>| (トロイの木馬)も參照。
</p></blockquote>

</dd>
<dt>システムセットアップ:</dt>
<dd><p>これは複數人で使ふ UNIX システムを管理し、全員のデフォルト設定を行ひたい時に適用される。デフォルト設定とキーマッピングを行ふコマンドを <samp>vimrc</samp> ファイルに記述し、&quot;<code>:version</code>&quot; コマンドで表示される場所に置く。
</p></dd>
</dl>


<a name="index-Vim-noXian-Zai-Zhuang-Tai-wohuairuniBao-Cun-suru"></a>
<a name="Vim-noXian-Zai-Zhuang-Tai-wohuairuniBao-Cun-suru"></a>
<h4 class="unnumberedsubsec">Vim の現在狀態をファイルに保存する</h4>

<p>オプションの値を變へたときや、キーマッピングを作成した時には、それらを後で再利用するために vimrc ファイルに保存したいだらう。現在の設定狀態をファイルに保存するためには |<a href="#save_002dsettings">save-settings</a>| を參照。
</p>

<a name="index-Vi-yuzanoShe-Ding-noWen-Ti-noHui-Bi-"></a>
<a name="Vi-yuzanoShe-Ding-noWen-Ti-noHui-Bi-"></a>
<h4 class="unnumberedsubsec">Vi ユーザーの設定の問題の囘避</h4>

<p>Vi は環境變數 <code>EXINIT</code> とファイル &quot;<samp>~/.exrc</samp>&quot; を初期化に使用する。もし(Vim の設定が) Vi に干涉して欲しくないならば、それらを使ふ替はりに VIMINIT と vimrc を使用する。
</p>

<a name="index-Amiga-noHuan-Jing-Bian-Shu-"></a>
<a name="Amiga-noHuan-Jing-Bian-Shu-"></a>
<h4 class="unnumberedsubsec">Amiga の環境變數</h4>

<p>Amiga には 2 種類の環境變數が存在する。1 つは DOS 1.3 (かそれ以上) の setenv コマンドで、これは Vim によつて認識される。Amiga Dos 1.3 のマニュアルを參照。古い Manx の Set コマンド(バージョン 5.0 以前)の環境變數は、認識されない。
</p>

<a name="index-MS_002dDOS-noXing-Qu-Qie-riWenZi-"></a>
<a name="MS_002dDOS-noXing-Qu-Qie-riWenZi-"></a>
<h4 class="unnumberedsubsec">MS-DOS の行區切り文字</h4>

<p>MS-DOS 風 (MS-DOS 自身、Win32、そして OS/2)では、全ての vimrc ファイルは行區切文字として &lt;CR&gt; &lt;NL&gt; を使用してゐると假定する。&lt;NL&gt; だけを行區切文字として持つファイルや、&quot;:map xx yy^M&quot; のやうな設定のファイルを使ふ場合、問題を引き起こす。末尾の &lsquo;<samp>^M</samp>&rsquo; は無視されてしまふだらう。
</p>

<a name="compatible_002ddefault"></a><a name="index-compatible_002ddefault"></a>
<a name="index-Vi-toHu-Huan-Xing-noarudehuorutonoZhi-"></a>
<a name="Vi-toHu-Huan-Xing-noarudehuorutonoZhi-"></a>
<h4 class="unnumberedsubsec">Vi と互換性のあるデフォルトの値</h4>
<p>Vim が起動すると、オプション &rsquo;<samp>compatible</samp>&rsquo; がオンに設定される。これは初期化時に使用される。しかし以下の條件のいづれかに當てはまると、直ちに &rsquo;<samp>nocompatible</samp>&rsquo; が設定される。
</p><ul>
<li> ユーザーの vimrc ファイルが見つかる
</li><li> カレントディレクトリに vimrc ファイルが見つかる
</li><li> 環境變數 &quot;VIMINIT&quot; が設定されてゐる
</li><li> 起動引數 &quot;-N&quot; が指定されてゐる
</li><li> 起動引數 &quot;&ndash;clean&quot; が指定されてゐる
</li><li> |<a href="#defaults_002evim">defaults.vim</a>| スクリプトがロードされる
</li><li> gvimrc が見つかる
</li></ul>

<p>上記はシステムの vimrc ファイルでは發生しないことに注意。
</p>
<p>これには他のオプションを設定やリセットする副作用がある(&rsquo;<samp>compatible</samp>&rsquo; 參照)。しかし變更されるのは、設定やリセットされてゐないオプションに限られる。これは、Vim 起動時に &rsquo;<samp>compatible</samp>&rsquo; の値に起こるのと同樣の作用となる。
</p>
<p>&rsquo;<samp>compatible</samp>&rsquo; はリセットされず、|<a href="#defaults_002evim">defaults.vim</a>| が讀み込まれない:
</p><ul>
<li> Vimが |<a href="#g_t_002du">-u</a>| 起動引數で起動され、特にそれが &quot;-u NONE&quot; であつた。または…
</li><li> |<a href="#g_t_002dC">-C</a>| 起動引數で起動された。または…
</li><li> 實行ファイルの名前が &quot;ex&quot; で終はつてゐた。(これは Vim を &quot;ex&quot; として起動した場合には、&quot;ex&quot; のやうに動作させるための仕樣である)
</li></ul>

<p>&rsquo;<samp>compatible</samp>&rsquo; を .vimrc で設定すると副作用が發生する。マッピングは見つかつた時點で解釋されるので、&quot;&lt;CR&gt;&quot; のやうなものを使ふ時に違ひが生じる。もしもマッピングが &rsquo;<samp>compatible</samp>&rsquo; の値に依存してゐる場合、そのマッピングを定義する前に &rsquo;<samp>compatible</samp>&rsquo; を設定する。
</p>

<a name="defaults_002evim"></a><a name="index-defaults_002evim"></a>
<a name="index-_002evimrc-huairugaWu-iJi-nodehuoruto"></a>
<a name="g_t_002evimrc-huairugaWu-iJi-nodehuoruto"></a>
<h4 class="unnumberedsubsec">.vimrc ファイルが無い際のデフォルト</h4>
<p>Vim を普通に起動してユーザー vimrc ファイルが見つからない場合には、$VIMRUTIME/defaults.vim スクリプトが讀みこまれる。このスクリプトは &rsquo;<samp>compatible</samp>&rsquo; をオフにし、シンタックスハイライトを有效にする他、幾つかのことを實施する。詳細はそのスクリプトを參照せよ。
</p><blockquote>
<p><strong>Note:</strong> <br>
これは正確には Vim 8.0 からではなく 7.4.2111 から導入された。
</p></blockquote>

<p>これは Vim の新規ユーザーにとつて良く機能する。自分で .vimrc を作る際には、その最上部のはうに以下の 2 行を追加することが推奬される:
</p><pre class="verbatim">unlet! skip_defaults_vim
source $VIMRUNTIME/defaults.vim
</pre><p>$VIMRUNTIME/vimrc_example をコピーすることでも、同じことができる。他の方法として、defaults.vim 自體をあなたの .vimrc にコピーし、變更をすることもできる。(ただしこの方法では、將來 defaults.vim が變更された際に、そのアップデートは反映されない)
</p>
<p>もしも defaults.vim の一部が氣に入らない場合でも、まづ defaults.vim を讀み込んでから、個々の設定を變更することができる。個別の項目をどのやうに變更するべきかのヒントとして defaults.vim ファイルを參照せよ。
<a name="skip_005fdefaults_005fvim"></a><a name="index-skip_005fdefaults_005fvim"></a>
システムワイドの vimrc を使つてゐて defaults.vim を使ひたくない場合には、&quot;skip_defaults_vim&quot; 變數を設定する。これが設定された狀態で、自分の .vimrc で defaults.vim を讀み込みたい場合には、上で示した例のやうに、最初に unlet skip_defaults_vim を行ふと良い。
</p>

<a name="trojan_002dhorse"></a><a name="index-trojan_002dhorse"></a>
<a name="index-toroinoMu-Ma-woHui-Bi-suru"></a>
<a name="toroinoMu-Ma-woHui-Bi-suru"></a>
<h4 class="unnumberedsubsec">トロイの木馬を囘避する</h4>
<p>現在のディレクトリにある &quot;vimrc&quot; や &quot;exrc&quot; を讀み込むときに、&rsquo;<samp>secure</samp>&rsquo; オプションを設定することで、安全性のために幾つかのコマンドを無效にすることができる。タグファイル內のコマンドを實行する際にも常にこれが行はれる。さうでないと他人が作成した惡意を持つたコマンドを、偶然實行してしまふ可能性がある。使用不可になるコマンドは、シェルを起動するものと、ファイルに書き込むものと、そして &quot;<code>:autocmd</code>&quot; である。&quot;<code>:map</code>&quot; コマンドは表示され、どのやうなマッピングがなされたか確認することができる。
ローカルな vimrc ファイル內で全てのコマンドを實行したい場合には、EXINIT か VIMINIT環境變數か、グローバルな &quot;exrc&quot; もしくは &quot;vimrc&quot; ファイルで &rsquo;<samp>secure</samp>&rsquo; オプションをオフに設定する。現在のディレクトリにある &quot;vimrc&quot; と &quot;exrc&quot; からは、理由は明らだが、これは設定できない。
UNIX システムでは、vimrc ファイルの所有權がユーザーにないときだけ &rsquo;<samp>secure</samp>&rsquo; が適用される。
</p><blockquote>
<p><strong>警告:</strong> <br>
vimrc か exrc を含むアーカイブを展開したときには、そのファイルはあなた自身のものになる。そこには安全性保護などない。Vim を起動する前に現在のディレクトリに vimrc ファイルがないかチェックするか、&rsquo;<samp>exrc</samp>&rsquo; オプションをオフに設定したはうが良い。幾つかの UNIX システムでは一般ユーザーがファイルに &quot;chown&quot; を行ふことを許してゐるものがある。これは別のユーザーが惡意に滿ちた vimrc を作成し、所有者を貴方にすることを可能にしてゐる。注意されたし！
</p></blockquote>
<p>タグサーチコマンドを使ふ時には、實行されるサーチコマンド(タグファイルの各行の最後の部分)は常に安全なモードで行はれる。これは現在のディレクトリにある vimrc/exrc からコマンドが實行されるのと、ちやうど同じやうに働く。
</p>

<a name="slow_002dstart"></a><a name="index-slow_002dstart"></a>
<a name="index-Vim-noQi-Dong-gaChi-itokiniha"></a>
<a name="Vim-noQi-Dong-gaChi-itokiniha"></a>
<h4 class="unnumberedsubsec">Vim の起動が遲いときには</h4>
<p>Vim の起動に時閒がかかる場合は |<a href="#g_t_002d_002dstartuptime">--startuptime</a>| 引數を使つて原因を探すことができる。よくある原因としては次のやうなものがある:
</p><ul>
<li> Unix で GUI や X11 を有效にしてゐる場合 (&quot;<code>:version</code>&quot; の出力で &quot;+GUI&quot; と &quot;+X11&quot; をチェック)、共有ライブラリをロードし X11 サーバーに接續する必要がある。GUI と X11 を無效にしてコンパイルしたバージョンを試して欲しい。これにより實行ファイルが小さくもなるだらう。

<p>CUI 端末で Vim を起動するときの引數に |<a href="#g_t_002dX">-X</a>| を指定するとXサーバーと接續しないやうにできる。
</p>
</li><li> &quot;viminfo&quot; を使用してゐる場合、viminfo ファイルを讀み込むのに少し時閒がかかる。viminfo が原因ならば一時的に viminfo を無效にすることによつて確認することができる (Vim を引數 &quot;-i NONE&quot; で起動する。|<a href="#g_t_002di">-i</a>|)。&quot;:set viminfo=&rsquo;20,&lt;50,s10&quot; と設定して、レジスタに保存される行數を減らしてみるのも良い。|<a href="#viminfo_002dfile">viminfo-file</a>|。
</li></ul>


<a name="g_t_003aintro"></a><a name="index-_003aintro"></a>
<a name="index-Shao-Jie-metusezi"></a>
<a name="Shao-Jie-metusezi"></a>
<h4 class="unnumberedsubsec">紹介メッセージ</h4>
<p>ファイル名を與へずに Vim を起動した場合、(Vim のことを知らない人に向けて)紹介メッセージが表示される。そのメッセージはなんらかの操作によつて畫面が再描畫されるとすぐに消される。もう一度メッセージをみるには、&quot;<code>:intro</code>&quot; コマンドを使用する(表示するスペースがなければ一部だけが表示される)。
</p>
<p>起動時に紹介メッセージを表示しないやうにするには &rsquo;<samp>shortmess</samp>&rsquo; に &rsquo;<var>I</var>&rsquo; フラグを追加する。
</p>
<a name="info_002dmessage"></a><a name="index-info_002dmessage"></a>
<p>起動引數に |<a href="#g_t_002d_002dhelp">--help</a>| や |<a href="#g_t_002d_002dversion">--version</a>| を指定すると Vim はメッセージを出力して終了する。通常はそのメッセージは標準出力に送られるので、リダイレクトしてファイルに書き込むことができる:
</p>
<pre class="verbatim">vim --help &gt;file
</pre>
<p>Vim でその出力を取り込むには:
</p>
<pre class="verbatim">:read !vim --help
</pre>
<p>gvim は標準出力と標準エラー出力が端末に繋がつてないときに、自身がデスクトップから起動され、メッセージを出力する端末がないものと判斷する。このせゐで上記の &quot;<code>:read</code>&quot; コマンドを使用した例は使へない。使用できるやうにするには &rsquo;<samp>shellredir</samp>&rsquo; を標準設定の &quot;<var>&gt;&amp;</var>&quot; から &quot;<var>&gt;</var>&quot; へ變更する:
</p>
<pre class="verbatim">:set shellredir=&gt;
:read !gvim --help
</pre>
<p>しかしこのやうにしても gvim が標準出力を使用しないやうなシステムでは機能しない。
</p>
<a name="g_t_0024VIM"></a><a name="index-_0024VIM"></a>
<a name="index-_0024VIM-to-_0024VIMRUNTIME"></a>
<a name="g_t5_002e-_0024VIM-to-_0024VIMRUNTIME"></a>
<h3 class="section">5. $VIM と $VIMRUNTIME</h3>
<p>環境變數の &quot;<code>$VIM</code>&quot; は、設定ファイル &quot;<samp>.vimrc</samp>&quot; のやうな、Vim が使用するさまざまなファイルの置き場所を見つけるために利用される。&quot;<code>$VIM</code>&quot; の値はシステムに依存する。|<a href="#startup">startup</a>| を參照。
</p>
<p>全てのユーザーが環境變數 <code>$VIM</code> を設定しなくてすむやうに、Vim は次の順番で <code>$VIM</code> の値を決定する:
</p><ol>
<li> 環境變數 <code>$VIM</code> が定義されてゐればそれを使ふ。<code>$VIM</code> を定義して Vim が使用するファイルをそのディレクトリから探し出すやうにできる。例:
<pre class="verbatim">setenv VIM /home/paul/vim
</pre></li><li> &rsquo;<samp>helpfile</samp>&rsquo; が問題のある環境變數を含んでゐなければその値を使ふ(標準設定は &quot;$VIMRUNTIME/doc/help.txt&quot; であり、これはニワトリと卵の問題を含んでゐる)。ファイル名 (&quot;help.txt&quot; など) の部分は取り除かれる。そしてディレクトリ名の最後が &quot;doc&quot;, &quot;runtime&quot;, &quot;vim{version}&quot; (例へば &quot;vim54&quot;)、のどれかならそれも取り除かれる。
</li><li> MSDOS、Win32、OS/2、では Vim の實行可能ファイルがあるディレクトリを使用する。ディレクトリ名の最後が &quot;/src&quot; ならそれは取り除かれる。配布されてゐる Vim 一式の <samp>.zip</samp> ファイルをあるディレクトリに展開し、檢索パスを調整して使つてゐるやうなら便利である。ディレクトリ名の最後が &quot;runtime&quot; か &quot;vim{version}&quot; (例へば &quot;vim54&quot;) ならそれは取り除かれる。
</li><li> Unix ではコンパイル時に指定したインストール先のディレクトリを使用する (&quot;<code>:version</code>&quot; の出力を見て確認できる)。
</li></ol>

<p>このうちのどれかが使用できるなら Vim は環境變數 <code>$VIM</code> を設定する。あとからその値を變更するには &quot;<code>:let</code>&quot; コマンドを次のやうに使ふ:
</p><pre class="verbatim">:let $VIM = &quot;/home/paul/vim/&quot;
</pre><a name="g_t_0024VIMRUNTIME"></a><a name="index-_0024VIMRUNTIME"></a>
<p>環境變數の &quot;<code>$VIMRUNTIME</code>&quot; は、ヘルプファイルや構文强調表示の定義ファイルのやうな、Vim が使用するさまざまな支援ファイルの置き場所を見つけるために使用される。例へば、主要なヘルプファイルは通常は &quot;$VIMRUNTIME/doc/help.txt&quot; である。普通はユーザーが自分で <code>$VIMRUNTIME</code> を設定せずに、Vim に設定させる。Vim は次の順番で <code>$VIMRUNTIME</code> の値を探す:
</p><ol>
<li> 環境變數 <code>$VIMRUNTIME</code> が設定されてゐればそれを使ふ。ランタイムファイルを特殊な場所に置くときに設定する。
</li><li> &quot;$VIM/vim{version}&quot; ディレクトリがあればそれを使ふ。{version} は Vim のバージョン番號から &rsquo;-&rsquo; や &rsquo;.&rsquo; を除いた物である。例へば &quot;$VIM/vim54&quot;。これは <code>$VIMRUNTIME</code> として一般的な値である。
</li><li> &quot;$VIM/runtime&quot; ディレクトリがあればそれを使ふ。
</li><li> <code>$VIM</code> の値を使ふ。これは古いバージョンとの互換性のためである。
</li><li> オプション &rsquo;<samp>helpfile</samp>&rsquo; が設定されてゐて &rsquo;<var>$</var>&rsquo; を含んでゐないとき、その値を使用する。最後の &quot;doc/help.txt&quot; は取り除かれる。
</li></ol>

<p>Unix でコンパイル時に <code>$VIMRUNTIME</code> の初期値を設定した場合 (&quot;<code>:version</code>&quot; の出力をみて確認できる)、2 から 4 は無視される。そして 5 を試したあとにコンパイル時に設定した値が使用される。つまり <code>$VIM</code> の値を使はずにコンパイル時に設定した値を使用するといふことである。これは <code>$VIM</code> が &quot;<var>/etc</var>&quot; でランタイムファイルが &quot;/usr/share/vim/vim54&quot; にあるやうな場合に便利である。
</p>
<p>このうちのどれかが使用できるなら Vim は環境變數 <code>$VIMRUNTIME</code> を設定する。あとからその値を變更するには &quot;<code>:let</code>&quot; コマンドを次のやうに使ふ:
</p><pre class="verbatim">:let $VIMRUNTIME = &quot;/home/piet/vim/vim54&quot;
</pre>
<p>シェル內で <code>$VIMRUNTIME</code> の値が必要な場合 (例へば、ヘルプファイルを grep するスクリプトなど)は、次のやうにすれば得られる:
</p>
<pre class="verbatim">VIMRUNTIME=`vim -e -T dumb --cmd 'exe &quot;set t_cm=\&lt;C-M&gt;&quot;|echo $VIMRUNTIME|quit' | tr -d '\015' `
</pre>
<a name="suspend"></a><a name="index-suspend"></a>
<a name="index-sasupendo"></a>
<a name="g_t6_002e-sasupendo"></a>
<h3 class="section">6. サスペンド</h3>

<a name="iconize"></a><a name="iconise"></a><a name="CTRL_002dZ"></a><a name="v_005fCTRL_002dZ"></a><a name="index-iconize"></a>
<a name="index-iconise"></a>
<a name="index-CTRL_002dZ"></a>
<a name="index-v_005fCTRL_002dZ"></a>
<dl compact="compact">
<dt>CTRL-Z</dt>
<dd><p>&quot;<code>:stop</code>&quot; のやうに Vim をサスペンドする。ノーマルモードとビジュアルモードで動作する。插入モードとコマンドラインモードでは、<kbd>CTRL-Z</kbd> は通常のキャラクタ文字として入力・插入される。ビジュアルモードで使用したときはサスペンドから復歸するとノーマルモードになる。
</p><blockquote>
<p><strong>Note:</strong> <br>
<kbd>CTRL-Z</kbd> がアンドゥになる場合は |<a href="gui_005fw32_002etxt.html#mswin_002evim">mswin.vim</a>| を參照。
</p></blockquote>


<a name="g_t_003asus"></a><a name="g_t_003asuspend"></a><a name="g_t_003ast"></a><a name="g_t_003astop"></a><a name="index-_003asus"></a>
<a name="index-_003asuspend"></a>
<a name="index-_003ast"></a>
<a name="index-_003astop"></a>
</dd>
<dt>:sus[pend][!] または</dt>
<dt>:st[op][!]</dt>
<dd><p>Vim をサスペンドする。&rsquo;<samp>autowrite</samp>&rsquo; がオンのときに &rsquo;!&rsquo; を付けなかつたときには、ファイル名を持つ未保存のバッファは全て保存される。&rsquo;!&rsquo; を付けたときや、&rsquo;<samp>autowrite</samp>&rsquo; がオフのときには、未保存のバッファは保存されないので、後で Vim をフォアグラウンドに戾すのを忘れてはならない。
</p></dd>
</dl>

<p>GUI モードでは、サスペンドは gvim のアイコン化として實裝されてゐる。Windows 95/NT では、gvim は最小化される。
</p>
<p>多くの UNIX システムでは、Vim を <kbd>CTRL-Z</kbd> でサスペンドすることが可能である。これはノーマルモードとビジュアルモードにおいて有效である (次の章 |<a href="intro_002etxt.html#vim_002dmodes">vim-modes</a>| を參照)。Vim を再びフォアグラウンドに戾せば、續きの作業を行ふことができる。それ以外のシステムでは、<kbd>CTRL-Z</kbd> は新しいシェルをスタートさせる。これはコマンド &quot;<code>:sh</code>&quot; と同じである。この場合、シェルを終了させれば Vim で續きの作業を行ふことができる。{譯注: |<a href="intro_002etxt.html#vim_002dmodes">vim-modes</a>| に何がある？}
</p>
<p>X-windows では Vim をサスペンドするとセレクションの所有權が失はれる。つまり選擇していた內容を他のアプリケーションにコピーすることができない (さうしないと Vim が停止してゐるのでセレクションを得ようとしたプログラムがフリーズしてしまふ)。
</p>
<a name="exiting"></a><a name="index-exiting"></a>
<a name="index-Zhong-Liao-"></a>
<a name="g_t7_002e-Zhong-Liao-"></a>
<h3 class="section">7. 終了</h3>

<p>Vim を終了する方法はいくつかある:
</p><ul>
<li> 最後のウィンドウを &lsquo;<code>:quit</code>&lsquo; で閉ぢる。變更がない場合にのみ。
</li><li> 最後のウィンドウを &lsquo;<code>:quit!</code>&lsquo; で閉ぢる。變更がある場合にも。
</li><li> 全てのウィンドウを &lsquo;<code>:qall</code>&lsquo; で閉ぢる。變更が一切ない場合にのみ。
</li><li> 全てのウィンドウを &lsquo;<code>:qall!</code>&lsquo; で閉ぢる。變更がある場合にも。
</li><li> &lsquo;<code>:cquit</code>&lsquo; を使ふ。變更がある場合にも。
</li></ul>

<p>&lsquo;<code>:cquit</code>&lsquo; を使つたり、エラーメッセージがある場合には、Vim は終了コード 1 で終了する。エラーは &lsquo;<code>:silent!</code>&lsquo; または &lsquo;<code>:catch</code>&lsquo; を使ふことで避けられる。
</p>
<a name="save_002dsettings"></a><a name="index-save_002dsettings"></a>
<a name="index-She-Ding-noBao-Cun-"></a>
<a name="g_t8_002e-She-Ding-noBao-Cun-"></a>
<h3 class="section">8. 設定の保存</h3>

<p>多くの人は <samp>vimrc</samp> ファイルを手作業で編輯してゐるだらう。この機能はそのやうな人に優れた利便性を提供する。<samp>vimrc</samp> ファイルを自動的に作成するコマンドが用意されてゐて、作成したファイルをそのまま、もしくは一部分だけをコピーして使用することができる。
</p>
<a name="g_t_003amk"></a><a name="g_t_003amkexrc"></a><a name="index-_003amk"></a>
<a name="index-_003amkexrc"></a>
<dl compact="compact">
<dt>:mk[exrc] [file]</dt>
<dd><p>現在のキーマッピングと變更されてゐるオプションを [file] に保存する ([file] を省略するとカレントディレクトリの &quot;.exrc&quot; に保存される)。 [file] がすでにあるときには保存しない。
</p>
</dd>
<dt>:mk[exrc]! [file]</dt>
<dd><p>現在のキーマッピングと變更されてゐるオプションを [file] に保存する ([file] を省略するとカレントディレクトリの &quot;.exrc&quot; に保存される)。[file] がすでにあるときには上書き保存する。
</p>
<a name="g_t_003amkv"></a><a name="g_t_003amkvi"></a><a name="g_t_003amkvimrc"></a><a name="index-_003amkv"></a>
<a name="index-_003amkvi"></a>
<a name="index-_003amkvimrc"></a>
</dd>
<dt>:mkv[imrc][!] [file]</dt>
<dd><p>&quot;<code>:mkexrc</code>&quot; と同じだが [file] を省略したときにカレントディレクトリの &quot;<samp>.vimrc</samp>&quot; に保存する。コマンド &quot;<code>:version</code>&quot; もファイルに書き込まれる。
</p></dd>
</dl>

<p>これらのコマンドは &quot;<code>:map</code>&quot; コマンドや &quot;<code>:set</code>&quot; コマンドをファイルに書き込む。書き込んだコマンドを實行するとキーマッピングやオプションが現在と同じやうに設定される。オプションの &rsquo;<samp>columns</samp>&rsquo;, &rsquo;<samp>endofline</samp>&rsquo;, &rsquo;<samp>fileformat</samp>&rsquo;, &rsquo;<samp>key</samp>&rsquo;, &rsquo;<samp>lines</samp>&rsquo;, &rsquo;<samp>modified</samp>&rsquo;, &rsquo;<samp>scroll</samp>&rsquo;, &rsquo;<samp>term</samp>&rsquo;, &rsquo;<samp>textmode</samp>&rsquo;, &rsquo;<samp>ttyfast</samp>&rsquo;, &rsquo;<samp>ttymouse</samp>&rsquo; は端末やファイルに依存するため含まれない。
</p><blockquote>
<p><strong>Note:</strong> <br>
オプションの &rsquo;<samp>binary</samp>&rsquo;, &rsquo;<samp>paste</samp>&rsquo;, &rsquo;<samp>readonly</samp>&rsquo; が含まれるが、これは必ずしも望むやうな動作ではないかもしれない。
</p></blockquote>

<p>マッピングに特殊なキーが使はれてゐるときは、マッピングが正しく解釋されるやうに、オプション &rsquo;<samp>cpoptions</samp>&rsquo; が一時的に初期値に戾される。Vi との互換性はなくなるが、別の端末でもそのマッピングを使用できるやうになる。
</p>
<p>グローバルなマッピングだけが保存される。バッファローカルなマッピングは保存されない。
</p>
<p>一般的な方法は、デフォルトの &quot;<samp>.vimrc</samp>&quot; ファイルを使ひ、&quot;<code>:map</code>&quot; や &quot;<code>:set</code>&quot; コマンドで設定を變更し、それをファイルに保存するといふものである。まづ &quot;<code>:source ~piet/.vimrc.Cprogs</code>&quot; のやうなコマンドでデフォルトの &quot;<samp>.vimrc</samp>&quot; を讀み込み、實際に設定を變更してから、&quot;<code>:mkvimrc!</code>&quot; を使つてカレントディレクトリに設定を保存する。もしもこのファイルをデフォルトの <samp>.vimrc</samp> にしたいならば、UNIX ではホームディレクトリへ、Amiga ならば s: へ、MS-DOS ならば <code>$VIM</code> ディレクトリへそのファイルを移動する。オートコマンド |<a href="autocmd_002etxt.html#autocommand">autocommand</a>| やモードライン |<a href="options_002etxt.html#modeline">modeline</a>| も、同じ方法を使つて設定することができる。
</p>
<a name="vimrc_002doption_002dexample"></a><a name="index-vimrc_002doption_002dexample"></a>
<p><samp>vimrc</samp> にオプションの設定を 1 つだけ加へるには次のやうにする:
</p><ol>
<li> Vim で <samp>vimrc</samp> ファイルを開く。
</li><li> 期待どほりになるやうにオプションを設定する。例へば、&rsquo;<samp>guifont</samp>&rsquo; を設定していろんなフォントを試す。
</li><li> オプションを設定する行を追加する。値を入力するのに &rsquo;=&rsquo; レジスタを使用する。例へば、オプション &rsquo;<samp>guifont</samp>&rsquo; の設定を加へるには:
<pre class="verbatim">o:set guifont=&lt;C-R&gt;=&amp;guifont&lt;CR&gt;&lt;Esc&gt;
</pre><p>[&lt;C-R&gt; は <kbd>CTRL-R</kbd>, <code class="tt-key">&lt;CR&gt;</code> はエンターキー, <code class="tt-key">&lt;Esc&gt;</code> はエスケープキー]
</p>
<p>特別な文字 (特にスペース) はエスケープする必要がある。
</p></li></ol>

<blockquote>
<p><strong>Note:</strong> <br>
<samp>.vimrc</samp> ファイルを作成するときにはオプション &rsquo;<samp>compatible</samp>&rsquo; が持つ副作用の影響に注意する必要がある。|<a href="options_002etxt.html#g_t_0027compatible_0027">'compatible'</a>| を參照。副作用を防ぐため、&quot;<code>:mkvimrc</code>&quot;, &quot;<code>:mkexrc</code>&quot;, &quot;<code>:mksession</code>&quot; は最初にオプション &rsquo;<samp>compatible</samp>&rsquo; の設定を出力する。
</p></blockquote>

<a name="views_002dsessions"></a><a name="index-views_002dsessions"></a>
<a name="index-biyutosetusiyon"></a>
<a name="g_t9_002e-biyutosetusiyon-_0028Views-and-Sessions_0029"></a>
<h3 class="section">9. ビューとセッション (Views and Sessions)</h3>

<p>ユーザーマニュアルの |<a href="usr_005f21_002etxt.html#g_t21_002e4">21.4</a>| と |<a href="usr_005f21_002etxt.html#g_t21_002e5">21.5</a>| で簡單に紹介されてゐる。
</p>
<a name="View"></a><a name="view_002dfile"></a><a name="index-View"></a>
<a name="index-view_002dfile"></a>
<p>ビューとは、あるウィンドウに適用された設定の集合である。ビューを保存しておいて、あとからそれを復元することで、開いてゐたテキストをまた同じやうに表示することができる。ウィンドウに關聯したオプションやマッピングも復元されるので、ビューを保存したときと同じ狀態で作業を再開することができる。
</p>
<a name="Session"></a><a name="session_002dfile"></a><a name="index-Session"></a>
<a name="index-session_002dfile"></a>
<p>セッションとは、全てのウィンドウのビューとグローバルな設定のことである。セッションを保存しておいて、あとからそれを復元することで、各ウィンドウのレイアウトを元に戾すことができる。セッションを利用してすばやくプロジェクト (作業單位) を切り替へることが可能で、そのプロジェクトで開いてゐたファイルを自動的に開くことができる。
</p>
<p>ビューとセッションは <samp>viminfo</samp> ファイルを擴張した便利な機能である。ビューとセッションを <samp>viminfo</samp> ファイル (|<a href="#viminfo_002dfile">viminfo-file</a>|) と倂用することで全ての情報を記錄することができる。
</p>
<p>保存しておいたビューやセッションを素早く再開するには引數 |<a href="#g_t_002dS">-S</a>| を使ふ:
</p><pre class="verbatim">vim -S Session.vim
</pre><p>これら全ては {|<a href="various_002etxt.html#g_t_002bmksession">+mksession</a>| が有效な場合のみ利用可能な機能である。}
</p>
<a name="g_t_003amks"></a><a name="g_t_003amksession"></a><a name="index-_003amks"></a>
<a name="index-_003amksession"></a>
<dl compact="compact">
<dt>:mks[ession][!] [file]</dt>
<dd><p>現在のセッションを復元するための Vim script を作成する。
[!] を付けたときはファイルを上書保存する。
[file] を省略したときは &quot;Session.vim&quot; に保存する。
</p></dd>
</dl>

<p>&quot;<code>:mksession</code>&quot; の出力は &quot;<code>:mkvimrc</code>&quot; の出力に似てゐるが、さらにいくつかのコマンドが追加されてゐる。どのコマンドが出力されるかはオプション &rsquo;<samp>sessionoptions</samp>&rsquo; に依存する。保存したファイルは、コマンド &quot;<code>:source</code>&quot; で實行すると次の效果がある:
</p><ol>
<li> &rsquo;<samp>sessionoptions</samp>&rsquo; に &quot;<var>options</var>&quot; が含まれてゐるときは、グローバルなマッピングとオプションを復元する。スクリプトローカルなマッピングは復元されない。
</li><li> &rsquo;<samp>sessionoptions</samp>&rsquo; に &quot;<var>globals</var>&quot; が含まれてゐるときは、大文字で始まつて 1 つ以上の小文字を含む名前を持つたグローバルな變數を復元する。
</li><li> 現在讀み込まれてゐるバッファを全て開放する。
</li><li> &rsquo;<samp>sessionoptions</samp>&rsquo; に &quot;<var>curdir</var>&quot; が含まれてゐるときは、カレントディレクトリを復元する。あるいは、&rsquo;<samp>sessionoptions</samp>&rsquo; に &quot;<var>sesdir</var>&quot; が含まれてゐるときは、カレントディレクトリをセッションファイルが保存されてゐるディレクトリに變更する。
</li><li> &rsquo;<samp>sessionoptions</samp>&rsquo; に &quot;<var>winpos</var>&quot; が含まれてゐるときは、GUI ウィンドウの位置を復元する。
</li><li> &rsquo;<samp>sessionoptions</samp>&rsquo; に &quot;<var>resize</var>&quot; が含まれてゐるときは、スクリーンのサイズを復元する。
</li><li> &rsquo;<samp>sessionoptions</samp>&rsquo; に &quot;<var>buffers</var>&quot; が含まれてゐるときは、バッファリストと各バッファにおけるカーソルの位置を復元する。隱れ (hidden) バッファや開放濟み (unloaded) バッファも含めて、全てのバッファを復元する。&quot;<var>buffers</var>&quot; が含まれてゐないときは、ウィンドウに表示されてゐるバッファのみが復元される。
</li><li> 全てのウィンドウとそのレイアウトを復元する。&rsquo;<samp>sessionoptions</samp>&rsquo; に &quot;<var>help</var>&quot; が含まれてゐるときは、ヘルプウィンドウも復元する。&rsquo;<samp>sessionoptions</samp>&rsquo; に &quot;<var>blank</var>&quot; が含まれてゐるときは、無名のバッファを編輯していたウィンドウも復元する。

<p>&rsquo;<samp>sessionoptions</samp>&rsquo; に &quot;<var>winsize</var>&quot; が含まれてゐて、ヘルプウィンドウや無名バッファのウィンドウが除外されてゐないときは、ウィンドウのサイズも復元する(スクリーンサイズに比例する)。&quot;<var>winsize</var>&quot; が含まれてゐないときは、ウィンドウは妥當なサイズになる。
</p></li><li> 各ウィンドウのビューを |<a href="#g_t_003amkview">:mkview</a>| の機能と同じやうに復元する。しかし &rsquo;<samp>viewoptions</samp>&rsquo; ではなく &rsquo;<samp>sessionoptions</samp>&rsquo; が使はれる。
</li><li> セッションファイルと同じ名前で最後が &quot;x.vim&quot; (eXtra の x) といふ名前のファイルがあればそのファイルを實行する。この仕組を使つてセッションに關聯した處理や設定、例へば GUI のメニューを作成するなど、を行ふことができる。

<p>{譯注: セッションファイルが SESSION.vim なら SESSIONx.vim が實行される。}
</p></li></ol>

<p>セッションを復元すると、內部變數の &quot;v:this_session&quot; (|<a href="eval_002etxt.html#this_005fsession_002dvariable">this_session-variable</a>|) を使つて現在のセッションの名前 (フルパス) を利用できる。それを利用したマッピングの例:
</p><pre class="verbatim">:nmap &lt;F2&gt; :wa&lt;Bar&gt;exe &quot;mksession! &quot; . v:this_session&lt;CR&gt;:so ~/sessions/
</pre><p>これは現在のセッションを保存してから、別のセッションを開かうとするものである。
</p>
<p>&rsquo;<samp>sessionoptions</samp>&rsquo; から &quot;<var>tabpages</var>&quot; が除かれてゐない限り、セッションはすべてのタブページを含む。|<a href="tabpage_002etxt.html#tab_002dpage">tab-page</a>|
</p>
<p>セッションファイルが讀み込まれると、自動コマンドイベント |<a href="autocmd_002etxt.html#SessionLoadPost">SessionLoadPost</a>| が發生する。
<a name="SessionLoad_002dvariable"></a><a name="index-SessionLoad_002dvariable"></a>
セッションファイルを讀み込んでゐる閒、グローバル變數 SessionLoad は 1 になる。プラグインはこれを使つてイベント SessionLoadPost が發生するまで、なんらかの作業を後回しにすることができる。
</p>
<a name="g_t_003amkvie"></a><a name="g_t_003amkview"></a><a name="index-_003amkvie"></a>
<a name="index-_003amkview"></a>
<dl compact="compact">
<dt>:mkvie[w][!] [file]</dt>
<dd><p>現在のウィンドウの狀態を復元するための Vim script を作成する。
[!] を付けたときはファイルを上書保存する。
</p>
<p>[file] を省略したり、1 から 9 の數字を指定したときは、&rsquo;<samp>viewdir</samp>&rsquo; に指定されたディレクトリに適切な名前で保存される。&rsquo;<samp>viewdir</samp>&rsquo; の最後に指定されたパスが存在しないときにはそのディレクトリも作成される。例へば、&rsquo;<samp>viewdir</samp>&rsquo; が &quot;$VIM/vimfiles/view&quot; なら &quot;$VIM/vimfiles&quot; の中に &quot;view&quot; が作成される。
</p>
<p>[file] を省略、もしくは數字を指定した場合は、常に上書き保存される。ビューを復元するときには |<a href="#g_t_003aloadview">:loadview</a>| を使用する。
</p>
<p>[file] にファイル名を指定すると、編輯を再開するためのコマンドがそのファイルに保存される (この場合は &rsquo;<samp>viewdir</samp>&rsquo; は使はれない)。
</p></dd>
</dl>

<p>&quot;<code>:mkview</code>&quot; の出力は次の項目を含んでゐる:
</p><ol>
<li> ウィンドウで使用してゐる引數リストを復元する。グローバルな引數リストを使つてゐるときにはそれが使用される。引數リストのインデックスも復元される。
</li><li> ウィンドウで編輯していたファイルを開く。編輯していたファイルがなければ、空のウィンドウが作成される。
</li><li> &rsquo;<samp>viewoptions</samp>&rsquo; が &quot;<var>options</var>&quot; か &quot;<var>localoptions</var>&quot; を含んでゐるときは、そのバッファやウィンドウに特有な (ローカルな)、マッピング、短縮 (abbreviations)、オプション、を復元する。

<p>セッションの一部としてビューを保存するときに、&rsquo;<samp>sessionoptions</samp>&rsquo; に &quot;<var>options</var>&quot; が含まれてゐるときは、オプションのグローバルな値とローカルな値が兩方保存される。
</p></li><li> &rsquo;<samp>viewoptions</samp>&rsquo; が &quot;<var>folds</var>&quot; を含んでゐるときは、手作業で設定した折疊みを復元する。折疊みの開閉狀態も復元する。
</li><li> ファイルにおけるカーソルとスクロールの位置を復元する。閉ぢた折疊みがあるとうまく機能しない。
</li><li> ローカルなカレントディレクトリを復元する。グローバルなカレントディレクトリと違つてゐる場合、かつ &quot;<var>curdir</var>&quot; が &rsquo;<samp>viewoptions</samp>&rsquo; を含んでゐる場合のみ。

<p>{譯注: |<a href="editing_002etxt.html#current_002ddirectory">current-directory</a>|}
</p></li></ol>

<blockquote>
<p><strong>Note:</strong> <br>
ビューとセッションは完璧ではない:
</p><ul>
<li> 全てを復元するわけではない。例へば、函數、オートコマンド、&quot;<code>:syntax on</code>&quot;、などは含まれない。レジスタやコマンドラインの履歷などは、ビューやセッションではなく、<samp>viminfo</samp> に保存される。
</li><li> グローバルなオプションの設定は、その値を初期設定から變更してゐた場合のみ保存される。現在の設定が初期設定とは違ふときにセッションを復元しても、初期設定には戾らない。しかしながら、ローカルなオプションは初期設定に戾される。
</li><li> 既存のマッピングは警告なく上書きされる。そのやうなときはよく分からないエラーが發生するだらう。
</li><li> 手動で設定した折疊みや、その開閉狀態を復元すると表示が亂れることがある。それはビューを保存してから復元する閒に、編輯していたファイルを變更した場合である。
</li><li> Vim script はまつたくもつて效率的ではない。しかしさうは言つても、自分でコマンドを再入力するよりは斷然早い。
</li></ul>
</blockquote>

<a name="g_t_003alo"></a><a name="g_t_003aloadview"></a><a name="index-_003alo"></a>
<a name="index-_003aloadview"></a>
<dl compact="compact">
<dt>:lo[adview] [nr]</dt>
<dd><p>編輯中のファイルに關聯したビューを讀み込む。 [nr] を省略すると、&quot;<code>:mkview</code>&quot; で保存したビューが讀み込まれる。[nr] を付けた場合は、&quot;<code>:mkview [nr]</code>&quot; で保存したビューが讀み込まれる。
</p></dd>
</dl>

<p>&quot;<code>:mkview</code>&quot; と &quot;<code>:loadview</code>&quot; の組は、1 つのファイルに對して全部で 10 個のビューを管理できる。ビューは &rsquo;<samp>viewdir</samp>&rsquo; で指定したディレクトリに保存される。ビューはファイル名を利用して管理されてゐる。そのため、ファイルの名前を變更したり、(シンボリック) リンクファイルを使つてアクセスした場合は、對應するビューを見つけることができない。
</p>
<p>たまには &rsquo;<samp>viewdir</samp>&rsquo; をきれいに掃除するといいだらう。
</p>
<p>*.cファイルを編輯するときにビューを自動的に保存、復元するには:
</p><pre class="verbatim">au BufWinLeave *.c mkview
au BufWinEnter *.c silent loadview
</pre>
<a name="viminfo"></a><a name="viminfo_002dfile"></a><a name="E136"></a><a name="E575"></a><a name="E576"></a><a name="E577"></a><a name="index-viminfo"></a>
<a name="index-viminfo_002dfile"></a>
<a name="index-E136"></a>
<a name="index-E575"></a>
<a name="index-E576"></a>
<a name="index-E577"></a>
<a name="index-viminfo-huairu"></a>
<a name="g_t10_002e-viminfo-huairu"></a>
<h3 class="section">10. viminfo ファイル</h3>
<p>いつたん Vim を終了させ、後に再び起動する時には、通常多くの情報が失はれてしまふ。<samp>viminfo</samp> ファイルは終了する時の情報を保存しておくのに使用され、それにより再起動した時には同じ狀態で編輯セッションを續けることができる。
</p>
<p>ユーザーマニュアルの |<a href="usr_005f21_002etxt.html#g_t21_002e3">21.3</a>| で簡單に紹介されてゐる。
</p>
<p>viminfo ファイルにはこんなものを記憶できる:
</p><ul>
<li> コマンドラインの履歷
</li><li> 檢索文字列の履歷
</li><li> 入力 (|<a href="eval_002etxt.html#input_0028_0029">input()</a>|) の履歷
</li><li> レジスタの內容
</li><li> 複數のファイルのマーク
</li><li> ファイルの中の位置を指し示すマーク
</li><li> 最後の檢索/置換パターン (&rsquo;n&rsquo; と &rsquo;&amp;&rsquo; のため)
</li><li> バッファのリスト
</li><li> グローバル變數
</li></ul>

<p>コンパイル時に |<a href="various_002etxt.html#g_t_002bviminfo">+viminfo</a>| 機能が無效にされてゐたら、<samp>viminfo</samp> ファイルはサポートされない。
</p>
<p>セッションファイルも使用することができる。<samp>viminfo</samp> ファイルは「してゐる仕事」に依存しない、といふ點で異なる。通常 <samp>viminfo</samp> ファイルは 1 つしか存在しない。セッションファイルは、ある特定の編輯作業の狀態を保存するのに使ふ。セッションファイルは、作業してゐるプロジェクト每に複數作成することが可能である。<samp>Viminfo</samp> もセッションファイルどちらも、Vim をスタートしてすぐに好みの設定を行ふといふ目的のために、效果的に使用できる。|<a href="#session_002dfile">session-file</a>|
</p>
<a name="viminfo_002dread"></a><a name="index-viminfo_002dread"></a>
<p>Vim が起動した時に &rsquo;<samp>viminfo</samp>&rsquo; オプションが空でなかつたら、<samp>viminfo</samp> ファイルが讀み込まれ、その情報は適切に使用される。變數 |<a href="eval_002etxt.html#v_003aoldfiles">v:oldfiles</a>| がセットされる。起動時にはマークは讀み込まれない (しかしファイルマークは讀み込まれる)。起動時に &rsquo;<samp>viminfo</samp>&rsquo; オプションをどうやつて設定するのかは |<a href="#initialization">initialization</a>| を參照。
</p>
<a name="viminfo_002dwrite"></a><a name="index-viminfo_002dwrite"></a>
<p>Vim が終了する時に &rsquo;<samp>viminfo</samp>&rsquo; が空でなかつたら、情報が <samp>viminfo</samp> ファイルに保存される (もし既に存在した場合には、それと合倂 (マージ) される)。&rsquo;<samp>viminfo</samp>&rsquo; オプションは、どのやうな情報を保存するか、またどのくらゐの量を保存するべきかその限界を指定する爲の情報を含む文字列である。(|<a href="options_002etxt.html#g_t_0027viminfo_0027">'viminfo'</a>| 參照)。
</p>
<p>マージは 2 つの方法で實施される。Vim のセッション中で變更や (譯注:あらたに) 設定された大半のアイテムは保存され、變更されなかつたものは既存の <samp>viminfo</samp> ファイルのものが流用される。例へば:
</p><ul>
<li> Vim セッションAが、變數 START の含まれた viminfo を讀み込む。
</li><li> Vim セッションBが、同樣に viminfo を讀み込む
</li><li> Vim セッションAが、變數 AAA と BOTH を設定し終了する
</li><li> Vim セッションBが、變數 BBB と BOTH を設定し終了する
</li></ul>
<p>かうすると viminfo は次のやうになるだらう:
</p><table>
<tr><td width="15%">START</td><td width="85%">- 元から viminfo にあつたものは、セッションA及びBに據らず維持される</td></tr>
<tr><td width="15%">AAA</td><td width="85%">- セッション A 由來の値は、B により維持される</td></tr>
<tr><td width="15%">BBB</td><td width="85%">- セッション B 由來の値</td></tr>
<tr><td width="15%">BOTH</td><td width="85%">- セッション B 由來の値。A の値は失はれる。</td></tr>
</table>

<a name="viminfo_002dtimestamp"></a><a name="index-viminfo_002dtimestamp"></a>
<p>幾つかのアイテムには、最後に變更された値を優先するために、タイムスタンプを用ゐてゐる。これにより Vim セッションの終了順序に關係なく、最新のアイテムが維持される。タイムスタンプは以下のアイテムに導入されてゐる:
</p><ul>
<li> コマンドラインの履歷
</li><li> 檢索文字列の履歷
</li><li> 入力行の履歷
</li><li> 空ではないレジスタの値
</li><li> ジャンプリスト
</li><li> ファイルのマーク
</li></ul>
<p>このタイムスタンプ機能自體は Vim 8.0 よりも以前に追加された。Vim 7.4.1131 以降の Vim 7.4 では各アイテムにタイムスタンプを記錄してゐるが、使つてはゐない。そのため古い Vim と新しい Vim を混在して使ふ場合には、常に新しいデータが維持される。
</p>
<blockquote>
<p><strong>Note: Unix における注意點:</strong>
</p><ul>
<li> <samp>viminfo</samp> ファイルには入力したテキストや、使用したコマンドが記載されてゐるので、他人に覗かれないやうに保護 (パーミッション設定) したはうが良い。
</li><li> 複數のユーザーで <samp>viminfo</samp> ファイルを共有したい時 (例へば他のユーザーへ &quot;su&quot; する  時など) には、グループもしくは全員に <samp>viminfo</samp> ファイルへの書き込み權限を與へることができる。Vim はその <samp>viminfo</samp> ファイルを置き換へるときに權限を維持する。しかし、あなたの <samp>viminfo</samp> ファイルを誰にでも讀ませたり書かせたりしないやうに注意すること！
</li><li> 現在の &quot;本當&quot; のユーザーによつて書き込み不能な <samp>viminfo</samp> ファイルは、Vim は決して上書きしない。これは &quot;su&quot; で root ユーザーになつた時、しかし <code>$HOME</code> がまだ通常ユーザーのホームディレクトリのままの時の助けとなる。さうでないと Vim は root 所有の、他の誰にも讀めない <samp>viminfo</samp> ファイルを作成してしまふ。
</li><li> <samp>viminfo</samp> ファイルはシンボリックリンクであつてはならない。セキュリティ上の問題を避けるためである。
</li></ul>
</blockquote>

<p>マークは個々のファイルに對して別々に保存される。ファイルが讀み込まれ &rsquo;<samp>viminfo</samp>&rsquo; が空でない場合、<samp>viminfo</samp> ファイルからマーク情報が讀み込まれる。
</p><blockquote>
<p><strong>Note:</strong> <br>
マークは Vim が正常に終了したときにだけ保存される。また、Vim の起動中に開かれた &quot;<code>:bdel</code>&quot; されてゐないファイル全てのマークが記錄される。もしも &quot;<code>:bdel</code>&quot; で破毀したファイルについてマークを保存しておきたいのならば、&quot;<code>:wv</code>&quot; を使ふ。
</p>
<p>&rsquo;[&rsquo; と &rsquo;]&rsquo; のマークは保存されないが、&rsquo;&quot;&rsquo; は保存される。&rsquo;&quot;&rsquo; マークはファイルを開いたときに前囘のカーソル位置を復元するのに非常に便利である。
</p>
<p>&rsquo;<samp>viminfo</samp>&rsquo; に文字 &quot;<var>r</var>&quot; が與へられた時には、一切のマーク情報は記錄されない。これはリムーバブルメディア上のファイルのマークが保存されるのを避ける場合に使ふ (MS-DOS では &quot;ra:,rb:&quot; を、Amiga では &quot;rdf0:,rdf1:,rdf2:&quot; を使ふ)。
</p>
<p><samp>viminfo</samp> ファイルにマークが記錄されてゐるファイルの名前が |<a href="eval_002etxt.html#v_003aoldfiles">v:oldfiles</a>| のリストに追加される。
</p></blockquote>

<a name="viminfo_002dfile_002dmarks"></a><a name="index-viminfo_002dfile_002dmarks"></a>
<p>大文字のマーク (&rsquo;A から &rsquo;Z) は <samp>viminfo</samp> ファイルが書かれるときに、保存される。數字のマーク (&rsquo;0 から &rsquo;9) はちよつと特別である。
</p>
<p><samp>viminfo</samp> ファイルが書き込まれる時 (終了時、もしくは &quot;<code>:wviminfo</code>&quot; コマンド實行時)に、&rsquo;0 が現在のファイルの現在のカーソル位置に設定される。古い &rsquo;0 は &rsquo;1 になり、&rsquo;1 は &rsquo;2 になり、以下同樣。&quot;1 から &quot;9 の削除レジスタに起こることに似てゐる。
</p>
<p>&rsquo;0 に記憶する位置が &rsquo;1 から &rsquo;9 に既出であつた時には、同じ位置が 2 度記憶されるのではなく、そのレジスタが &rsquo;0 に浮き上がつてくる。結果として &quot;&rsquo;0&quot; を使用すると、最後に Vim を終了した時のファイルとその行に戾ることができる。
</p>
<p>起動後直ちにそれを行ふには、次のコマンドを試す:
</p>
<pre class="verbatim">vim -c &quot;normal '0&quot;
</pre>
<p>csh 互換なシェルではエイリアスをこんな風に使用して:
</p>
<pre class="verbatim">alias lvim vim -c '&quot;'normal &quot;'&quot;0'&quot;'
</pre>
<p>bash ライクなシェルでは:
</p>
<pre class="verbatim">alias lvim='vim -c &quot;normal '\''0&quot;'
</pre>
<p>特定のファイルのマークを保存しないやうにするには &rsquo;<samp>viminfo</samp>&rsquo; に &quot;<var>r</var>&quot; フラグを追加する。
</p>

<a name="viminfo_002dfile_002dname"></a><a name="index-viminfo_002dfile_002dname"></a>
<a name="index-Viminfo-huairunoMing-Qian-"></a>
<a name="Viminfo-huairunoMing-Qian-"></a>
<h4 class="unnumberedsubsec">Viminfo ファイルの名前</h4>

<ul>
<li> <samp>viminfo</samp> ファイルの名前を特に指定しない時は、Unix と OS/2 では &quot;$HOME/.viminfo&quot; に、Amiga では &quot;s:.viminfo&quot; に、MS-DOS と Win32 では &quot;$HOME\_viminfo&quot; になる。MS-DOS と Win32 で、<code>$HOME</code> が設定されてゐない時には、&quot;$VIM\_viminfo&quot; になる。<code>$VIM</code> も設定されてゐない時には &quot;c:\_viminfo&quot; が使はれる。OS/2 では、<code>$HOME</code> が設定されず <code>$VIM</code> が設定されてゐれば &quot;$VIM/.viminfo&quot; となる。
</li><li> &rsquo;<samp>viminfo</samp>&rsquo; オプションの &rsquo;<var>n</var>&rsquo; フラグは、別の名前の <samp>viminfo</samp> ファイルを使ふために、そのファイル名を指定するのに使用される |<a href="options_002etxt.html#g_t_0027viminfo_0027">'viminfo'</a>|。
</li><li> Vim の起動引數 &quot;-i&quot; も、<samp>viminfo</samp> として別のファイルを指定するのに使用できる |<a href="#g_t_002di">-i</a>|。ファイル名として &quot;NONE&quot; (全て大文字) が與へられると、<samp>viminfo</samp> ファイルは使用 (讀み込みも書き込みも) されない。
</li><li> &rsquo;<samp>viminfofile</samp>&rsquo; オプションは &quot;-i&quot; 引數のやうに使ふことができる。實際、&quot;-i&quot; 引數の値形式は &rsquo;<samp>viminfofile</samp>&rsquo; オプション內に保存される。
</li><li> 起動後に、コマンドで別の名前を與へると、デフォルト名や &rsquo;<samp>viminfo</samp>&rsquo; や &quot;-i&quot; で與へた名前を上書きすることができる (&quot;-i&quot; は NONE が指定されてゐない時に限る)。
</li></ul>


<a name="viminfo_002dencoding"></a><a name="index-viminfo_002dencoding"></a>
<a name="index-WenZi-enkodeingu"></a>
<a name="WenZi-enkodeingu"></a>
<h4 class="unnumberedsubsec">文字エンコーディング</h4>

<p><samp>viminfo</samp> ファイルのテキストはオプション &rsquo;<samp>encoding</samp>&rsquo; で指定したエンコーディングで保存される。通常は &rsquo;<samp>encoding</samp>&rsquo; の設定はいつも同じなので、問題なく機能する。しかしながら、もしも <samp>viminfo</samp> ファイルを讀み込むときに、&rsquo;<samp>encoding</samp>&rsquo; の設定が <samp>viminfo</samp> ファイルを保存したときとは違ふエンコーディングに設定されてゐると、いくつかのテキスト (ASCII 以外の文字) は不正な文字になつてしまふ。それを囘避するには、オプション &rsquo;<samp>viminfo</samp>&rsquo; に &rsquo;<var>c</var>&rsquo; フラグを追加する:
</p><pre class="verbatim">:set viminfo+=c
</pre><p>さうすると Vim は、<samp>viminfo</samp> ファイルを保存したときの &rsquo;<samp>encoding</samp>&rsquo; から現在の &rsquo;<samp>encoding</samp>&rsquo; へとテキストを變換する。これを利用するには |<a href="various_002etxt.html#g_t_002biconv">+iconv</a>| が有效になつてゐる必要がある。ファイル名は變換されない。
</p>

<a name="viminfo_002dread_002dwrite"></a><a name="index-viminfo_002dread_002dwrite"></a>
<a name="index-viminfo-huairuwoShou-Dong-deDu-miShu-kisuru"></a>
<a name="viminfo-huairuwoShou-Dong-deDu-miShu-kisuru"></a>
<h4 class="unnumberedsubsec">viminfo ファイルを手動で讀み書きする</h4>

<p><samp>viminfo</samp> ファイルを手動で讀み書きするのに2つのコマンドが用意されてゐる。これは同時に起動してゐる複數の Vim 閒で、レジスタの內容を交換するのに利用できる: まず片方で &quot;<code>:wv</code>&quot; してから、もう片方で &quot;<code>:rv</code>&quot; する。既にレジスタに何かを記憶してゐる場合には、&quot;<code>:rv!</code>&quot; する必要があることに注意。またこれを行ふとコマンドラインの履歷を含む全ての情報が、送り側の Vim のもので上書きされてしまふことにも注意。
</p>
<p><samp>viminfo</samp> ファイル自體を手で編輯することもできるが、Vim によつて作られる正しいフォーマットの <samp>viminfo</samp> を元にすることを推奬する。一度試してみればどういふ構造になつてゐるかよく分かるだらう。これを覺えておけば、Vim を起動したときにいつでも設定しておきたい內容を、&quot;~/.my_viminfo&quot; といふやうなファイルに用意しておくときに重寶する。例としては、あるデータをレジスタに豫め讀み込んでおくとか、コマンドライン履歷に特定のコマンドをいれるとか、さういふ使ひ方がある。<samp>.vimrc</samp> ファイルに次の 1 行を入れておけば
</p><pre class="verbatim">:rviminfo! ~/.my_viminfo
</pre><p>その情報を讀み込むことができる。ファイルの種類によつて (C コードだとか vim スクリプトだとか)、異なる <samp>viminfo</samp> を持ち、&quot;<code>:autocmd</code>&quot; を組み合はせることでファイル名に基づいたりしながら、それらを使用することもできる (|<a href="autocmd_002etxt.html#g_t_003aautocmd">:autocmd</a>|) 參照。
</p>
<a name="viminfo_002derrors"></a><a name="index-viminfo_002derrors"></a>
<p>Vim が <samp>viminfo</samp> ファイルを讀み込み中にエラーを檢出すると、ファイルの上書きはされなくなる。もしも 10 個以上のエラーがある場合には、それ以上 <samp>viminfo</samp> ファイルを讀み込むのを止める。
</p>
<p>かうするのは <samp>viminfo</samp> ファイル內のファイル名が閒違つてゐる場合、突發的にそのファイルを破壞してしまふのを避けるためである。これは &quot;vim -R file&quot; としたいときに、誤つて &quot;vim -i file&quot; とタイプしてしまふと起こり得る (さう、偶然何人かが實際にさうしてしまつたよ！！)。
</p>
<p><samp>viminfo</samp> ファイルにエラーがあつたけれども <samp>viminfo</samp> を上書きしたいのならば、エラーを修正するか、またはファイルを消すかのどちらかが必要 (Vim の實行中は、ほとんどの情報が恢復してしまふ)。
</p>
<a name="g_t_003arv"></a><a name="g_t_003arviminfo"></a><a name="E195"></a><a name="index-_003arv"></a>
<a name="index-_003arviminfo"></a>
<a name="index-E195"></a>
<dl compact="compact">
<dt>:rv[iminfo][!] [file]</dt>
<dd><p><samp>viminfo</samp> ファイルを [file] (デフォルト:上記參照) から讀込む。[!] が與へれらた場合、既に設定されてゐる情報 (レジスタ、マーク、|<a href="eval_002etxt.html#v_003aoldfiles">v:oldfiles</a>|、その他) は上書きされる。
</p>
<a name="g_t_003awv"></a><a name="g_t_003awviminfo"></a><a name="E137"></a><a name="E138"></a><a name="E574"></a><a name="E886"></a><a name="E929"></a><a name="index-_003awv"></a>
<a name="index-_003awviminfo"></a>
<a name="index-E137"></a>
<a name="index-E138"></a>
<a name="index-E574"></a>
<a name="index-E886"></a>
<a name="index-E929"></a>
</dd>
<dt>:wv[iminfo][!] [file]</dt>
<dd><p><samp>viminfo</samp> ファイルを [file] (デフォルト: 上記參照) として保存する。まづ既存のファイルの (古い) 情報が讀み込まれ、Vim 內部の (新しい) 情報とマージ (合倂) されてから、ファイルに保存される。[!] を指定すると古い情報は讀み込まれず、Vim 內部の情報だけが保存される。&rsquo;<samp>viminfo</samp>&rsquo; が空 (&quot;&quot;) に設定されてゐる場合は、100 個のファイルのマークが書き出される。
</p>
<p>&quot;E929: Too many viminfo temp files&quot; (&quot;E929: 一時 <samp>viminfo</samp> ファイルが多過ぎます！&quot;) といふエラーが出たときには古い一時ファイル (例へば ~/.viminf*) が殘つてゐないことを確かめ、<samp>.viminfo</samp> ファイルを保存するディレクトリの書込み權限を確認すること。
</p>
<a name="g_t_003aol"></a><a name="g_t_003aoldfiles"></a><a name="index-_003aol"></a>
<a name="index-_003aoldfiles"></a>
</dd>
<dt>:ol[dfiles]</dt>
<dd><p><samp>viminfo</samp> ファイルにマークが記錄されてゐるファイルのリストを表示する。起動時にこのリストが讀み込まれ、&lsquo;<code>:rviminfo!</code>&lsquo; を行つた後でのみ變更される。|<a href="eval_002etxt.html#v_003aoldfiles">v:oldfiles</a>| も參照。このリストで表示される番號は |<a href="cmdline_002etxt.html#c_005f_0023_003c">c_#&lt;</a>| で使ふことができる。出力は |<a href="various_002etxt.html#g_t_003afilter">:filter</a>| でフィルタリングできる。例:
</p><pre class="verbatim">filter /\.vim/ oldfiles
</pre><p>ファイル名に對してフィルタリングが行はれる。
</p>
<p>{|<a href="various_002etxt.html#g_t_002beval">+eval</a>| 機能付きでコンパイルされたときのみ有效}
</p>
</dd>
<dt>:bro[wse] ol[dfiles][!]</dt>
<dd><p>|<a href="#g_t_003aoldfiles">:oldfiles</a>| と同じやうにファイルのリストを表示し、番號の入力を待つ。有效な番號が入力されると、リスト中のそのファイルを開く。
</p>
<p>|<a href="message_002etxt.html#press_002denter">press-enter</a>| プロンプトが表示されたときは &quot;<code class="tt-key">q</code>&quot; を押すとファイル番號を入力するプロンプトに戾れる。! をつけると變更中のバッファを破毀する。|<a href="editing_002etxt.html#abandon">abandon</a>|
</p>
<p>{tiny または small でコンパイルされたときは利用できない}
</p></dd>
</dl>

<hr>
<div class="header">
<p>
Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
