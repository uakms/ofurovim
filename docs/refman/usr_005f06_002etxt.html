<!DOCTYPE html>
<html lang="ja">
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>

<title>usr_06.txt (Vim Reference Manual)</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<meta name="description" content="usr_06.txt (Vim Reference Manual)">
<meta name="keywords" content="usr_06.txt (Vim Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="start" title="目次">
<link href="Indexes-CP.html#Indexes-CP" rel="index" title="Indexes CP">
<link href="Mu-Ci-.html#g_t_76ee_6b21" rel="up" title="目次">
<link href="usr_005f07_002etxt.html#usr_005f07_002etxt" rel="next" title="usr_07.txt">
<link href="usr_005f05_002etxt.html#usr_005f05_002etxt" rel="prev" title="usr_05.txt">
<style>
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="ja">
<a name="usr_005f06_002etxt"></a>
<div class="header">
<p>
Next: <a href="usr_005f07_002etxt.html#usr_005f07_002etxt" accesskey="n" rel="next">usr_07.txt</a>, Previous: <a href="#usr_005f06_002etxt" accesskey="p" rel="prev">usr_06.txt</a>, Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Gou-WenQiang-Diao-Biao-Shi"></a>
<h2 class="unnumbered">構文强調表示</h2>
<pre class="verbatim">*usr_06.txt*	For Vim バージョン 8.1.  Last change: 2019 Jun 01

		     VIM USER MANUAL - by Bram Moolenaar

			  構文强調表示
</pre>

<p>白黑だけのテキストは退屈です。カラー表示すればファイルも生き生き見えてきます。これは單に見た目が良いだけではなく、作業のスピードアップにもつながります。意味のある文字列は違ふ色で表示しませう。そして、畫面と同じ色で印刷しませう。
</p>
<table>
<tr><td width="30%">|<a href="#g_t06_002e1">06.1</a>|</td><td width="70%">構文强調表示を有效にする</td></tr>
<tr><td width="30%">|<a href="#g_t06_002e2">06.2</a>|</td><td width="70%">色がつかない？變な色になる？</td></tr>
<tr><td width="30%">|<a href="#g_t06_002e3">06.3</a>|</td><td width="70%">色を變へる</td></tr>
<tr><td width="30%">|<a href="#g_t06_002e4">06.4</a>|</td><td width="70%">カラーを使ふ？使はない？</td></tr>
<tr><td width="30%">|<a href="#g_t06_002e5">06.5</a>|</td><td width="70%">カラー印刷</td></tr>
<tr><td width="30%">|<a href="#g_t06_002e6">06.6</a>|</td><td width="70%">詳しい情報</td></tr>
</table>

<a name="g_t06_002e1"></a><a name="index-Gou-WenQiang-Diao-Biao-ShiwoYou-Xiao-nisuru"></a>
<a name="Gou-WenQiang-Diao-Biao-ShiwoYou-Xiao-nisuru"></a>
<h3 class="section">構文强調表示を有效にする</h3>

<p>次の簡單なコマンドで全てが始まります。
</p>
<div class="example">
<pre class="example">:syntax enable
</pre></div>

<p>これで、カラー表示になるはずです。ファイルタイプが自動的に特定され、適切な構文强調がロードされます。すると、コメントは靑、キーワードは茶色、文字列は赤、といつた具合にカラー表示になります。ファイルが見やすくなりましたね。しばらくすると、白黑のテキストがあなたの足を引つ張つてゐたことに氣づくでせう。
</p>
<p>常に構文强調表示を使ひたい場合は、&quot;<code>:syntax enable</code>&quot; コマンドを |<a href="starting_002etxt.html#vimrc">vimrc</a>| ファイルに追加してください。
</p>
<p>カラー端末のときだけ使ひたい場合は、次のコマンドを |<a href="starting_002etxt.html#vimrc">vimrc</a>| ファイルに追加してください。
</p>
<pre class="verbatim">if &amp;t_Co &gt; 1
   syntax enable
endif
</pre>
<p>GUI バージョンのときだけ使ひたい場合は、&quot;:syntax enable&quot; を |<a href="gui_002etxt.html#gvimrc">gvimrc</a>| ファイルに追加してください。
</p>
<a name="g_t06_002e2"></a><a name="index-Se-gatukanai_003fBian-naSe-ninaru_003f"></a>
<a name="Se-gatukanai_003fBian-naSe-ninaru_003f"></a>
<h3 class="section">色がつかない？變な色になる？</h3>

<p>カラー表示がうまくいかない理由はいろいろあります:
</p>
<ul>
<li> カラー端末ぢやない。
Vim は、太字やイタリック、下線も使へます。でもそれだけではあまりカッコ良くはできません。カラー對應の端末を入手するのがいいでせう。 Unix なら、XFree86 プロジェクト (|<a href="syntax_002etxt.html#xfree_002dxterm">xfree-xterm</a>|) の xterm がお勸めです。

</li><li> カラー端末であることを Vim が認識できない。
$TERM の設定が正しいかどうかを確認してください。例へば、カラー對應の xterm なら次のやうに設定します:

<div class="example">
<pre class="example">setenv TERM xterm-color
</pre></div>

<p>シェルによつてはこうかもしれません:
</p>
<div class="example">
<pre class="example">TERM=xterm-color; export TERM
</pre></div>

<p>端末名と實際に使つてゐる端末名は同じでないといけません。それでもうまく動かない場合は、|<a href="syntax_002etxt.html#xterm_002dcolor">xterm-color</a>| を參照してください。この文書には Vim をカラー表示にする方法がいくつか書いてあります。(xterm に限つた文書ではありません)
</p>
</li><li> ファイルタイプが識別できなかつた。
いくら Vim でも古今東西のファイルタイプをすべて知つてゐるわけではありません。ファイルがどの言語で書かれてゐるかを特定するのが困難な場合もあります。このコマンドを使つてみてください。

<div class="example">
<pre class="example">:set filetype
</pre></div>

<p>この結果が &quot;filetype=&quot; ならば、ファイルタイプが認識できなかつたといふことです。手動でファイルタイプを指定することもできます。
</p>
<div class="example">
<pre class="example">:set filetype=fortran
</pre></div>

<p>どんなタイプが使へるかは、$VIMRUNTIME/syntax のディレクトリを見てください。GUI なら、[シンタックス]メニューも使へます。
</p>
<p>ファイルタイプの設定はモード行 (|<a href="options_002etxt.html#modeline">modeline</a>|) でもできます。モード行で指定すれば、そのファイルを開いたときにカラー表示が必ず設定されます。例へば、<samp>Makefile</samp> なら次のやうに書きます。(ファイルの最初か最後に近い場所に書いてください):
</p>
<div class="example">
<pre class="example"># vim: syntax=make
</pre></div>

<p>あなたはファイルタイプの判定方法を知つてゐるかもしれませんね。ほとんどのファイルは擴張子を見ればファイルタイプがわかります。ファイルタイプを檢出して設定する方法については |<a href="filetype_002etxt.html#new_002dfiletype">new-filetype</a>| を參照してください。
</p>
</li><li> ファイルタイプ用の構文定義がない。
似てゐるファイルタイプを手動で設定して使つてみてください。それでも不滿な場合は、自分で構文定義ファイルを書くこともできます。詳しくは |<a href="syntax_002etxt.html#mysyntaxfile">mysyntaxfile</a>| を參照してください。
</li></ul>


<p>色がをかしい場合:
</p>
<ul>
<li> 色付きの文字が非常に讀みづらい
Vim は使はれてゐる背景色を推測します。黑 (もしくは同樣の暗色) なら、明るい色で文字を表示します。白 (もしくは同樣の明るい色) なら、暗い色で文字を表示します。Vim の豫想がはづれると、文字は讀みづらくなります。これは &rsquo;<samp>background</samp>&rsquo; オプションを設定することで解決できます。暗い背景色を使つてゐる場合は、次のやうに設定してください:

<div class="example">
<pre class="example">:set background=dark
</pre></div>

<p>明るい背景色なら次のやうに設定してください:
</p>
<div class="example">
<pre class="example">:set background=light
</pre></div>

<p>このコマンドは &quot;<code>:syntax enable</code>&quot; より ＊前＊ に實行してください。色が設定された後では意味がありません。後から &rsquo;<samp>background</samp>&rsquo; を設定した場合は、&quot;<code>:syntax reset</code>&quot; を實行すると、標準色に戾すことができます。
</p>
</li><li> 上に向つてスクロールしたときに色が閒違つてゐる
構文解析は、ファイル全體を讀んでるわけではありません。畫面に表示されてゐるところから、解析は始まります。これだと時閒を大幅に節約できるのですが、時には色を閒違つてしまひます。直すには單に <kbd>CTRL-L</kbd> を押してください。あるいは、少し多めに上スクロールしてから戾ると直ります。

<p>根本的に解決するには、|<a href="syntax_002etxt.html#g_t_003asyn_002dsync">:syn-sync</a>| を參照してください。一部の構文ファイルは、ずつと上の方まで戾つて解析をしてゐます。詳しくは個々の構文定義ファイルのヘルプを參照してください。例へば、TeX 用の定義ファイル |<a href="syntax_002etxt.html#tex_002evim">tex.vim</a>| がそれを行つてゐます。
</p></li></ul>

<a name="g_t06_002e3"></a><a name="g_t_003asyn_002ddefault_002doverride"></a><a name="index-Se-woBian-eru"></a>
<a name="index-_003asyn_002ddefault_002doverride"></a>
<a name="Se-woBian-eru"></a>
<h3 class="section">色を變へる</h3>

<p>標準色が好みでなければ、他の色テーマを使ふことができます。GUI ならメニューの [編輯]-[色テーマ] が使へます。コマンドで指定することもできます:
</p>
<div class="example">
<pre class="example">:colorscheme evening
</pre></div>

<p>&quot;evening&quot; といふのは色テーマの名前です。色テーマは他にもたくさんあります。ディレクトリ $VIMRUNTIME/colors をご覽ください。
</p>
<p>好みの色テーマを見つけたら、&quot;<code>:colorscheme</code>&quot; コマンドを |<a href="starting_002etxt.html#vimrc">vimrc</a>| ファイルに追加してください。
</p>
<p>自分で色テーマを作ることもできます。その手順は次の通りです。
</p>
<ol>
<li> 作りたいテーマに近い色テーマを選び、それを自分の Vim ディレクトリにコピーします。Unix なら次のとほりです:

<div class="example">
<pre class="example">!mkdir ~/.vim/colors
!cp $VIMRUNTIME/colors/morning.vim ~/.vim/colors/mine.vim
</pre></div>

<p><code>$VIMRUNTIME</code> は Vim が設定する環境變數なので、このコマンドは Vim から實行してください。
</p>
</li><li> 色テーマファイルを編輯します。この一覽が役に立つでせう:

<table>
<tr><td width="40%">term</td><td width="60%">白黑端末での屬性</td></tr>
<tr><td width="40%">cterm</td><td width="60%">カラー端末での屬性</td></tr>
<tr><td width="40%">ctermfg</td><td width="60%">カラー端末での文字色</td></tr>
<tr><td width="40%">ctermbg</td><td width="60%">カラー端末での背景色</td></tr>
<tr><td width="40%">gui</td><td width="60%">GUI での屬性</td></tr>
<tr><td width="40%">guifg</td><td width="60%">GUI での文字色</td></tr>
<tr><td width="40%">guibg</td><td width="60%">GUI での背景色</td></tr>
</table>

<p>例へば、コメントを綠にするにはこのやうにします。
</p>
<div class="example">
<pre class="example">:highlight Comment ctermfg=green guifg=green
</pre></div>

<p>&quot;cterm&quot; と &quot;gui&quot; の屬性には、&quot;bold&quot; と &quot;underline&quot; が指定できます。兩方を指定したい場合は、&quot;bold,underline&quot; のやうに指定します。詳しくは |<a href="syntax_002etxt.html#g_t_003ahighlight">:highlight</a>| を參照してください。
</p>
</li><li> 作つた色テーマが使はれるやうに設定します。この行を |<a href="starting_002etxt.html#vimrc">vimrc</a>| に追加してください:

<div class="example">
<pre class="example">colorscheme mine
</pre></div>
</li></ol>

<p>次のコマンドで、よく使はれる色の組み合はせを表示して、見榮えを確認できます:
</p>
<div class="example">
<pre class="example">:runtime syntax/colortest.vim
</pre></div>

<p>いろんな色の組み合せが表示されます。どれが讀みやすくて見た目が良いかチェックしてください。
</p>
<a name="g_t06_002e4"></a><a name="index-karawoShi-u_003fShi-wanai_003f"></a>
<a name="karawoShi-u_003fShi-wanai_003f"></a>
<h3 class="section">カラーを使ふ？使はない？</h3>

<p>テキストをカラーで表示するには、たくさんの計算が必要です。表示が遲すぎると感じたときは、構文强調表示を一時的に止めてみてください:
</p>
<div class="example">
<pre class="example">:syntax clear
</pre></div>

<p>他のファイル (又は同じファイル) を開くと、再びカラー表示されます。
</p>
<p>構文强調表示を完全に無效にするには、このやうにします:
</p>
<div class="example">
<pre class="example">:syntax off
</pre></div>

<p>これで、構文强調表示が無效になり、すべてのバッファが白黑表示になります。詳細については |<a href="syntax_002etxt.html#g_t_003asyntax_002doff">:syntax-off</a>| を參照。
</p>
<a name="g_t_003asyn_002dmanual"></a><a name="index-_003asyn_002dmanual"></a>
<p>特定のファイルだけ構文强調表示するには、このやうにします:
</p>
<div class="example">
<pre class="example">:syntax manual
</pre></div>

<p>構文强調表示は有效になりますが、ファイルを開いても、自動的にはカラー表示になりません。&rsquo;<samp>syntax</samp>&rsquo; オプションを設定すると、カレントバッファがカラー表示になります:
</p>
<div class="example">
<pre class="example">:set syntax=ON
</pre></div>
<a name="g_t06_002e5"></a><a name="syntax_002dprinting"></a><a name="index-karaYin-Shua-"></a>
<a name="index-syntax_002dprinting"></a>
<a name="karaYin-Shua-"></a>
<h3 class="section">カラー印刷</h3>

<p>MS-Windows では、次のコマンドでファイルを印刷できます:
</p>
<div class="example">
<pre class="example">:hardcopy
</pre></div>

<p>通常の印刷ダイアログが表示されるので、プリンタを選擇し、設定してください。カラープリンタを使つてゐる場合は、畫面に表示されてゐるのと同じやうに印刷されます。ただし、背景色を暗い色にしてゐる場合は、白い紙に適した色に變更されます。
</p>
<p>印刷方法を變更するには、以下のオプションを設定してください:
</p><div class="example">
<pre class="example">'<samp>printdevice</samp>'
'<samp>printheader</samp>'
'<samp>printfont</samp>'
'<samp>printoptions</samp>'
</pre></div>

<p>一部の範圍だけ印刷するには、ビジュアルモードで印刷したい範圍を選擇し、印刷コマンドを實行してください:
</p>
<div class="example">
<pre class="example">v100j:hardcopy
</pre></div>

<p>&quot;<code>v</code>&quot; でビジュアルモードを開始して、&quot;<code>100j</code>&quot; で 100 行下まで移動すると、その範圍が選擇されます。&quot;<code>:hardcopy</code>&quot; で選擇範圍が印刷されます。もちろん、ビジュアルモードでは他のコマンドを使つて移動することもできます。
</p>
<p>PostScript プリンタを使つてゐる場合は Unix でも同樣に印刷できます。PostScript を印刷できない場合は多少の手閒がかかります。テキストを HTML に變換してから Web ブラウザーで印刷してください。
</p>
<p>現在のファイルを HTML に變換するには次のコマンドを使ひます:
</p>
<div class="example">
<pre class="example">:TOhtml
</pre></div>

<p>動かない場合は次のコマンドを試してください:
</p>
<div class="example">
<pre class="example">:source $VIMRUNTIME/syntax/2html.vim
</pre></div>

<p>カリカリと音を立て處理が開始します。巨大なファイルの變換にはしばらく時閒がかかります。しばらくすると別ウィンドウに HTMLコードが表示されるので、どこかに保存してください (後で削除するファイルなので、適當な場所に保存してください):
</p><div class="example">
<pre class="example">:write main.c.html
</pre></div>

<p>このファイルをお好みのブラウザーで開いて印刷してください。うまくいけば、Vim の畫面での表示と全く同じものが印刷されます。詳しくは |<a href="syntax_002etxt.html#g_t2html_002evim">2html.vim</a>| を參照してください。全てが終はつたら、HTML ファイルは削除してしまひませう。
</p>
<p>印刷する代はりに、HTML ファイルを Web サーバーに置いて、他の人にカラー付きの文書として提供することもできます。
</p>
<a name="g_t06_002e6"></a><a name="index-Xiang-siiQing-Bao-"></a>
<a name="Xiang-siiQing-Bao-"></a>
<h3 class="section">詳しい情報</h3>

<table>
<tr><td width="50%">|<a href="usr_005f44_002etxt.html#usr_005f44_002etxt">usr_44.txt</a>|</td><td width="50%">構文定義の自作</td></tr>
<tr><td width="50%">|<a href="syntax_002etxt.html#syntax">syntax</a>|</td><td width="50%">全ての詳細</td></tr>
</table>

<hr>
<div class="header">
<p>
Next: <a href="usr_005f07_002etxt.html#usr_005f07_002etxt" accesskey="n" rel="next">usr_07.txt</a>, Previous: <a href="#usr_005f06_002etxt" accesskey="p" rel="prev">usr_06.txt</a>, Up: <a href="Mu-Ci-.html#g_t_76ee_6b21" accesskey="u" rel="up">目次</a> &nbsp; [<a href="Indexes-CP.html#Indexes-CP" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
