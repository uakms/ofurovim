@ifset JA  @c ----------- v -----------  JA  -*- tab-width: 8 -*-
@node starting.txt, , , 目次
@unnumbered Vim の起動、起動引数や初期化に関して
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
*starting.txt*  For Vim version 8.0.  Last change: 2018 Mar 14


		  VIM REFERENCE MANUAL    by Bram Moolenaar
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@verbatim
*starting.txt*  For Vim バージョン 8.0.  Last change: 2018 Mar 14


		  VIMリファレンスマニュアル    by Bram Moolenaar
@end verbatim
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
Starting Vim						*starting*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{starting}
@cindex starting
@cindex Vim の起動
@section Vim の起動
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
1. Vim arguments		|vim-arguments|
2. Vim on the Amiga		|starting-amiga|
3. Running eVim			|evim-keys|
4. Initialization		|initialization|
5. $VIM and $VIMRUNTIME		|$VIM|
6. Suspending			|suspend|
7. Exiting			|exiting|
8. Saving settings		|save-settings|
9. Views and Sessions		|views-sessions|
10. The viminfo file		|viminfo-file|
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@multitable @columnfractions .5 .5
@item 1. Vim の起動引数 @tab |@ref{vim-arguments}|
@item 2. Amiga 版の Vim @tab |@ref{starting-amiga}|
@item 3. eVim について @tab |@ref{evim-keys}|
@item 4. 初期化 @tab |@ref{initialization}|
@item 5. $VIM と $VIMRUNTIME @tab |@ref{$VIM}|
@item 6. サスペンド @tab |@ref{suspend}|
@item 7. 終了 @tab |@ref{exiting}|
@item 8. 設定の保存 @tab |@ref{save-settings}|
@item 9. ビューとセッション @tab |@ref{views-sessions}|
@item 10. viminfo ファイル @tab |@ref{viminfo-file}|
@end multitable
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
==============================================================================
1. Vim arguments					*vim-arguments*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{vim-arguments}
@cindex vim-arguments
@cindex Vim の起動引数
@section 1. Vim の起動引数
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Most often, Vim is started to edit a single file with the command
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
たいていは 1 つのファイルを編集するために次のようなコマンドで Vim を起動する
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	vim filename					*-vim*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-vim}
@cindex -vim
@example
vim filename
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
More generally, Vim is started with:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
より一般的に言えば、Vim は次の書式で起動することができる:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	vim [option | filename] ..
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@example
vim [option | filename] ..
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Option arguments and file name arguments can be mixed, and any number of them
can be given.  However, watch out for options that take an argument.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
オプション引数とファイル引数は混在でき、幾つでも与える事ができる。しかし引数を取るオプションには注意が必要である。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
For compatibility with various Vi versions, see	|cmdline-arguments|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
さまざまな Vi のバージョンとの互換性に付いては |@ref{cmdline-arguments}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Exactly one out of the following five items may be used to choose how to
start editing:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
正確には、以下の 5 つの項目から 1 つを選んで編集が開始される:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-file* *---*
filename	One or more file names.  The first one will be the current
		file and read into the buffer.  The cursor will be positioned
		on the first line of the buffer.
		To avoid a file name starting with a '-' being interpreted as
		an option, precede the arglist with "--", e.g.: >
			vim -- -filename
<		All arguments after the "--" will be interpreted as file names,
		no other options or "+command" argument can follow.
		For behavior of quotes on MS-Windows, see |win32-quotes|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-file}
@anchor{---}
@cindex -file
@cindex @minus{}@minus{}@minus{}
@table @asis
@item filename
1 つ以上のファイル名が与えられた場合。まずは最初の 1 つが編集ファイルとしてバッファに読み込まれる。カーソルはそのバッファの 1 行目に置かれる。

'-' で始まるファイル名を指定するには、オプションと区別するために、引数に "@samp{--}" を置く。例:
@example
vim -- -filename
@end example

"@samp{--}" の後の全ての引数はファイル名として解釈されるので、その他のオプションや引数 "+command" は使用することができない。

MS-Windows におけるクォートの動作については |win32-quotes| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*--*
-		This argument can mean two things, depending on whether Ex
		mode is to be used.

		Starting in Normal mode: >
			vim -
			ex -v -
<		Start editing a new buffer, which is filled with text
		that is read from stdin.  The commands that would normally be
		read from stdin will now be read from stderr.  Example: >
			find . -name "*.c" -print | vim -
<		The buffer will not be marked as modified, so that it's easy
		to exit.  Be careful to mark it as modified if you don't want
		to accidentally lose it.  Example: >
			ls | view -
<
		Starting in Ex mode: >
			ex -
			vim -e -
			exim -
			vim -E
<		Start editing in silent mode.  See |-s-ex|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{@minus{}@minus{}}
@cindex @minus{}@minus{}
@item -
この引数は Ex モードで起動するかどうかで意味が異なる。

ノーマルモードで起動する場合:
@example
vim -
ex -v -
@end example
新しいバッファに、標準入力を読み込んで編集を始める。このコマンドを使用するとまず標準入力を読み込み、それから標準エラー出力を読み込む。例:
@example
find . -name "*.c" -print | vim -
@end example
バッファには「変更 (modified)」のマークがつけられないだろう。そのため、終了するのが簡単になる。アクシデントで失いたくないのであれば、「変更 (modified)」のマークをつけるのは注意しよう。例:
@example
ls | view -
@end example
Ex モードで起動する場合:
@example
ex -
vim -e -
exim -
vim -E -
@end example
サイレントモードで起動する。|@ref{-s-ex}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-t* *-tag*
-t {tag}	A tag.  "tag" is looked up in the tags file, the associated
		file becomes the current file, and the associated command is
		executed.  Mostly this is used for C programs, in which case
		"tag" often is a function name.  The effect is that the file
		containing that function becomes the current file and the
		cursor is positioned on the start of the function (see
		|tags|).
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-t}
@anchor{-tag}
@cindex -t
@cindex -tag
@item -t @{tag@}
タグを開く。@{tag@} が tags ファイルから検索され、関連づけられたファイルが現在のファイルとされ、関連づけられたコマンドが実行される。大抵これは C プログラムを編集するときに使用され、"tag" は関数名である事が多い。それにより、その関数を含むファイルが自動的に開かれ、カーソルがその関数の定義位置に設定される (|@ref{tags}| を参照)。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-q* *-qf*
-q [errorfile]	QuickFix mode.  The file with the name [errorfile] is read
		and the first error is displayed.  See |quickfix|.
		If [errorfile] is not given, the 'errorfile' option is used
		for the file name.  See 'errorfile' for the default value.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-q}
@anchor{-qf}
@cindex -q
@cindex -qf
@item -q [errorfile]
クイックフィックスモードで起動。 [errorfile] に指定したファイルが読み込まれ最初のエラーが表示される。|@ref{quickfix}| を参照。

[errorfile] が与えられない場合、オプション '@option{errorfile}' がファイル名として使用される。省略値に関しては '@option{errorfile}' を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
(nothing)	Without one of the four items above, Vim will start editing a
		new buffer.  It's empty and doesn't have a file name.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item (nothing)
上記の 4 つのうち、どれも指定せずに Vim を起動すると、新しいバッファが用意される。それは名前のない空のバッファである。
@end table
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
The startup mode can be changed by using another name instead of "vim", which
is equal to giving options:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
起動時のモードはプログラム名を "vim" とは別の名前にすることで指定できる。それは次のようにオプションを与えたのと同じである:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
ex	vim -e	    Start in Ex mode (see |Ex-mode|).		    *ex*
exim	vim -E	    Start in improved Ex mode (see |Ex-mode|).	    *exim*
			(normally not installed)
view	vim -R	    Start in read-only mode (see |-R|).		    *view*
gvim	vim -g	    Start the GUI (see |gui|).			    *gvim*
gex	vim -eg	    Start the GUI in Ex mode.			  *gex*
gview	vim -Rg	    Start the GUI in read-only mode.		  *gview*
rvim	vim -Z	    Like "vim", but in restricted mode (see |-Z|)   *rvim*
rview	vim -RZ	    Like "view", but in restricted mode.	  *rview*
rgvim	vim -gZ	    Like "gvim", but in restricted mode.	  *rgvim*
rgview	vim -RgZ    Like "gview", but in restricted mode.	  *rgview*
evim    vim -y      Easy Vim: set 'insertmode' (see |-y|)	    *evim*
eview   vim -yR     Like "evim" in read-only mode		  *eview*
vimdiff vim -d	    Start in diff mode |diff-mode|
gvimdiff vim -gd    Start in diff mode |diff-mode|
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@multitable @columnfractions .15 .15 .7
@anchor{ex}
@cindex ex
@item ex @tab vim -e @tab Ex モードで起動 (|@ref{Ex-mode}| を参照)。
@anchor{exim}
@cindex exim
@item exim @tab vim -E @tab 改良版 Ex モードで起動 (|@ref{Ex-mode}| を参照)。(通常はインストールされない)
@anchor{view}
@cindex view
@item view @tab vim -R @tab 読み込み専用モードで起動 (|@ref{-R}| を参照)。
@anchor{gvim}
@cindex gvim
@item gvim @tab vim -g @tab GUI で起動 (|@ref{gui}| を参照)。
@anchor{gex}
@cindex gex
@item gex @tab vim -eg @tab GUI の EX モードで起動。
@anchor{gview}
@cindex gview
@item gview @tab vim -Rg @tab GUI の読み込み専用モードで起動。
@anchor{rvim}
@cindex rvim
@item rvim @tab vim -Z @tab "vim" の制限モードで起動 (|@ref{-Z}| を参照)。
@anchor{rview}
@cindex rview
@item rview @tab vim -RZ @tab "view" の制限モード。
@anchor{rgvim}
@cindex rgvim
@item rgvim @tab vim -gZ @tab "gvim" の制限モード。
@anchor{rgview}
@cindex rgview
@item rgview @tab vim -RgZ @tab "gview" の制限モード。
@anchor{evim}
@cindex evim
@item evim @tab vim -y @tab 簡易操作の Vim (|@ref{-y}| を参照)
@anchor{eview}
@cindex eview
@item eview @tab vim -yR @tab "evim" と同じ。読み込み専用モード。
@item vimdiff @tab vim -d @tab 差分モードで起動 |@ref{diff-mode}|
@item gvimdiff @tab vim -gd @tab 差分モードで起動 |@ref{diff-mode}|
@end multitable
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Additional characters may follow, they are ignored.  For example, you can have
"gvim-5" to start the GUI.  You must have an executable by that name then, of
course.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
これらの別名の後ろに付けられる文字は無視される。たとえば GUI で起動するのに "gvim-5" という名前を付けることができる。もちろんその名前で実行可能なファイルがなければならない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
On Unix, you would normally have one executable called Vim, and links from the
different startup-names to that executable.  If your system does not support
links and you do not want to have several copies of the executable, you could
use an alias instead.  For example: >
	alias view   vim -R
	alias gvim   vim -g
<
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
UNIX では通常、Vim という名前の実行可能ファイルが 1 つあり、それに対して違う名前のリンクが用意される。使用しているシステムがリンクをサポートせず、実行ファイルのコピーを幾つも作りたくないのならば、リンクの代わりにエイリアスを使うこともできる。例:
@example
alias view   vim -R
alias gvim   vim -g
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
							*startup-options*
The option arguments may be given in any order.  Single-letter options can be
combined after one dash.  There can be no option arguments after the "--"
argument.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{startup-options}
@cindex startup-options
オプション引数はどんな順番で与えても良い。1 文字のオプションは 1 つのダッシュ (-) の後に組み合わせる。引数 "@minus{}@minus{}" の後にはオプション引数を置くことはできない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
On VMS all option arguments are assumed to be lowercase, unless preceded with
a slash.  Thus "-R" means recovery and "-/R" readonly.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
VMS では全てのオプション引数は小文字であるとみなされる。大文字を指定するにはスラッシュを前に置く。つまり "-R" でリカバリモード、"-/R" で読み込み専用となる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--help							*-h* *--help*
-h		Give usage (help) message and exit.  {not in Vi}
		See |info-message| about capturing the text.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-h}
@anchor{--help}
@cindex -h
@cindex @minus{}@minus{}help
@table @asis
@item @minus{}@minus{}help
@itemx -h
使用法(ヘルプ)を表示して終了する。@{Vi にはない@}

そのテキストを保存するには |@ref{info-message}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*--version*
--version	Print version information and exit.  Same output as for
		|:version| command.  {not in Vi}
		See |info-message| about capturing the text.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--version}
@cindex @minus{}@minus{}version
@item @minus{}@minus{}version
バージョン情報を表示して終了する。出力は |@ref{:version}| コマンドと一緒。@{Vi にはない@}

そのテキストを保存するには |@ref{info-message}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*--noplugin*
--noplugin	Skip loading plugins.  Resets the 'loadplugins' option.
		{not in Vi}
		Note that the |-u| argument may also disable loading plugins:
			argument   load: vimrc files  plugins  defaults.vim ~
			(nothing)	     yes	yes	  yes
			-u NONE		     no		no	  no
			-u DEFAULTS	     no		no	  yes
			-u NORC		     no		yes	  no
			--noplugin	     yes	no	  yes
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--noplugin}
@cindex @minus{}@minus{}noplugin
@item @minus{}@minus{}noplugin
プラグインを読み込まない。'@option{loadplugins}' オプションをオフにする。@{Vi にはない@}
@quotation
@strong{Note:} @*
|@ref{-u}| 引数でもプラグインを読み込まないようにできる:
@multitable @columnfractions .25 .25 .25 .25
@item 引数 @tab vimrcファイル @tab プラグイン @tab defaults.vim
@item なし @tab yes @tab yes @tab yes
@item -u NONE @tab no @tab no @tab no
@item -u DEFAULTS @tab no @tab no @tab yes
@item -u NORC @tab no @tab yes @tab no
@item --noplugin @tab yes @tab no @tab yes
@end multitable
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--startuptime {fname}					*--startuptime*
		During startup write timing messages to the file {fname}.
		This can be used to find out where time is spent while loading
		your .vimrc, plugins and opening the first file.
		When {fname} already exists new messages are appended.
		(Only available when compiled with the |+startuptime|
		feature).
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--startuptime}
@cindex @minus{}@minus{}startuptime
@item @minus{}@minus{}startuptime @{fname@}
起動処理の間、経過時間のメッセージをファイル @{fname@} に書き出す。@file{.vimrc} やプラグインの読み込み、最初のファイルの読み込みにおいて、どこで時間がかかっているかを調べるために役に立つ。

@{fname@} が既に存在するときはそのファイルに追記される。(|@ref{+startuptime}| 付きでコンパイルされたときのみ有効)
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*--literal*
--literal	Take file names literally, don't expand wildcards.  Not needed
		for Unix, because Vim always takes file names literally (the
		shell expands wildcards).
		Applies to all the names, also the ones that come before this
		argument.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--literal}
@cindex @minus{}@minus{}literal
@item @minus{}@minus{}literal
ファイル名を文字どおり解釈する。ワイルドカードを展開しない。Unix では必要ない、Vim は常にファイル名を文字どおり解釈する (シェルがワイルドカードを展開する)。

全てのファイル名に適用される。この引数の前に指定したものも同じ。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-+*
+[num]		The cursor will be positioned on line "num" for the first
		file being edited.  If "num" is missing, the cursor will be
		positioned on the last line.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-+}
@cindex -+
@item +[num]
最初に編集されるファイルの "num" 行目にカーソルを置いて開く。"num" がなかった場合には、カーソルは最終行に置かれる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-+/*
+/{pat}		The cursor will be positioned on the first line containing
		"pat" in the first file being edited (see |pattern| for the
		available search patterns).  The search starts at the cursor
		position, which can be the first line or the cursor position
		last used from |viminfo|. To force a search from the first
		line use "+1 +/pat".
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-+/}
@cindex -+/
@item +/@{pat@}
最初に編集されるファイルの、"pat" を含む最初の行にカーソルを置いて起動する(指定可能な検索パターンについては |@ref{pattern}| を参照)。検索はカーソル位置から開始される。カーソルの位置は最初の行か、もしくは |@ref{viminfo}| から復元された最後に使われた位置の場合もある。必ず最初の行から検索したい場合は "+1 +/pat" を使う。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
+{command}						*-+c* *-c*
-c {command}	{command} will be executed after the first file has been
		read (and after autocommands and modelines for that file have
		been processed).  "command" is interpreted as an Ex command.
		If the "command" contains spaces, it must be enclosed in
		double quotes (this depends on the shell that is used).
		Example: >
			vim  "+set si"  main.c
			vim  "+find stdio.h"
			vim  -c "set ff=dos"  -c wq  mine.mak
<
		Note: You can use up to 10 "+" or "-c" arguments in a Vim
		command.  They are executed in the order given.  A "-S"
		argument counts as a "-c" argument as well.
		{Vi only allows one command}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-+c}
@anchor{-c}
@cindex -+c
@cindex -c
@item +@{command@}
@itemx -c @{command@}
最初のファイルが読み込まれた後 (加えてそのファイルに適用される autocommand と modeline が処理された後) に @{command@} が実行される。"command" は Ex コマンドとして解釈される。"command" にスペースを含んでいる場合には、ダブルクォートで挟まれている必要がある(これは使われているシェルに依存する)。例:
@example
vim  "+set si"  main.c
vim "+find stdio.h"
vim  -c "set ff=dos"  -c wq  mine.mak
@end example
@quotation
@strong{Note:} @*
Vim コマンドの引数として "+" か "-c" をあわせ、最大 10 個まで使うことができる。これらの引数は与えられた順番で実行される。"-S" 引数は "-c" として同じように数える。
@end quotation
@{Vi は 1 つのコマンドしか許さない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--cmd {command}						*--cmd*
		{command} will be executed before processing any vimrc file.
		Otherwise it acts like -c {command}.  You can use up to 10 of
		these commands, independently from "-c" commands.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--cmd}
@cindex @minus{}@minus{}cmd
@item @minus{}@minus{}cmd @{command@}
vimrc ファイルを処理する前に @{command@} を実行する。それ以外は	-c @{command@} と同じである。"-c" 引数とは別に、10 個まで使うことができる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-S*
-S {file}	The {file} will be sourced after the first file has been read.
		This is an easy way to do the equivalent of: >
			-c "source {file}"
<		It can be mixed with "-c" arguments and repeated like "-c".
		The limit of 10 "-c" arguments applies here as well.
		{file} cannot start with a "-".
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-S}
@cindex -S
@item -S @{file@}
最初のファイルが読み込まれた後に @{file@} を実行する。これは次のものを簡単にしたものである:
@example
-c "source @{file@}"
@end example
"-c" と混ぜて使うことができ、複数指定できる。"-c" と合わせて 10 個まで指定できる。@{file@} の先頭文字には "-" は使えない。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
-S		Works like "-S Session.vim".  Only when used as the last
		argument or when another "-" option follows.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item -S
"-S Session.vim" と同じ。最後の引数として使われたときや、その後に他のオプション引数が続いたときのみこのように解釈される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-r*
-r		Recovery mode.  Without a file name argument, a list of
		existing swap files is given.  With a file name, a swap file
		is read to recover a crashed editing session.  See
		|crash-recovery|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-r}
@cindex -r
@cindex リカバリモードで起動する
@item -r
リカバリモード。ファイル名の引数なしで実行した場合には、存在するスワップファイルのリストが表示される。ファイルを指定すると、クラッシュしたセッションを復活させるために、スワップファイルが読み込まれる。|@ref{crash-recovery}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-L*
-L		Same as -r.  {only in some versions of Vi: "List recoverable
		edit sessions"}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-L}
@cindex -L
@item -L
-r と同じ。@{幾つかのバージョンの Vi だけにある: "List recoverable edit sessions" (復活可能な編集セッションのリスト) の List の L@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-R*
-R		Readonly mode.  The 'readonly' option will be set for all the
		files being edited.  You can still edit the buffer, but will
		be prevented from accidentally overwriting a file.  If you
		forgot that you are in View mode and did make some changes,
		you can overwrite a file by adding an exclamation mark to
		the Ex command, as in ":w!".  The 'readonly' option can be
		reset with ":set noro" (see the options chapter, |options|).
		Subsequent edits will not be done in readonly mode.  Calling
		the executable "view" has the same effect as the -R argument.
		The 'updatecount' option will be set to 10000, meaning that
		the swap file will not be updated automatically very often.
		See |-M| for disallowing modifications.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-R}
@cindex -R
@cindex 読み込み専用モードで起動する
@item -R
読み込み専用モード。オプション '@option{readonly}' が、編集される全てのファイルに設定される。これにより、まだバッファを編集することはできるが、偶然にファイルを上書きしてしまうようなことは防がれる。もしも、読み込み専用モードにいることを忘れてバッファへ変更を行ったとしても、"@command{:w!}" のように Ex コマンドに「ビックリマーク」を付けることで上書きすることが可能。

'@option{readonly}' オプションは "@command{:set noro}" としてオフに設定することが可能である (オプションを説明した章 |@ref{options}| を参照)。その後の編集は読み込み専用モードではなくなる。実行ファイルを "@command{view}" として起動した場合は、この -R 引数と同じ動作になる。オプション '@option{updatecount}' は 10000 に設定され、これはスワップファイルがそう頻繁には自動更新されなくなるということである。

変更を不許可とするには |@ref{-M}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-m*
-m		Modifications not allowed to be written.  The 'write' option
		will be reset, so that writing files is disabled.  However,
		the 'write' option can be set to enable writing again.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-m}
@cindex -m
@item -m
変更を保存できなくする。オプション '@option{write}' がオフに設定され、ファイルを保存することができなくなる。オプション '@option{write}' をオンすれば、再び保存することが可能になる。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-M*
-M		Modifications not allowed.  The 'modifiable' option will be
		reset, so that changes are not allowed.  The 'write' option
		will be reset, so that writing files is disabled.  However,
		the 'modifiable' and 'write' options can be set to enable
		changes and writing.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-M}
@cindex -M
@item -M
変更できないようにする。オプション '@option{modifiable}' がオフに設定され、変更を加えることができなくなる。さらに、オプション '@option{write}' がオフに設定され、ファイルを保存することができなくなる。'@option{modifiable}' と '@option{write}' をオンにすれば、変更を加えて保存できるようになる。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
						*-Z* *restricted-mode* *E145*
-Z		Restricted mode.  All commands that make use of an external
		shell are disabled.  This includes suspending with CTRL-Z,
		":sh", filtering, the system() function, backtick expansion,
		delete(), rename(), mkdir(), writefile(), libcall(),
		job_start(), etc.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-Z}
@anchor{restricted-mode}
@anchor{E145}
@cindex -Z
@cindex restricted-mode
@cindex E145
@cindex 制限モードで起動する
@item -Z
制限モード。外部シェルを実行するあらゆるコマンドの使用を不許可にする。これにはサスペンドである @kbd{CTRL-Z} や、"@command{:sh}"、フィルタリング、system() 関数、バッククォートの評価、delete(), rename(), mkdir(), writefile(), libcall(), job_start() などが含まれる。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-g*
-g		Start Vim in GUI mode.  See |gui|. For the opposite see |-v|.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-g}
@cindex -g
@cindex GUI モードで起動する
@item -g
Vim を GUI モードで起動する。|@ref{gui}| を参照。逆は |@ref{-v}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-v*
-v		Start Ex in Vi mode.  Only makes a difference when the
		executable is called "ex" or "gvim".  For gvim the GUI is not
		started if possible.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-v}
@cindex -v
@cindex Ex を Vi モードで起動する
@item -v
Ex を Vi モードで起動する。実行ファイルが "ex" や "gvim" である時にだけ、違いが現れる。gvim では可能ならば "GUI" ではないモードで起動する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-e*
-e		Start Vim in Ex mode |Q|.  Only makes a difference when the
		executable is not called "ex".
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-e}
@cindex -e
@cindex Vim を Ex モードで起動する
@item -e
Vim を Ex モードで起動する |@ref{Q}|。実行ファイルの名前が "ex" 以外の時に意味がある。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-E*
-E		Start Vim in improved Ex mode |gQ|.  Only makes a difference
		when the executable is not called "exim".
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-E}
@cindex -E
@item -E
Vim を改良版 Ex モードで起動する |@ref{gQ}|。実行ファイルの名前が "exim" 以外の時に意味がある。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-s-ex*
-s		Silent or batch mode.  Only when Vim was started as "ex" or
		when preceded with the "-e" argument.  Otherwise see |-s|,
		which does take an argument while this use of "-s" doesn't.
		To be used when Vim is used to execute Ex commands from a file
		instead of a terminal.  Switches off most prompts and
		informative messages.  Also warnings and error messages.
		The output of these commands is displayed (to stdout):
			:print
			:list
			:number
			:set      to display option values.
		When 'verbose' is non-zero messages are printed (for
		debugging, to stderr).
		'term' and $TERM are not used.
		If Vim appears to be stuck try typing "qa!<Enter>".  You don't
		get a prompt thus you can't see Vim is waiting for you to type
		something.
		Initializations are skipped (except the ones given with the
		"-u" argument).
		Example: >
			vim -e -s  < thefilter  thefile
<
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-s-ex}
@cindex -s-ex
@cindex バッチモードで起動する
@item -s
サイレント(もしくはバッチ)モード。Vim が "ex" で起動されるか、このオプションよりも先に "-e" が付いていた場合にだけ働く。そうでない場合には |@ref{-s}| を参照。|@ref{-s}| として使うときには引数をとる。端末の替わりにファイルから Ex コマンドを実行する場合に使用される。ほとんどのプロンプトとメッセージは抑制される。警告とエラーのメッセージも抑制される。次のコマンドの出力は標準出力へ表示される:
@example
:print
:list
:number
:set      オプション値を表示するため。
@end example
'@option{verbose}' が 0 以外のときにはメッセージは抑制されずに標準エラー出力へ表示される(デバッグ用)。'@option{term}' と @env{$TERM} は考慮されない。Vim が停止しているようだったら "qa!@key{<Enter>}" と入力してみてほしい。

Vim がユーザーの入力を待っているときでもプロンプトは表示されない。

初期化処理はスキップされる (このオプションが引数 "-u" と一緒に使われた場合は除く)。

例:
@example
vim -e -s < thefilter  thefile
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
							*-b*
-b		Binary mode.  File I/O will only recognize <NL> to separate
		lines.  The 'expandtab' option will be reset.  The 'textwidth'
		option is set to 0.  'modeline' is reset.  The 'binary' option
		is set.  This is done after reading the vimrc/exrc files but
		before reading any file in the arglist.  See also
		|edit-binary|.  {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-b}
@cindex -b
@cindex バイナリモードで起動する
@item -b
バイナリモード。ファイルを入出力する再に <NL> だけを行のセパレータとして認識するようになる。オプション '@option{expandtab}' は無効化される。オプション '@option{textwidth}' は 0 に設定される。'@option{modeline}' はオフに設定される。オプション '@option{binary}' がオンに設定される。これは vimrc/exrc のファイルが読み込まれた直後、引数で与えられたファイルが読み込まれるよりも前に行われる。|@ref{edit-binary}| も参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-l*
-l		Lisp mode.  Sets the 'lisp' and 'showmatch' options on.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-l}
@cindex -l
@cindex Lisp モードで起動する
@item -l
Lisp モード。オプション '@option{lisp}' と '@option{showmatch}' をオンに設定する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-A*
-A		Arabic mode.  Sets the 'arabic' option on.  (Only when
		compiled with the |+arabic| features (which include
		|+rightleft|), otherwise Vim gives an error message
		and exits.)  {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-A}
@cindex -A
@cindex アラビア語モードで起動する
@item -A
アラビア語モード。オプション '@option{arabic}' をオンに設定する。|@ref{+arabic}| (これは |@ref{+rightleft}| も含んでいる) が有効なときだけ使用できる。そうでないときには Vim はエラーメッセージを出力して終了する。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-F*
-F		Farsi mode.  Sets the 'fkmap' and 'rightleft' options on.
		(Only when compiled with |+rightleft| and |+farsi| features,
		otherwise Vim gives an error message and exits.)  {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-F}
@cindex -F
@cindex ペルシア語モードで起動する
@item -F
Farsi (ペルシア語) モード。'@option{fkmap}' と '@option{rightleft}' オプションをオンに設定する。(|@ref{+rightleft}| と |@ref{+farsi}| 有効にしてコンパイルした時にだけ有効。そうでない場合 Vim はエラーメッセージを表示して終了する)。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-H*
-H		Hebrew mode.  Sets the 'hkmap' and 'rightleft' options on.
		(Only when compiled with the |+rightleft| feature, otherwise
		Vim gives an error message and exits.)  {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-H}
@cindex -H
@cindex ヘブライ語モードで起動する
@item -H
Hebrew (ヘブライ語)モード。オプション '@option{hkmap}' と '@option{rightleft}' をオンに設定する。(|@ref{+rightleft}| を有効にしてコンパイルした時にだけ使用可。そうでない場合 Vim はエラーメッセージを表示して終了する)。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-V* *verbose*
-V[N]		Verbose.  Sets the 'verbose' option to [N] (default: 10).
		Messages will be given for each file that is ":source"d and
		for reading or writing a viminfo file.  Can be used to find
		out what is happening upon startup and exit.  {not in Vi}
		Example: >
			vim -V8 foobar
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-V}
@anchor{verbose}
@cindex -V
@cindex verbose
@item -V[N]
詳細表示する。オプション '@option{verbose}' を [N] に設定する (N を省略した場合は 10 が設定される)。"@command{:source}" が実行される度、@file{viminfo} の読み書きを行う度に情報が表示される。Vim の起動時と終了時の動作を調べるときに便利である。

@{Vi にはない@}

例:
@example
vim -V8 foobar
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
-V[N]{filename}
		Like -V and set 'verbosefile' to {filename}.  The result is
		that messages are not displayed but written to the file
		{filename}.  {filename} must not start with a digit.
		Example: >
			vim -V20vimlog foobar
<
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item -V[N]@{filename@}
-V と同様で、さらに '@option{verbosefile}' を @{filename@} に設定する。その結果、メッセージは表示されずにファイル @{filename@} に書き出される。@{filename@} は数字で始まってはならない。

例:
@example
vim -V20vimlog foobar
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
							*-D*
-D		Debugging.  Go to debugging mode when executing the first
		command from a script. |debug-mode|
		{not available when compiled without the |+eval| feature}
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-D}
@cindex -D
@cindex デバッグモードで起動する
@item -D
デバッグする。スクリプトの最初のコマンドを実行するところからデバッグを開始する。|@ref{debug-mode}|

@{|@ref{+eval}| が有効な場合のみ利用可能@}

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-C*
-C		Compatible mode.  Sets the 'compatible' option.  You can use
		this to get 'compatible', even though a .vimrc file exists.
		Keep in mind that the command ":set nocompatible" in some
		plugin or startup script overrules this, so you may end up
		with 'nocompatible' anyway.  To find out, use: >
			:verbose set compatible?
<		Several plugins won't work with 'compatible' set.  You may
		want to set it after startup this way: >
			vim "+set cp" filename
<		Also see |compatible-default|.  {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-C}
@cindex -C
@cindex 互換モードで起動する
@item -C
互換モード。オプション '@option{compatible}' をオンに設定する。@file{.vimrc} ファイルが存在する場合にも Vi との互換性を得ることができる。プラグインや起動時スクリプトで "@command{:set nocompatible}" とするとこのオプションより優先されるため、起動後には '@option{nocompatible}' になってしまうだろう。どこで最後に設定されたかを調べるには次のコマンドを使う:
@example
:verbose set compatible?
@end example
'@option{compatible}' がオンになっていると動かないプラグインもある。起動処理の後でこれをセットするにはこのようにする:
@example
vim "+set cp" filename
@end example
|@ref{compatible-default}| も参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-N*
-N		Not compatible mode.  Resets the 'compatible' option.  You can
		use this to get 'nocompatible', when there is no .vimrc file
		or when using "-u NONE".
		Also see |compatible-default|.  {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-N}
@cindex -N
@cindex 非互換モードで起動する
@item -N
非互換モード。オプション '@option{compatible}' をオフに設定する。@file{.vimrc} ファイルがないときや、"-u NONE" としているときに、'@option{nocompatible}' (Vim の拡張を有効) にすることができる。|@ref{compatible-default}| も参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-y* *easy*
-y		Easy mode.  Implied for |evim| and |eview|.  Starts with
		'insertmode' set and behaves like a click-and-type editor.
		This sources the script $VIMRUNTIME/evim.vim.  Mappings are
		set up to work like most click-and-type editors, see
		|evim-keys|.  The GUI is started when available.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-y}
@anchor{easy}
@cindex -y
@cindex easy
@cindex 簡易モードで起動する
@item -y
簡易モード。|@ref{evim}| や |@ref{eview}| と同じ。'@option{insertmode}' をオンに設定して起動し、モードレスエディタのように振舞う。このスイッチを指定すると、$VIMRUNTIME/evim.vim が自動的に読み込まれ、一般的なエディタと同じ操作ができるようなマッピングが設定される。

|@ref{evim-keys}| を参照。利用可能なら GUI が使用される。

@{Vi にはない @}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-n*
-n		No swap file will be used.  Recovery after a crash will be
		impossible.  Handy if you want to view or edit a file on a
		very slow medium (e.g., a floppy).
		Can also be done with ":set updatecount=0".  You can switch it
		on again by setting the 'updatecount' option to some value,
		e.g., ":set uc=100".
		NOTE: Don't combine -n with -b, making -nb, because that has a
		different meaning: |-nb|.
		'updatecount' is set to 0 AFTER executing commands from a
		vimrc file, but before the GUI initializations.  Thus it
		overrides a setting for 'updatecount' in a vimrc file, but not
		in a gvimrc file.  See |startup|.
		When you want to reduce accesses to the disk (e.g., for a
		laptop), don't use "-n", but set 'updatetime' and
		'updatecount' to very big numbers, and type ":preserve" when
		you want to save your work.  This way you keep the possibility
		for crash recovery.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-n}
@cindex -n
@item -n
スワップファイルを使用しない。クラッシュしたときに編集していたファイルを復旧することはできなくなる。フロッピーディスクのような非常に低速なメディアのファイルを読んだり編集したいときに有用である。":set updatecount=0" と設定するのと同じである。オプション '@option{updatecount}' に 0 より大きい値を設定することで、スワップファイルの使用を有効にすることができる。例、":set uc=100"。
@quotation
@strong{Note:} @*
-n と -b を合わせて -nb としないこと。-nb には別の意味がある: |@ref{-nb}|
@end quotation
@file{vimrc} ファイルの実行解釈の直後で、GUI が初期化される前に '@option{updatecount}' が 0 に設定される。よって @file{vimrc} ファイルの中で '@option{updatecount}' を設定しても上書きされてしまうが、@file{gvimrc} での設定は上書きされない。|@ref{startup}| を参照。ディスクへのアクセスを減らしたいのならば (ノート PC を使用している場合など)、"-n" を使用する替わりに、'@option{updatetime}' を設定し、'@option{updatecount}' に非常に大きい値を設定して、編集中のファイルを保存する時に "@command{:preserve}" を利用すると良い。この方法だとクラッシュからの復旧の可能性を保てる。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-o*
-o[N]		Open N windows, split horizontally.  If [N] is not given,
		one window is opened for every file given as argument.  If
		there is not enough room, only the first few files get a
		window.  If there are more windows than arguments, the last
		few windows will be editing an empty file.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-o}
@cindex -o
@item -o[N]
N 個のウィンドウを水平分割して開く。[N] が与えられない場合には、引数で指定された全てのファイルに対して 1 個のウィンドウが開かれる。画面に十分な広さがない場合には、始めのほうの数個のファイルだけがウィンドウを伴って表示される。逆にファイルの数よりもウィンドウの数が多く指定された場合、多い分のウィンドウは空ファイルの編集用として開かれる。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-O*
-O[N]		Open N windows, split vertically.  Otherwise it's like -o.
		If both the -o and the -O option are given, the last one on
		the command line determines how the windows will be split.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-O}
@cindex -O
@item -O[N]
N 個のウィンドウを垂直分割して開く。それ以外は |@ref{-o}| と同じ。-o と -O が両方指定されたときは最後に指定された方を使用する。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-p*
-p[N]		Open N tab pages.  If [N] is not given, one tab page is opened
		for every file given as argument.  The maximum is set with
		'tabpagemax' pages (default 10).  If there are more tab pages
		than arguments, the last few tab pages will be editing an
		empty file.  Also see |tabpage|.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-p}
@cindex -p
@item -p[N]
N 個のタブページを開く。[N] が省略されると、引数として与えられた各ファイルに対し1つずつタブページを開く。最大値は '@option{tabpagemax}' ページ(既定値は 10)である。引数よりも多くのタブページが作られる場合は、最後の数個のタブページは空ファイルを開く。|@ref{tabpage}| も参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-T*
-T {terminal}	Set the terminal type to "terminal".  This influences the
		codes that Vim will send to your terminal.  This is normally
		not needed, because Vim will be able to find out what type
		of terminal you are using.  (See |terminal-info|.)  {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-T}
@cindex -T
@item -T @{terminal@}
端末の種類を "terminal" に設定する。これは Vim がユーザーの端末へ送るコードに影響を与える。Vim はユーザーが使用している端末の種類を自分で判断することができるので、通常これは必要がない (|@ref{terminal-info}| を参照)。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*--not-a-term*
--not-a-term	Tells Vim that the user knows that the input and/or output is
		not connected to a terminal.  This will avoid the warning and
		the two second delay that would happen.
		Also avoids the "Reading from stdin..." message.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--not-a-term}
@cindex @minus{}@minus{}not-a-term
@item @minus{}@minus{}not-a-term
入力と出力 (もしくはどちらか一方) が端末に接続されていないと、ユーザーが知っていることを Vim に伝える。これにより警告が表示され 2 秒間の遅延が発生するのを避けられる。

また、"Reading from stdin..." メッセージを回避する。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*--ttyfail*
--ttyfail	When the stdin or stdout is not a terminal (tty) then exit
		right away.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--ttyfail}
@cindex @minus{}@minus{}ttyfail
@item @minus{}@minus{}ttyfail
標準入力か標準出力が端末 (tty) でない場合、すぐに終了する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-d*
-d		Start in diff mode, like |vimdiff|.
		{not in Vi} {not available when compiled without the |+diff|
		feature}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-d}
@cindex -d
@cindex 差分モードで起動する
@item -d
差分モードで起動する。|@ref{vimdiff}| と同じ。

@{Vi にはない@}

@{|@ref{+diff}| が有効な場合のみ利用可能@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
-d {device}	Only on the Amiga and when not compiled with the |+diff|
		feature.  Works like "-dev".
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item -d @{device@}
@{device@} Amiga 専用機能。|@ref{+diff}| が無効な場合のみ利用可能。|@ref{-dev}| と同じように機能する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
							*-dev*
-dev {device}	Only on the Amiga: The {device} is opened to be used for
		editing.
		Normally you would use this to set the window position and
		size: "-d con:x/y/width/height", e.g.,
		"-d con:30/10/600/150".  But you can also use it to start
		editing on another device, e.g., AUX:.  {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-dev}
@cindex -dev
@item -dev @{device@}
Amiga 専用機能: @{device@} が編集用に開かれる。普通、ウィンドウの位置とサイズを設定するために "-d con:x/y/width/height" の形式で指定する。例、"-d con:30/10/600/150"。しかしその他の AUX: のようなデバイスの編集を開始することにも使用できる。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
							*-f*
-f		GUI: Do not disconnect from the program that started Vim.
		'f' stands for "foreground".  If omitted, the GUI forks a new
		process and exits the current one.  "-f" should be used when
		gvim is started by a program that will wait for the edit
		session to finish (e.g., mail or readnews).  If you want gvim
		never to fork, include 'f' in 'guioptions' in your |gvimrc|.
		Careful: You can use "-gf" to start the GUI in the foreground,
		but "-fg" is used to specify the foreground color.  |gui-fork|

		Amiga: Do not restart Vim to open a new window.  This
		option should be used when Vim is started by a program that
		will wait for the edit session to finish (e.g., mail or
		readnews).  See |amiga-window|.

		MS-Windows: This option is not supported.  However, when
		running Vim with an installed vim.bat or gvim.bat file it
		works.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-f}
@cindex -f
@item -f
GUI: Vim を起動したプログラム(プロセス)から独立しない。'f' は "foreground" を意味する。省略すると、GUI 版の Vim は新しいプロセスへ fork して、現在のプロセスは終了してしまう。gvim の編集セッションが終わるのを待つプログラム (メールソフトやニュースリーダーなど) には、"-f" を使うべきだろう。gvim が fork しないようにするには、自分の @file{.gvimrc} の中で '@option{guioptions}' に '@var{f}' を加えれば良い。
@quotation
@strong{Note:} @*
"-gf" で GUI をフォアグラウンドで実行開始できるが、"-fg" だと前景色の設定になってしまう。|@ref{gui-fork}| 参照。

Amiga: Vim を新しいウィンドウで起動しない。編集作業が終わるのを待つプログラム (メールソフトやニュースリーダー) によって Vim が起動される時に、このオプションは使用される。|@ref{amiga-window}| を参照。

MS-Windows: このオプションはサポートされない。vim.bat や gvim.bat 経由で起動した場合は機能する。
@end quotation
@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
							*--nofork*
--nofork	GUI: Do not fork.  Same as |-f|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--nofork}
@cindex @minus{}@minus{}nofork
@item @minus{}@minus{}nofork
GUI: fork しない。|@ref{-f}| と同じ。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
							*-u* *E282*
-u {vimrc}	The file {vimrc} is read for initializations.  Most other
		initializations are skipped; see |initialization|.

		This can be used to start Vim in a special mode, with special
		mappings and settings.  A shell alias can be used to make
		this easy to use.  For example: >
			alias vimc vim -u ~/.c_vimrc !*
<		Also consider using autocommands; see |autocommand|.

		When {vimrc} is equal to "NONE" (all uppercase), all
		initializations from files and environment variables are
		skipped, including reading the |gvimrc| file when the GUI
		starts.  Loading plugins is also skipped.

		When {vimrc} is equal to "NORC" (all uppercase), this has the
		same effect as "NONE", but loading plugins is not skipped.

		When {vimrc} is equal to "DEFAULTS" (all uppercase), this has
		the same effect as "NONE", but the |defaults.vim| script is
		loaded, which will also set 'nocompatible'.

		Using the "-u" argument with another argument than DEFAULTS
		has the side effect that the 'compatible' option will be on by
		default.  This can have unexpected effects.  See
		|'compatible'|.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-u}
@anchor{E282}
@cindex -u
@cindex E282
@item -u @{vimrc@}
初期化のためにファイル @{vimrc@} が読込まれる。その他の初期化はスキップされる。|@ref{initialization}| を参照。

これにより特殊なマッピングや設定をした、特殊なモードで Vim を起動することができる。これを簡単に使用するにはシェルのエイリアスが使えるだろう。例:
@verbatim
alias vimc vim -u ~/.c_vimrc !*
@end verbatim
autocommand を使うことも考慮すべきである。|@ref{autocommand}| を参照。

@{vimrc@} に "NONE" (全て大文字)が指定された時には、設定ファイルや環境変数による初期化、@file{.gvimrc} による GUI の初期化も含め、全て省略される。プラグインも読み込まれない。

@{vimrc@} が "NORC" (全部大文字) のときは "NONE" と同じように処理されるが、プラグインは読み込まれる。

@{vimrc@} が "DEFAULTS" (全部大文字) のときは "NONE" と同じように処理されるが、|@ref{defaults.vim}| スクリプトが読み込まれる。また、'@option{nocompatible}' が設定される。

"DEFAULTS" 以外の引数と共に "-u" 引数を使用すると、副作用としてオプション '@option{compatible}' がデフォルトでオンに設定される。これは予期せぬ動作を引き起こすかもしれない。|@ref{'compatible'}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-U* *E230*
-U {gvimrc}	The file {gvimrc} is read for initializations when the GUI
		starts.  Other GUI initializations are skipped.  When {gvimrc}
		is equal to "NONE", no file is read for GUI initializations at
		all.  |gui-init|
		Exception: Reading the system-wide menu file is always done.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-U}
@anchor{E230}
@cindex -U
@cindex E230
@item -U @{gvimrc@}
GUI がスタートする時にファイル @{gvimrc@} が読込まれる。その他の GUI 初期化はスキップされる。@{gvimrc@} に NONE が指定された場合、初期化ファイルは何も読込まれない。|@ref{gui-init}|

例外: システムのメニューファイルは常に読込まれる。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-i*
-i {viminfo}	The file "viminfo" is used instead of the default viminfo
		file.  If the name "NONE" is used (all uppercase), no viminfo
		file is read or written, even if 'viminfo' is set or when
		":rv" or ":wv" are used.  See also |viminfo-file|.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-i}
@cindex -i
@item -i @{viminfo@}
デフォルトの @file{viminfo} の代わりにファイル @{viminfo@} を使用する。"NONE" (全て大文字)が指定された場合には、'@option{viminfo}' が指定されたり、":rv" や ":wv" が使われても、@file{viminfo} は読み書きともに使用されない。|@ref{viminfo-file}| 参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*--clean*
--clean		Equal to "-u DEFAULTS -U NONE -i NONE":
		- initializations from files and environment variables is
		  skipped
		- the |defaults.vim| script is loaded, which implies
		  'nocompatible': use Vim defaults
		- no |gvimrc| script is loaded
		- no viminfo file is read or written
		- the home directory is excluded from 'runtimepath'
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--clean}
@cindex @minus{}@minus{}clean
@item @minus{}@minus{}clean
"-u DEFAULTS -U NONE -i NONE" と同じ:
@itemize
@item ファイルや環境変数からの初期化はスキップされる。
@item |@ref{defaults.vim}| スクリプトが読み込まれる。これは '@option{nocompatible}' を含む: Vim のデフォルトを使う。
@item |@ref{gvimrc}| スクリプトは読み込まれない。
@item viminfo ファイルは読み書きされない。
@item the ホームディレクトリは '@option{runtimepath}' から除外される。
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-x*
-x		Use encryption to read/write files.  Will prompt for a key,
		which is then stored in the 'key' option.  All writes will
		then use this key to encrypt the text.  The '-x' argument is
		not needed when reading a file, because there is a check if
		the file that is being read has been encrypted, and Vim asks
		for a key automatically. |encryption|
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-x}
@cindex -x
@item -x
ファイルの読み書き時に暗号化を施す。暗号の鍵としてオプション '@option{key}' に設定された値を使用する。全ての書き込みは、テキストに対して鍵を使って暗号化を行ってから なされる。ファイルを読込む時には、Vim は暗号化ファイルかチェックし、自動的に鍵を聞いてくるので、引数 '-x' は必要でない。|@ref{encryption}|
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-X*
-X		Do not try connecting to the X server to get the current
		window title and copy/paste using the X clipboard.  This
		avoids a long startup time when running Vim in a terminal
		emulator and the connection to the X server is slow.
		See |--startuptime| to find out if affects you.
		Only makes a difference on Unix or VMS, when compiled with the
		|+X11| feature.  Otherwise it's ignored.
		To disable the connection only for specific terminals, see the
		'clipboard' option.
		When the X11 Session Management Protocol (XSMP) handler has
		been built in, the -X option also disables that connection as
		it, too, may have undesirable delays.
		When the connection is desired later anyway (e.g., for
		client-server messages), call the |serverlist()| function.
		This does not enable the XSMP handler though.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-X}
@cindex -X
@item -X
X サーバーと通信しない。そうして、カレントウィンドウのタイトルを取得したり、X のクリップボードを使ったコピー/ペーストを使用したりしない。端末エミュレータで Vim を使用するときにXサーバーとの通信速度が遅い場合にそれを回避できる。

効果があるか確かめるには |@ref{--startuptime}| を使ってみること。

Unix か VMS で |@ref{+X11}| が有効な場合のみ意味がある。特定の端末を使用するときだけ通信を無効にするには、オプション '@option{clipboard}' を参照。

X11 Session Management Protocol (XSMP) の処理が組み込まれている場合、その通信にも大きな延滞が生じるため、無効にする。(例えばクライアントとサーバーが通信するため)あとから X サーバーとの通信をつなげるには |@ref{serverlist()}| 関数を呼び出す。ただし XSMP の処理は有効にならない。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-s*
-s {scriptin}	The script file "scriptin" is read.  The characters in the
		file are interpreted as if you had typed them.  The same can
		be done with the command ":source! {scriptin}".  If the end
		of the file is reached before the editor exits, further
		characters are read from the keyboard.  Only works when not
		started in Ex mode, see |-s-ex|.  See also |complex-repeat|.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-s}
@cindex -s
@item -s @{scriptin@}
スクリプトファイル @{scriptin@} が読込まれる。ファイルの中のキャラクタは、全てユーザーがタイプしたものとして解釈される。エディタが終了する前にファイルの終端に達した場合、以降のキャラクタはキーボードから読込まれる。Ex モード動作時には働かない、|@ref{-s-ex}| を参照。|@ref{complex-repeat}| も参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-w_nr*
-w {number}
-w{number}	Set the 'window' option to {number}.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-w_nr}
@cindex -w_nr
@item -w @{number@}
@itemx -w@{number@}
オプション '@option{window}' を @{number@} に設定する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-w*
-w {scriptout}	All the characters that you type are recorded in the file
		"scriptout", until you exit Vim.  This is useful if you want
		to create a script file to be used with "vim -s" or
		":source!".  When the "scriptout" file already exists, new
		characters are appended.  See also |complex-repeat|.
		{scriptout} cannot start with a digit.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-w}
@cindex -w
@item -w @{scriptout@}
Vim を終了するまで、ユーザーが入力した全部の文字が記録され、ファイル @{scriptout@} に書き出される。これは "vim -s" や ":source!" で読込まれるスクリプトファイルを作成するのに役立つ。既にファイル "scriptout" が存在する場合には、そのファイルに追加保存する。|@ref{complex-repeat}| も参照。

@{scriptout@} は数字で始まってはならない。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*-W*
-W {scriptout}	Like -w, but do not append, overwrite an existing file.
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-W}
@cindex -W
@item -W @{scriptout@}
-w に似ているが、アペンド(追加)せずに、既にあるファイルを上書きする。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--remote [+{cmd}] {file} ...
		Open the {file} in another Vim that functions as a server.
		Any non-file arguments must come before this.
		See |--remote|. {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item @minus{}@minus{}remote [+@{cmd@}] @{file@} ...
サーバーとして機能している他の Vim で @{file@} を開く。この引数の前にファイルを指定することはできない。|@ref{--remote}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--remote-silent [+{cmd}] {file} ...
		Like --remote, but don't complain if there is no server.
		See |--remote-silent|. {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item @minus{}@minus{}remote-silent [+@{cmd@}] @{file@} ...
@minus{}@minus{}remote と同じ。ただしサーバーがなくてもメッセージを出さない。|@ref{--remote-silent}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--remote-wait [+{cmd}] {file} ...
		Like --remote, but wait for the server to finish editing the
		file(s).
		See |--remote-wait|. {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item @minus{}@minus{}remote-wait [+@{cmd@}] @{file@} ...
@minus{}@minus{}remote と同じ。ただしサーバーが終了するまで待機する。|@ref{--remote-wait}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--remote-wait-silent [+{cmd}] {file} ...
		Like --remote-wait, but don't complain if there is no server.
		See |--remote-wait-silent|. {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item @minus{}@minus{}remote-wait-silent [+@{cmd@}] @{file@} ...
@minus{}@minus{}remote-wait と同じ。ただしサーバーがなくてもメッセージを出さない。|@ref{--remote-wait-silent}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--servername {name}
		Specify the name of the Vim server to send to or to become.
		See |--servername|. {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item @minus{}@minus{}servername @{name@}
Vim サーバーの名前を指定する。これは通信先のサーバー名、あるいは起動する Vim が使用する名前である。|@ref{--servername}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--remote-send {keys}
		Send {keys} to a Vim server and exit.
		See |--remote-send|. {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item @minus{}@minus{}remote-send @{keys@}
@{keys@} を Vim サーバーに送り、終了する。|@ref{--remote-send}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--remote-expr {expr}
		Evaluate {expr} in another Vim that functions as a server.
		The result is printed on stdout.
		See |--remote-expr|. {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item @minus{}@minus{}remote-expr @{expr@}
Vim サーバーで @{expr@} を評価し、その結果を標準出力に出力する。|@ref{--remote-expr}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--serverlist	Output a list of Vim server names and exit.  See
		|--serverlist|. {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item @minus{}@minus{}serverlist
稼動している Vim サーバーの一覧を出力する。|@ref{--serverlist}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--socketid {id}						*--socketid*
		GTK+ GUI Vim only.  Make gvim try to use GtkPlug mechanism, so
		that it runs inside another window.  See |gui-gtk-socketid|
		for details. {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--socketid}
@cindex @minus{}@minus{}socketid
@item @minus{}@minus{}socketid @{id@}
GTK+ GUI の Vim のみ。GtkPlug を使用し、別アプリケーションのウィンドウで起動するようにする。詳細は |@ref{gui-gtk-socketid}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--windowid {id}						*--windowid*
		Win32 GUI Vim only.  Make gvim try to use the window {id} as a
		parent, so that it runs inside that window.  See
		|gui-w32-windowid| for details. {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--windowid}
@cindex @minus{}@minus{}windowid
@item @minus{}@minus{}windowid @{id@}
Win32 GUI の Vim のみ。ウィンドウ @{id@} を親ウィンドウにしようと試みる。成功するとそのウィンドウの内側で起動する。詳しくは |@ref{gui-w32-windowid}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--echo-wid						*--echo-wid*
		GTK+ GUI Vim only.  Make gvim echo the Window ID on stdout,
		which can be used to run gvim in a kpart widget.  The format
		of the output is: >
			WID: 12345\n
<		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--echo-wid}
@cindex @minus{}@minus{}echo-wid
@item @minus{}@minus{}echo-wid
GTK+ GUI の Vim のみ。ウィンドウの ID を標準出力に出力する。この値は gvim を kpart ウィジェットに埋め込むのに使用できる。出力の書式は:
@verbatim
WID: 12345\n
@end verbatim
@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
--role {role}						*--role*
		GTK+ 2 GUI only.  Set the role of the main window to {role}.
		The window role can be used by a window manager to uniquely
		identify a window, in order to restore window placement and
		such.  The --role argument is passed automatically when
		restoring the session on login.  See |gui-gnome-session|
		{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{--role}
@cindex @minus{}@minus{}role
@item @minus{}@minus{}role @{role@}
GTK+ 2 GUI のみ。メインウィンドウの役割 (role) を @{role@} に設定する。ウィンドウの役割はウィンドウマネージャーがウィンドウを識別して、ウィンドウの位置等を復元するのに使われる。この引数はログイン時にセッションを復元するときに自動的に使用される。|@ref{gui-gnome-session}| を参照。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
-P {parent-title}				*-P* *MDI* *E671* *E672*
		Win32 only: Specify the title of the parent application.  When
		possible, Vim will run in an MDI window inside the
		application.
		{parent-title} must appear in the window title of the parent
		application.  Make sure that it is specific enough.
		Note that the implementation is still primitive.  It won't
		work with all applications and the menu doesn't work.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-P}
@anchor{MDI}
@anchor{E671}
@anchor{E672}
@cindex -P
@cindex MDI
@cindex E671
@cindex E672
@item -P @{parent-title@}
Win32 のみ。親になるアプリケーションのタイトルを指定する。可能であれば Vim はその MDI アプリケーションのウィンドウ内で起動する。

@{parent-title@} が親アプリケーションのウィンドウのタイトルに使われていて、明確に区別できる必要がある。
@quotation
@strong{Note:} @*
まだ簡単に実装されているだけである。全てのアプリケーションで動くわけではない。メニューは機能しない。
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
-nb							*-nb*
-nb={fname}
-nb:{hostname}:{addr}:{password}
		Attempt connecting to Netbeans and become an editor server for
		it.  The second form specifies a file to read connection info
		from.  The third form specifies the hostname, address and
		password for connecting to Netbeans. |netbeans-run|
		{only available when compiled with the |+netbeans_intg|
		feature; if not then -nb will make Vim exit}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{-nb}
@cindex -nb
@item -nb -nb=@{fname@} -nb:@{hostname@}:@{addr@}:@{password@}
Netbeans と接続し、エディタサーバーになる。2 番目の型は接続情報を格納したファイルを指定する。3 番目の型は Netbeans に接続するためのホスト名、アドレス、パスワードを指定する。|@ref{netbeans-run}|
@end table
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
If the executable is called "view", Vim will start in Readonly mode.  This is
useful if you can make a hard or symbolic link from "view" to "vim".
Starting in Readonly mode can also be done with "vim -R".
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
実行ファイルが "view" だったならば、Vim は読込み専用モードで起動する。"view" から "vim" へハードリンクかシンボリックリンクを作成すると便利だろう。"vim -R" とすることでも読込み専用モードで起動できる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
If the executable is called "ex", Vim will start in "Ex" mode.  This means it
will accept only ":" commands.  But when the "-v" argument is given, Vim will
start in Normal mode anyway.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
実行ファイルの名前が "ex" ならば、Vim は Ex モードで起動する。これは ":" コマンドだけしか使えないことを意味している。しかし引数 "-v" が与えられれば、Vim は常にノーマルモードで起動する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Additional arguments are available on unix like systems when compiled with
X11 GUI support.  See |gui-resources|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
unix 互換のシステムで X11 GUI サポートが有効ならさらに多くの引数が利用可能である。|@ref{gui-resources}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
==============================================================================
2. Vim on the Amiga					*starting-amiga*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{starting-amiga}
@cindex starting-amiga
@cindex Amiga 版の Vim
@section 2. Amiga 版の Vim
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Starting Vim from the Workbench				*workbench*
-------------------------------
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{workbench}
@cindex workbench
@unnumberedsubsec Vim を Workbench から起動する
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Vim can be started from the Workbench by clicking on its icon twice.  It will
then start with an empty buffer.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Workbench 上でアイコンを 2 度クリックすれば Vim を起動することができる。そうすると
空のバッファで起動するだろう。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Vim can be started to edit one or more files by using a "Project" icon.  The
"Default Tool" of the icon must be the full pathname of the Vim executable.
The name of the ".info" file must be the same as the name of the text file.
By clicking on this icon twice, Vim will be started with the file name as
current file name, which will be read into the buffer (if it exists).  You can
edit multiple files by pressing the shift key while clicking on icons, and
clicking twice on the last one.  The "Default Tool" for all these icons must
be the same.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
"Project" アイコンを使用することで、1 つ以上のファイルを開くことができる。アイコンの "Default Tool" には Vim の実行ファイルの完全なパスを設定し、"@file{.info}" ファイルの名前には、編集するテキストファイルの名前を設定する。このアイコンを 2 度クリックすると、Vim が起動してそのファイルを開く(そのファイルがあれば)。シフトキーを押しながらアイコンをクリックし、最後のファイルを 2 度クリックすることで、複数のファイルを開くことができる。これら全てのアイコンの "Default Tool" は同じでなければならない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
It is not possible to give arguments to Vim, other than file names, from the
workbench.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Workbench からではファイル名以外の引数は、Vim へ与えることができない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Vim window						*amiga-window*
----------
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{amiga-window}
@cindex amiga-window
@unnumberedsubsec Vim ウィンドウ
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Vim will run in the CLI window where it was started.  If Vim was started with
the "run" or "runback" command, or if Vim was started from the workbench, it
will open a window of its own.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Vim は起動された CLI ウィンドウの中で動作する。Vim が "run" や "runback" コマンド、あるいや Workbench から起動された場合には、自分自身でウィンドウを開く。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Technical detail:
	To open the new window a little trick is used.  As soon as Vim
	recognizes that it does not run in a normal CLI window, it will
	create a script file in "t:".  This script file contains the same
	command as the one Vim was started with, and an "endcli" command.
	This script file is then executed with a "newcli" command (the "c:run"
	and "c:newcli" commands are required for this to work).  The script
	file will hang around until reboot, or until you delete it.  This
	method is required to get the ":sh" and ":!" commands to work
	correctly.  But when Vim was started with the -f option (foreground
	mode), this method is not used.  The reason for this is that
	when a program starts Vim with the -f option it will wait for Vim to
	exit.  With the script trick, the calling program does not know when
	Vim exits.  The -f option can be used when Vim is started by a mail
	program which also waits for the edit session to finish.  As a
	consequence, the ":sh" and ":!" commands are not available when the
	-f option is used.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@table @asis
@item 技術的詳細:
新しいウィンドウを開くためにちょっとしたトリックを使う。Vim は普通の CLI ウィンドウの中で起動されていないことを検出するとすぐに、"t:" にあるスクリプトファイルを作成する。このスクリプトファイルには Vim を起動したのと同じコマンドに加えて "endcli" コマンドが含まれている。このスクリプトファイルは "newcli" コマンドと一緒に実行される (これが行われる時には "c:run" と "c:newcli" コマンドが必要)。

スクリプトファイルはリブートするか、手動で消すまで存在しつづける。この方法は "@command{:sh}" と "@command{:!}" コマンドが正しく機能する必要がある。しかし Vim が -f オプション(フォアグラウンドモード)で起動された時には、この方法は使われない。Vim を -f オプションで起動した時には、その終了を待つからである。

スクリプトのトリックを使うと、Vim を呼び出したプログラムはその終了を知ることができない。オプション-fはメールプログラムなど編集のセッションが終わったことを 検出したい場合に、Vim を起動する方法として使用される。だからオプション -f が指定された時には、"@command{:sh}" と "@command{:!}" コマンドは使用することができない。
@end table
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Vim will automatically recognize the window size and react to window
resizing.  Under Amiga DOS 1.3, it is advised to use the fastfonts program,
"FF", to speed up display redrawing.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Vim は自動的にウィンドウのサイズを認識して対応する。Amiga DOS 1.3 の元では、表示の更新速度を上げるために、fastfonts のプログラム "FF" の支援を受けて動作する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
==============================================================================
3. Running eVim							*evim-keys*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{evim-keys}
@cindex evim-keys
@cindex eVim について
@section 3. eVim について
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
EVim runs Vim as click-and-type editor.  This is very unlike the original Vi
idea.  But it helps for people that don't use Vim often enough to learn the
commands.  Hopefully they will find out that learning to use Normal mode
commands will make their editing much more effective.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
EVim は Vim をモードレスエディタとして実行する。これは Vi らしくない発想ではあるが、Vim の操作方法を覚えられるほどには使用しない人の助けになる。ノーマルモードのコマンドを覚えることで編集作業がより簡単になるということを利用者が感付いてくれれば幸いである。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
In Evim these options are changed from their default value:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Evim では以下のオプションが標準設定から変更される:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	:set nocompatible	Use Vim improvements
	:set insertmode		Remain in Insert mode most of the time
	:set hidden		Keep invisible buffers loaded
	:set backup		Keep backup files (not for VMS)
	:set backspace=2	Backspace over everything
	:set autoindent		auto-indent new lines
	:set history=50		keep 50 lines of Ex commands
	:set ruler		show the cursor position
	:set incsearch		show matches halfway typing a pattern
	:set mouse=a		use the mouse in all modes
	:set hlsearch		highlight all matches for a search pattern
	:set whichwrap+=<,>,[,]  <Left> and <Right> wrap around line breaks
	:set guioptions-=a	non-Unix only: don't do auto-select
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@multitable @columnfractions .35 .65
@item :set nocompatible @tab Vi にはない Vim 独自の機能を使う
@item :set insertmode @tab 常時挿入モードを使用する
@item :set hidden @tab 非表示になったバッファを開放しない
@item :set backup @tab バックアップファイルを消さない (VMS 以外)
@item :set backspace=2 @tab どこでもバックスペースを使用できるようにする
@item :set autoindent @tab 新しい行を入力するときに自動的にインデントする
@item :set history=50 @tab Ex コマンドの使用履歴を 50 回前まで記録する
@item :set ruler @tab カーソルの位置を表示する
@item :set incsearch @tab 検索時、入力途中にマッチ箇所を表示する
@item :set mouse=a @tab 全てのモードでマウスを使う
@item :set hlsearch @tab 検索した文字を強調表示する
@item :set whichwrap+=<,>,[,] @tab @key{<Left>} と @key{<Right>} を使った左右の移動で行を跨ぐ
@item :set guioptions-=a @tab 非 Unix のみ。選択時に自動的にコピーしない
@end multitable
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Key mappings:
	<Down>		moves by screen lines rather than file lines
	<Up>		idem
	Q		does "gq", formatting, instead of Ex mode
	<BS>		in Visual mode: deletes the selection
	CTRL-X		in Visual mode: Cut to clipboard
	<S-Del>		idem
	CTRL-C		in Visual mode: Copy to clipboard
	<C-Insert>	idem
	CTRL-V		Pastes from the clipboard (in any mode)
	<S-Insert>	idem
	CTRL-Q		do what CTRL-V used to do
	CTRL-Z		undo
	CTRL-Y		redo
	<M-Space>	system menu
	CTRL-A		select all
	<C-Tab>		next window, CTRL-W w
	<C-F4>		close window, CTRL-W c
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
キーマッピング:
@multitable @columnfractions .25 .75
@item <Down> @tab 実際の行ではなく表示された行の単位で移動する
@item <Up> @tab 同上
@item Q @tab "gq" コマンドで文章整形する。
@item <BS> @tab ビジュアルモードで選択範囲を削除する
@item CTRL-X @tab ビジュアルモードで選択範囲を切り取ってクリップボードにコピーする
@item <S-Del> @tab 同上
@item CTRL-C @tab ビジュアルモードで選択範囲をクリップボードにコピーする
@item <C-Insert> @tab 同上
@item CTRL-V @tab クリップボードから貼り付ける (どのモードでも)
@item <S-Insert> @tab 同上
@item CTRL-Q @tab 本来の @kbd{CTRL-V} の機能
@item CTRL-Z @tab 元に戻す (undo)
@item CTRL-Y @tab やり直し (redo)
@item <M-Space> @tab システムメニューを表示
@item CTRL-A @tab 全てを選択する
@item <C-Tab> @tab 次のウィンドウへ。@kbd{CTRL-W w} と同じ
@item <C-F4> @tab ウィンドウを閉じる。@kbd{CTRL-W c} と同じ
@end multitable
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Additionally:
- ":behave mswin" is used |:behave|
- syntax highlighting is enabled
- filetype detection is enabled, filetype plugins and indenting is enabled
- in a text file 'textwidth' is set to 78
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
追記:
@itemize
@item ":behave mswin" が使用される |@ref{:behave}|
@item 構文強調表示が有効になる
@item ファイルタイプ別の機能が有効になる。ファイルタイプ用のプラグインやインデントが使用される。
@item テキストファイルでは '@option{textwidth}' が 78 に設定される
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
One hint: If you want to go to Normal mode to be able to type a sequence of
commands, use CTRL-L. |i_CTRL-L|
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@strong{Hint:} @*
ノーマルモードのコマンドを連続して使用するには @kbd{CTRL-L} を使用する。|@ref{i_CTRL-L}|
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
==============================================================================
4. Initialization				*initialization* *startup*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{initialization}
@anchor{startup}
@cindex initialization
@cindex startup
@cindex 初期化
@unnumberedsubsec 初期化
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
This section is about the non-GUI version of Vim.  See |gui-fork| for
additional initialization when starting the GUI.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
このセクションは Vim の非 GUI バージョンについて書く。GUI をスタートさせた時の追加の初期化は |@ref{gui-fork}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
At startup, Vim checks environment variables and files and sets values
accordingly.  Vim proceeds in this order:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
スタート時に、Vim は環境変数とファイルを調べ、然るべく値を設定する。Vim はこの順序で取り掛かる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
1. Set the 'shell' and 'term' option		*SHELL* *COMSPEC* *TERM*
	The environment variable SHELL, if it exists, is used to set the
	'shell' option.  On MS-DOS and Win32, the COMSPEC variable is used
	if SHELL is not set.
	The environment variable TERM, if it exists, is used to set the 'term'
	option.  However, 'term' will change later when starting the GUI (step
	8 below).
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{SHELL}
@anchor{COMSPEC}
@anchor{TERM}
@cindex SHELL
@cindex COMSPEC
@cindex TERM
@enumerate
@item オプション '@option{shell}' と '@option{term}' を設定する
環境変数 @env{SHELL} が存在するならば、オプション '@option{shell}' を設定するのに使われる。MS-DOS と Win32 では @env{SHELL} が設定されていない場合 @env{COMSPEC} の値が使用される。

環境変数 @env{TERM} が存在するならば、オプション '@option{term}' を設定するのに使われる。しかし、後で GUI を開始するときに '@option{term}' は変更される(下のステップ 8 を参照)。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
2. Process the arguments
	The options and file names from the command that start Vim are
	inspected.  Buffers are created for all files (but not loaded yet).
	The |-V| argument can be used to display or log what happens next,
	useful for debugging the initializations.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item 引数を処理する
Vim を起動するときに指定したオプション引数やファイル名を調べる。指定されたファイルのバッファを作成する(まだ読み込まない)。引数 |@ref{-V}| を使うと、初期化処理のデバッグ用にこれ以降で起こることを表示したりログに書き出したりできる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
3. Execute Ex commands, from environment variables and/or files
	An environment variable is read as one Ex command line, where multiple
	commands must be separated with '|' or "<NL>".
								*vimrc* *exrc*
	A file that contains initialization commands is called a "vimrc" file.
	Each line in a vimrc file is executed as an Ex command line.  It is
	sometimes also referred to as "exrc" file.  They are the same type of
	file, but "exrc" is what Vi always used, "vimrc" is a Vim specific
	name.  Also see |vimrc-intro|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{vimrc}
@anchor{exrc}
@cindex vimrc
@cindex exrc
@item 環境変数とファイルの Ex コマンドを実行する
環境変数の値は 1 つの Ex コマンドラインとして読まれるので、複数のコマンドを実行したい時には '|' か "<NL>" で区切る必要がある。

"@file{vimrc}" ファイルは初期化コマンドを含んだファイルである。@file{vimrc} ファイルは 1 行ずつ Ex コマンドとして実行される。"exrc" とほぼ等価である。それらは同じタイプのファイルであるが、"exrc" が常に Vi によって使われるのに対して、"vimrc" は Vim 特有のものである。|@ref{vimrc-intro}| も参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	Places for your personal initializations:
		Unix		$HOME/.vimrc or $HOME/.vim/vimrc
		OS/2		$HOME/.vimrc, $HOME/vimfiles/vimrc
				or $VIM/.vimrc (or _vimrc)
		MS-Windows	$HOME/_vimrc, $HOME/vimfiles/vimrc
				or $VIM/_vimrc
		Amiga		s:.vimrc, home:.vimrc, home:vimfiles:vimrc
				or $VIM/.vimrc
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
個人の初期化ファイルの配置場所:
@multitable @columnfractions .2 .8
@item Unix @tab $HOME/.vimrc, $HOME/.vim/vimrc
@item OS/2 @tab $HOME/.vimrc, $HOME/vimfiles/vimrc, $VIM/.vimrc (または _vimrc)
@item MS-Windows @tab $HOME/_vimrc, $HOME/vimfiles/vimrc, $VIM/_vimrc
@item Amiga @tab s:.vimrc, home:.vimrc, home:vimfiles:vimrc, $VIM/.vimrc
@end multitable
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	The files are searched in the order specified above and only the first
	one that is found is read.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
初期化ファイルは上記の順に検索され、最初に見つかったものだけが読み込まれる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	RECOMMENDATION: Put all your Vim configuration stuff in the
	$HOME/.vim/ directory ($HOME/vimfiles/ for MS-Windows). That makes it
	easy to copy it to another system.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
推奨: Vim の設定ファイルは全て $HOME/.vim/ ディレクトリ (MS-Windows では $HOME/vimfiles/) に置くこと。そうすれば設定ファイルを別のシステムにコピーするのが容易になる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	If Vim was started with "-u filename", the file "filename" is used.
	All following initializations until 4. are skipped. $MYVIMRC is not
	set.
	"vim -u NORC" can be used to skip these initializations without
	reading a file.  "vim -u NONE" also skips loading plugins.  |-u|
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Vim が "-u filename" で起動された場合、デフォルトの vimrc の代わりに "filename" が使われる。続く初期化処理の 4. までがスキップされる。@env{$MYVIMRC} は設定されない。

"vim -u NORC" によりファイルを読み込むことなくこれらの初期化を省略することができる。"vim -u NONE" を使用するとさらにプラグインも読み込まない。|@ref{-u}|
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	If Vim was started in Ex mode with the "-s" argument, all following
	initializations until 4. are skipped.  Only the "-u" option is
	interpreted.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
起動引数 "-s" により Vim が Ex モードで起動されたならば、続く 4. までの初期化処理がスキップされる。オプション "-u" だけが処理される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
							*evim.vim*
     a. If vim was started as |evim| or |eview| or with the |-y| argument, the
	script $VIMRUNTIME/evim.vim will be loaded.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{evim.vim}
@cindex evim.vim
@itemize @bullet
@item a. Vim を |@ref{evim}| や |@ref{eview}| として、あるいは |@ref{-y}| 引数を指定して起動すると $VIMRUNTIME/evim.vim が実行される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
							*system-vimrc*
     b. For Unix, MS-DOS, MS-Windows, OS/2, VMS, Macintosh, RISC-OS and Amiga
	the system vimrc file is read for initializations.  The path of this
	file is shown with the ":version" command.  Mostly it's "$VIM/vimrc".
	Note that this file is ALWAYS read in 'compatible' mode, since the
	automatic resetting of 'compatible' is only done later.  Add a ":set
	nocp" command if you like.
	For the Macintosh the $VIMRUNTIME/macmap.vim is read.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{system-vimrc}
@cindex system-vimrc
@item b. Unix、MS-DOS、MS-Windows、OS/2、VMS、Macintosh、RISC-OS そして Amiga では、システムの vimrc ファイルが初期化のために読み込まれる。このファイルのパスは ":version" コマンドによって確認できる。普通は "$VIM/vimrc" である。
@quotation
@strong{Note:} @*
このファイルは 'compatible' モードであっても読み込まれる。'compatible' の自動リセットはこれが終わった後に行われることになっている。必要ならば "@command{:set nocp}" コマンドを追加する。
@end quotation
Macintosh では $VIMRUNTIME/macmap.vim が読み込まれる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	  *VIMINIT* *.vimrc* *_vimrc* *EXINIT* *.exrc* *_exrc* *$MYVIMRC*
     c. Five places are searched for initializations.  The first that exists
	is used, the others are ignored.  The $MYVIMRC environment variable is
	set to the file that was first found, unless $MYVIMRC was already set
	and when using VIMINIT.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{VIMINIT}
@anchor{.vimrc}
@anchor{_vimrc}
@anchor{EXINIT}
@anchor{.exrc}
@anchor{_exrc}
@anchor{$MYVIMRC}
@cindex VIMINIT
@cindex .vimrc
@cindex _vimrc
@cindex EXINIT
@cindex .exrc
@cindex _exrc
@cindex $MYVIMRC
@item c. 初期化のために 5 つの場所が検索される。最初に見つかったものが使用され、残りは無視される。ここまでで環境変数 @env{$MYVIMRC} が設定されていなく、VIMINIT を使っていないなら、@env{$MYVIMRC} に最初にみつかったファイルが設定される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	I   The environment variable VIMINIT (see also |compatible-default|) (*)
	    The value of $VIMINIT is used as an Ex command line.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@itemize @bullet
@item I 環境変数 @env{VIMINIT} (|@ref{compatible-default}| も参照) (*) その内容は Ex コマンドとして解釈される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	II  The user vimrc file(s):
		    "$HOME/.vimrc"	   (for Unix and OS/2) (*)
		    "$HOME/.vim/vimrc"	   (for Unix and OS/2) (*)
		    "s:.vimrc"		   (for Amiga) (*)
		    "home:.vimrc"	   (for Amiga) (*)
		    "home:vimfiles:vimrc"  (for Amiga) (*)
		    "$VIM/.vimrc"	   (for OS/2 and Amiga) (*)
		    "$HOME/_vimrc"	   (for MS-DOS and Win32) (*)
		    "$HOME/vimfiles/vimrc" (for MS-DOS and Win32) (*)
		    "$VIM/_vimrc"	   (for MS-DOS and Win32) (*)
		Note: For Unix, OS/2 and Amiga, when ".vimrc" does not exist,
		"_vimrc" is also tried, in case an MS-DOS compatible file
		system is used.  For MS-DOS and Win32 ".vimrc" is checked
		after "_vimrc", in case long file names are used.
		Note: For MS-DOS and Win32, "$HOME" is checked first.  If no
		"_vimrc" or ".vimrc" is found there, "$VIM" is tried.
		See |$VIM| for when $VIM is not set.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item II ユーザー vimrc ファイル:
@multitable @columnfractions .5 .5
@item "$HOME/.vimrc" @tab (for Unix and OS/2) (*)
@item "$HOME/.vim/vimrc" @tab (for Unix and OS/2) (*)
@item "s:.vimrc" @tab (for Amiga) (*)
@item "home:.vimrc" @tab (for Amiga) (*)
@item "home:vimfiles:vimrc" @tab (for Amiga) (*)
@item "$VIM/.vimrc" @tab (for OS/2 and Amiga) (*)
@item "$HOME/_vimrc" @tab (for MS-DOS and Win32) (*)
@item "$HOME/vimfiles/vimrc" @tab (for MS-DOS and Win32) (*)
@item "$VIM/_vimrc" @tab (for MS-DOS and Win32) (*)
@end multitable
@quotation
@strong{Note:} @*
Unix, OS/2 そして Amiga では、".vimrc" がなかった場合には、MS-DOS 互換のファイルシステムを使用することを考え、"_vimrc" も試みられる。MS-DOS と Win32 では "_vimrc" を探したあとで、ロングファイルネームの仕組みを使用して ".vimrc" が探される。
@end quotation
@quotation
@strong{Note:} @*
MS-DOS と Win32 では "$HOME" がまず検査される。"_vimrc" と ".vimrc" のどちらもない場合には、"$VIM" が調べられる。$VIM が設定されていない場合については |@ref{$VIM}| 参照。
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	III The environment variable EXINIT.
	    The value of $EXINIT is used as an Ex command line.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item III 環境変数 EXINIT。
その内容は Ex コマンドとして解釈される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	IV  The user exrc file(s).  Same as for the user vimrc file, but with
	    "vimrc" replaced by "exrc".  But only one of ".exrc" and "_exrc" is
	    used, depending on the system.  And without the (*)!
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item IV ユーザーの exrc ファイル。vimrc と同じだが、vimrc が exrc によって置き換えられている。しかし ".exrc" と "_exrc" のどちらか 1 つだけが使われる。これはシステムによる。(*) の注釈は適用されない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	V   The default vimrc file, $VIMRUNTIME/defaults.vim.  This sets up
	    options values and has "syntax on" and "filetype on" commands,
	    which is what most new users will want.  See |defaults.vim|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item V デフォルトの $VIMRUNTIME/defaults.vim を読み込む。これは、大半の新規ユーザーが必要するであろう各種オプションを設定し、"syntax on" 及び "filetype on" コマンドを含んでいる。|@ref{defaults.vim}| を参照。
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
     d. If the 'exrc' option is on (which is NOT the default), the current
	directory is searched for three files.  The first that exists is used,
	the others are ignored.
	-  The file ".vimrc" (for Unix, Amiga and OS/2) (*)
		    "_vimrc" (for MS-DOS and Win32) (*)
	-  The file "_vimrc" (for Unix, Amiga and OS/2) (*)
		    ".vimrc" (for MS-DOS and Win32) (*)
	-  The file ".exrc"  (for Unix, Amiga and OS/2)
		    "_exrc"  (for MS-DOS and Win32)
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item d. '@option{exrc}' オプションがオン (初期状態ではオフ) の場合、現在のディレクトリで 3 つのファイルが検索される。最初に見つかったものだけが使用され、残りは無視される。
@multitable @columnfractions .2 .8
@item - The file @tab ".vimrc" (for Unix, Amiga and OS/2) (*)
@item @tab "_vimrc" (for MS-DOS and Win32) (*)
@item - The file @tab "_vimrc" (for Unix, Amiga and OS/2) (*)
@item @tab ".vimrc" (for MS-DOS and Win32) (*)
@item - The file @tab ".exrc"  (for Unix, Amiga and OS/2)
@item @tab "_exrc"  (for MS-DOS and Win32)
@end multitable
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
     (*) Using this file or environment variable will cause 'compatible' to be
	 off by default.  See |compatible-default|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
(*) このファイルを使用するか環境変数を使用した場合、自動的に '@option{compatible}' オプションがオフに設定される。|@ref{compatible-default}| を参照。
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
     Note: When using the |mzscheme| interface, it is initialized after loading
     the vimrc file.  Changing 'mzschemedll' later has no effect.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@quotation
@strong{Note:} @*
|@ref{mzscheme}| インターフェイスを使っている時、これは @file{vimrc} ファイルが読み込まれたあとに初期化されることに注意。後で '@option{mzschemedll}' を変更しても効果はない。
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
4. Load the plugin scripts.					*load-plugins*
	This does the same as the command: >
		:runtime! plugin/**/*.vim
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{load-plugins}
@cindex load-plugins
@item プラグインスクリプトを読み込む
次のコマンドと同じことを実行する:
@example
:runtime! plugin/**/*.vim
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
<	The result is that all directories in the 'runtimepath' option will be
	searched for the "plugin" sub-directory and all files ending in ".vim"
	will be sourced (in alphabetical order per directory), also in
	subdirectories.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
オプション '@option{runtimepath}' に指定された各ディレクトリのサブディレクトリ "plugin" にある拡張子が ".vim" となっているファイルを実行する(各ディレクトリごとに名前順で実行される)。サブディレクトリに対しても再帰的に検索される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	However, directories in 'runtimepath' ending in "after" are skipped
	here and only loaded after packages, see below.
	Loading plugins won't be done when:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
ただし "after" において変更した '@option{runtimepath}' 内のディレクトリはこの手順をスキップし、after パッケージだけを読み込む。下の説明を参照。次の場合にはプラグインを読み込まない:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	- The 'loadplugins' option was reset in a vimrc file.
	- The |--noplugin| command line argument is used.
	- The |--clean| command line argument is used.
	- The "-u NONE" command line argument is used |-u|.
	- When Vim was compiled without the |+eval| feature.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@itemize
@item vimrc ファイルでオプション '@option{loadplugins}' がオフに設定された。
@item 起動時の引数に |@ref{--noplugin}| が指定された。
@item 起動時の引数に |@ref{--clean}| が指定された。
@item 起動時の引数に "-u NONE" が指定された |@ref{-u}|。
@item |@ref{+eval}| の機能を無効にして Vim をコンパイルした。
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	Note that using "-c 'set noloadplugins'" doesn't work, because the
	commands from the command line have not been executed yet.  You can
	use "--cmd 'set noloadplugins'" or "--cmd 'set loadplugins'" |--cmd|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@quotation
@strong{Note:} @*
引数に "-c set noloadplugins" と指定しても意味がない。このコマンドはこの時点ではまだ実行されない。"--cmd 'set noloadplugins'" または "--cmd 'set loadplugins'" とすればよい。|@ref{--cmd}|
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	Packages are loaded.  These are plugins, as above, but found in the
	"start" directory of each entry in 'packpath'.  Every plugin directory
	found is added in 'runtimepath' and then the plugins are sourced.  See
	|packages|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
パッケージが読み込まれる。'@option{packpath}' 内の各エントリの "start" ディレクトリの下で見つかったプラグインだけが上記の要領で読み込まれる。見つけた plugin ディレクトリはすべて '@option{runtimepath}' に追加され、すべてのプラグインが読み込まれる。詳細は |@ref{packages}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	The plugins scripts are loaded, as above, but now only the directories
	ending in "after" are used.  Note that 'runtimepath' will have changed
	if packages have been found, but that should not add a directory
	ending in "after".
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
プラグインスクリプトが読み込まれるが、しかし上で言及したように、ここでは "after" で終わるディレクトリに限られる。パッケージが見つかった際には '@option{runtimepath}' が変更されるが、"after" で終わるディレクトリは追加されないことに注意。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
5. Set 'shellpipe' and 'shellredir'
	The 'shellpipe' and 'shellredir' options are set according to the
	value of the 'shell' option, unless they have been set before.
	This means that Vim will figure out the values of 'shellpipe' and
	'shellredir' for you, unless you have set them yourself.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item '@option{shellpipe}' と '@option{shellredir}' を設定する
それ以前に設定されていなければ、'shell' オプションに従って '@option{shellpipe}' と '@option{shellredir}' オプションが設定される。つまり自分で設定しなくても、Vim が適切な '@option{shellpipe}' と '@option{shellredir}' の値を設定してくれる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
6. Set 'updatecount' to zero, if "-n" command argument used
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item "-n" コマンド引数が使用されていたら、'@option{updatecount}' を 0 に設定する
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
7. Set binary options
	If the "-b" flag was given to Vim, the options for binary editing will
	be set now.  See |-b|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item バイナリオプションを設定する
Vim の起動時に "-b" フラグが与えられた場合、この時点でバイナリ編集用のフラグが設定される。|@ref{-b}| 参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
8. Perform GUI initializations
	Only when starting "gvim", the GUI initializations will be done.  See
	|gui-init|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item GUI の初期化を行う
"gvim" として起動された場合、GUI の初期化が行われる。|@ref{gui-init}| 参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
9. Read the viminfo file
	If the 'viminfo' option is not empty, the viminfo file is read.  See
	|viminfo-file|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item viminfo ファイルを読み込む
'@option{viminfo}' オプションが空でなければ、viminfo ファイルが読み込まれる。|@ref{viminfo-file}| 参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
10. Read the quickfix file
	If the "-q" flag was given to Vim, the quickfix file is read.  If this
	fails, Vim exits.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item  quickfix ファイルを読み込む
Vim に "-q" フラグが与えられた場合、quickfix ファイルが読み込まれる。これに失敗すると Vim は終了する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
11. Open all windows
	When the |-o| flag was given, windows will be opened (but not
	displayed yet).
	When the |-p| flag was given, tab pages will be created (but not
	displayed yet).
	When switching screens, it happens now.  Redrawing starts.
	If the "-q" flag was given to Vim, the first error is jumped to.
	Buffers for all windows will be loaded.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item 全てのウィンドウを開く
|@ref{-o}| フラグが与えられた場合、ウィンドウが開く(しかしまだ表示されない)。|@ref{-p}| フラグが与えられた場合、タブページが作られる(しかしまだ表示されない)。

スクリーンが切り替えられると、描画が始まる。"-q" フラグが Vim に与えられた場合、最初のエラーにジャンプする。全てのバッファがロードされる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
12. Execute startup commands
	If a "-t" flag was given to Vim, the tag is jumped to.
	The commands given with the |-c| and |+cmd| arguments are executed.
	If the 'insertmode' option is set, Insert mode is entered.
	The starting flag is reset, has("vim_starting") will now return zero.
	The |v:vim_did_enter| variable is set to 1.
	The |VimEnter| autocommands are executed.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item スタートアップコマンドが実行される
"-t" フラグが Vim に与えられた場合、タグにジャンプする。
|@ref{-c}| と |@ref{+cmd}| 引数で与えられたコマンドが実行される。
'@option{insertmode}' オプションがセットされていると、挿入モードに入る。
スタートフラグがリセットされ、has("vim_starting") がゼロを返すようになる。
|@ref{v:vim_did_enter}| 変数が 1 にセットされる。
|@ref{VimEnter}| の autocommand が実行される。
@end enumerate
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
The $MYVIMRC or $MYGVIMRC file will be set to the first found vimrc and/or
gvimrc file.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
最初に見つかった vimrc, gvimrc が @env{$MYVIMRC}, @env{$MYGVIMRC} に設定される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
Some hints on using initializations ~
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@cindex 初期化のヒント
@unnumberedsubsec 初期化のヒント
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Standard setup:
Create a vimrc file to set the default settings and mappings for all your edit
sessions.  Put it in a place so that it will be found by 3b:
	~/.vimrc	(Unix and OS/2)
	s:.vimrc	(Amiga)
	$VIM\_vimrc	(MS-DOS and Win32)
Note that creating a vimrc file will cause the 'compatible' option to be off
by default.  See |compatible-default|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@table @asis
@item スタンダードセットアップ:
全ての編集セッションに有効な、デフォルト設定とキーマッピングを設定する vimrc ファイルを作成する。それを既に 3b で述べた位置に置く:
@multitable @columnfractions .5 .5
@item ~/.vimrc @tab (Unix and OS/2)
@item s:.vimrc @tab (Amiga)
@item $VIM\_vimrc @tab (MS-DOS and Win32)
@end multitable
@quotation
@strong{Note:} @*
vimrc ファイルを作るとデフォルトで '@option{compatible}' オプションがオフに設定される。|@ref{compatible-default}| 参照。
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Local setup:
Put all commands that you need for editing a specific directory only into a
vimrc file and place it in that directory under the name ".vimrc" ("_vimrc"
for MS-DOS and Win32).  NOTE: To make Vim look for these special files you
have to turn on the option 'exrc'.  See |trojan-horse| too.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item ローカルセットアップ:
特定のディレクトリだけにおいて編集時に必要になるコマンドを vimrc ファイルに書き、そのディレクトリに ".vimrc" (MS-DOS と Win32 は "_vimrc") という名前で置く。
@quotation
@strong{Note:} @*
Vim に、これらのファイルを見るように指定するには、'@option{exrc}' オプションをオンにする必要がある。|@ref{trojan-horse}| (トロイの木馬)も参照。
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
System setup:
This only applies if you are managing a Unix system with several users and
want to set the defaults for all users.  Create a vimrc file with commands
for default settings and mappings and put it in the place that is given with
the ":version" command.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item システムセットアップ:
これは複数人で使う UNIX システムを管理し、全員のデフォルト設定を行いたい時に適用される。デフォルト設定とキーマッピングを行うコマンドを @file{vimrc} ファイルに記述し、"@command{:version}" コマンドで表示される場所に置く。
@end table
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
Saving the current state of Vim to a file ~
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@cindex Vim の現在状態をファイルに保存する
@unnumberedsubsec Vim の現在状態をファイルに保存する
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Whenever you have changed values of options or when you have created a
mapping, then you may want to save them in a vimrc file for later use.  See
|save-settings| about saving the current state of settings to a file.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
オプションの値を変えたときや、キーマッピングを作成した時には、それらを後で再利用するために vimrc ファイルに保存したいだろう。現在の設定状態をファイルに保存するためには |@ref{save-settings}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
Avoiding setup problems for Vi users ~
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@cindex Vi ユーザーの設定の問題の回避
@unnumberedsubsec Vi ユーザーの設定の問題の回避
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Vi uses the variable EXINIT and the file "~/.exrc".  So if you do not want to
interfere with Vi, then use the variable VIMINIT and the file "vimrc" instead.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Vi は環境変数 @env{EXINIT} とファイル "@file{~/.exrc}" を初期化に使用する。もし(Vim の設定が) Vi に干渉して欲しくないならば、それらを使う替わりに VIMINIT と vimrc を使用する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
Amiga environment variables ~
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@cindex Amiga の環境変数
@unnumberedsubsec Amiga の環境変数
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
On the Amiga, two types of environment variables exist.  The ones set with the
DOS 1.3 (or later) setenv command are recognized.  See the AmigaDos 1.3
manual.  The environment variables set with the old Manx Set command (before
version 5.0) are not recognized.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Amiga には 2 種類の環境変数が存在する。1 つは DOS 1.3 (かそれ以上) の setenv コマンドで、これは Vim によって認識される。Amiga Dos 1.3 のマニュアルを参照。古い Manx の Set コマンド(バージョン 5.0 以前)の環境変数は、認識されない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
MS-DOS line separators ~
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@cindex MS-DOS の行区切り文字
@unnumberedsubsec MS-DOS の行区切り文字
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
On MS-DOS-like systems (MS-DOS itself, Win32, and OS/2), Vim assumes that all
the vimrc files have <CR> <NL> pairs as line separators.  This will give
problems if you have a file with only <NL>s and have a line like
":map xx yy^M".  The trailing ^M will be ignored.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
MS-DOS 風 (MS-DOS 自身、Win32、そして OS/2)では、全ての vimrc ファイルは行区切文字として <CR> <NL> を使用していると仮定する。<NL> だけを行区切文字として持つファイルや、":map xx yy^M" のような設定のファイルを使う場合、問題を引き起こす。末尾の @samp{^M} は無視されてしまうだろう。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
Vi compatible default value ~
						     *compatible-default*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{compatible-default}
@cindex compatible-default
@cindex Vi と互換性のあるデフォルトの値
@unnumberedsubsec Vi と互換性のあるデフォルトの値
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
When Vim starts, the 'compatible' option is on.  This will be used when Vim
starts its initializations.  But as soon as:
- a user vimrc file is found, or
- a vimrc file in the current directory is found, or
- the "VIMINIT" environment variable is set, or
- the "-N" command line argument is given, or
- the "--clean" command line argument is given, or
- the |defaults.vim| script is loaded, or
- a gvimrc file was found,
then the option will be set to 'nocompatible'.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Vim が起動すると、オプション '@option{compatible}' がオンに設定される。これは初期化時に使用される。しかし以下の条件のいずれかに当てはまると、直ちに '@option{nocompatible}' が設定される。
@itemize
@item ユーザーの vimrc ファイルが見つかる
@item カレントディレクトリに vimrc ファイルが見つかる
@item 環境変数 "VIMINIT" が設定されている
@item 起動引数 "-N" が指定されている
@item 起動引数 "--clean" が指定されている
@item |@ref{defaults.vim}| スクリプトがロードされる
@item gvimrc が見つかる
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Note that this does NOT happen when a system-wide vimrc file was found.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
上記はシステムの vimrc ファイルでは発生しないことに注意。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
This has the side effect of setting or resetting other options (see
'compatible').  But only the options that have not been set or reset will be
changed.  This has the same effect like the value of 'compatible' had this
value when starting Vim.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
これには他のオプションを設定やリセットする副作用がある('@option{compatible}' 参照)。しかし変更されるのは、設定やリセットされていないオプションに限られる。これは、Vim 起動時に '@option{compatible}' の値に起こるのと同様の作用となる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
'compatible' is NOT reset, and |defaults.vim| is not loaded:
- when Vim was started with the |-u| command line argument, especially with
  "-u NONE", or
- when started with the |-C| command line argument, or
- when the name of the executable ends in "ex". (This has been done to make
  Vim behave like "ex", when it is started as "ex")
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
'@option{compatible}' はリセットされず、|@ref{defaults.vim}| が読み込まれない:
@itemize
@item Vimが |@ref{-u}| 起動引数で起動され、特にそれが "-u NONE" であった。または…
@item |@ref{-C}| 起動引数で起動された。または…
@item 実行ファイルの名前が "ex" で終わっていた。(これは Vim を "ex" として起動した場合には、"ex" のように動作させるための仕様である)
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
But there is a side effect of setting or resetting 'compatible' at the moment
a .vimrc file is found: Mappings are interpreted the moment they are
encountered.  This makes a difference when using things like "<CR>".  If the
mappings depend on a certain value of 'compatible', set or reset it before
giving the mapping.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
'@option{compatible}' を .vimrc で設定すると副作用が発生する。マッピングは見つかった時点で解釈されるので、"<CR>" のようなものを使う時に違いが生じる。もしもマッピングが '@option{compatible}' の値に依存している場合、そのマッピングを定義する前に '@option{compatible}' を設定する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
Defaults without a .vimrc file ~
							*defaults.vim*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{defaults.vim}
@cindex defaults.vim
@cindex .vimrc ファイルが無い際のデフォルト
@unnumberedsubsec .vimrc ファイルが無い際のデフォルト
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
If Vim is started normally and no user vimrc file is found, the
$VIMRUNTIME/defaults.vim script is loaded.  This will set 'compatible' off,
switch on syntax highlighting and a few more things.  See the script for
details.  NOTE: this is done since Vim 8.0, not in Vim 7.4. (it was added in
patch 7.4.2111 to be exact).
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Vim を普通に起動してユーザー vimrc ファイルが見つからない場合には、$VIMRUTIME/defaults.vim スクリプトが読みこまれる。このスクリプトは '@option{compatible}' をオフにし、シンタックスハイライトを有効にする他、幾つかのことを実施する。詳細はそのスクリプトを参照せよ。
@quotation
@strong{Note:} @*
これは正確には Vim 8.0 からではなく 7.4.2111 から導入された。
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
This should work well for new Vim users.  If you create your own .vimrc, it is
recommended to add these lines somewhere near the top: >
	unlet! skip_defaults_vim
	source $VIMRUNTIME/defaults.vim
Then Vim works like before you had a .vimrc. Copying $VIMRUNTIME/vimrc_example
is way to do this.  Alternatively, you can copy defaults.vim to your .vimrc
and modify it (but then you won't get updates when it changes).
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
これは Vim の新規ユーザーにとって良く機能する。自分で .vimrc を作る際には、その最上部のほうに以下の 2 行を追加することが推奨される:
@verbatim
unlet! skip_defaults_vim
source $VIMRUNTIME/defaults.vim
@end verbatim
$VIMRUNTIME/vimrc_example をコピーすることでも、同じことができる。他の方法として、defaults.vim 自体をあなたの .vimrc にコピーし、変更をすることもできる。(ただしこの方法では、将来 defaults.vim が変更された際に、そのアップデートは反映されない)
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
If you don't like some of the defaults, you can still source defaults.vim and
revert individual settings.  See the defaults.vim file for hints on how to
revert each item.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
もしも defaults.vim の一部が気に入らない場合でも、まず defaults.vim を読み込んでから、個々の設定を変更することができる。個別の項目をどのように変更するべきかのヒントとして defaults.vim ファイルを参照せよ。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
						*skip_defaults_vim*
If you use a system-wide vimrc and don't want defaults.vim to change settings,
set the "skip_defaults_vim" variable.  If this was set and you want to load
defaults.vim from your .vimrc, first unlet skip_defaults_vim, as in the
example above.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{skip_defaults_vim}
@cindex skip_defaults_vim
システムワイドの vimrc を使っていて defaults.vim を使いたくない場合には、"skip_defaults_vim" 変数を設定する。これが設定された状態で、自分の .vimrc で defaults.vim を読み込みたい場合には、上で示した例のように、最初に unlet skip_defaults_vim を行うと良い。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
Avoiding trojan horses ~
							*trojan-horse*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{trojan-horse}
@cindex trojan-horse
@cindex トロイの木馬を回避する
@unnumberedsubsec トロイの木馬を回避する
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
While reading the "vimrc" or the "exrc" file in the current directory, some
commands can be disabled for security reasons by setting the 'secure' option.
This is always done when executing the command from a tags file.  Otherwise it
would be possible that you accidentally use a vimrc or tags file that somebody
else created and contains nasty commands.  The disabled commands are the ones
that start a shell, the ones that write to a file, and ":autocmd".  The ":map"
commands are echoed, so you can see which keys are being mapped.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
現在のディレクトリにある "vimrc" や "exrc" を読み込むときに、'@option{secure}' オプションを設定することで、安全性のために幾つかのコマンドを無効にすることができる。タグファイル内のコマンドを実行する際にも常にこれが行われる。そうでないと他人が作成した悪意を持ったコマンドを、偶然実行してしまう可能性がある。使用不可になるコマンドは、シェルを起動するものと、ファイルに書き込むものと、そして "@command{:autocmd}" である。"@command{:map}" コマンドは表示され、どのようなマッピングがなされたか確認することができる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	If you want Vim to execute all commands in a local vimrc file, you
can reset the 'secure' option in the EXINIT or VIMINIT environment variable or
in the global "exrc" or "vimrc" file.  This is not possible in "vimrc" or
"exrc" in the current directory, for obvious reasons.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
ローカルな vimrc ファイル内で全てのコマンドを実行したい場合には、EXINIT か VIMINIT環境変数か、グローバルな "exrc" もしくは "vimrc" ファイルで '@option{secure}' オプションをオフに設定する。現在のディレクトリにある "vimrc" と "exrc" からは、理由は明らだが、これは設定できない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	On Unix systems, this only happens if you are not the owner of the
vimrc file.  Warning: If you unpack an archive that contains a vimrc or exrc
file, it will be owned by you.  You won't have the security protection.  Check
the vimrc file before you start Vim in that directory, or reset the 'exrc'
option.  Some Unix systems allow a user to do "chown" on a file.  This makes
it possible for another user to create a nasty vimrc and make you the owner.
Be careful!
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
UNIX システムでは、vimrc ファイルの所有権がユーザーにないときだけ '@option{secure}' が適用される。
@quotation
@strong{警告:} @*
vimrc か exrc を含むアーカイブを展開したときには、そのファイルはあなた自身のものになる。そこには安全性保護などない。Vim を起動する前に現在のディレクトリに vimrc ファイルがないかチェックするか、'@option{exrc}' オプションをオフに設定したほうが良い。幾つかの UNIX システムでは一般ユーザーがファイルに "chown" を行うことを許しているものがある。これは別のユーザーが悪意に満ちた vimrc を作成し、所有者を貴方にすることを可能にしている。注意されたし！
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	When using tag search commands, executing the search command (the last
part of the line in the tags file) is always done in secure mode.  This works
just like executing a command from a vimrc/exrc in the current directory.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
タグサーチコマンドを使う時には、実行されるサーチコマンド(タグファイルの各行の最後の部分)は常に安全なモードで行われる。これは現在のディレクトリにある vimrc/exrc からコマンドが実行されるのと、ちょうど同じように働く。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
If Vim startup is slow ~
							*slow-start*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{slow-start}
@cindex slow-start
@cindex Vim の起動が遅いときには
@unnumberedsubsec Vim の起動が遅いときには
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
If Vim takes a long time to start up, use the |--startuptime| argument to find
out what happens.  There are a few common causes:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Vim の起動に時間がかかる場合は |@ref{--startuptime}| 引数を使って原因を探すことができる。よくある原因としては次のようなものがある:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- If the Unix version was compiled with the GUI and/or X11 (check the output
  of ":version" for "+GUI" and "+X11"), it may need to load shared libraries
  and connect to the X11 server.  Try compiling a version with GUI and X11
  disabled.  This also should make the executable smaller.
  Use the |-X| command line argument to avoid connecting to the X server when
  running in a terminal.
- If you have "viminfo" enabled, the loading of the viminfo file may take a
  while.  You can find out if this is the problem by disabling viminfo for a
  moment (use the Vim argument "-i NONE", |-i|).  Try reducing the number of
  lines stored in a register with ":set viminfo='20,<50,s10".  |viminfo-file|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@itemize
@item
Unix で GUI や X11 を有効にしている場合 ("@command{:version}" の出力で "+GUI" と "+X11" をチェック)、共有ライブラリをロードし X11 サーバーに接続する必要がある。GUI と X11 を無効にしてコンパイルしたバージョンを試して欲しい。これにより実行ファイルが小さくもなるだろう。

CUI 端末で Vim を起動するときの引数に |@ref{-X}| を指定するとXサーバーと接続しないようにできる。

@item
"viminfo" を使用している場合、viminfo ファイルを読み込むのに少し時間がかかる。viminfo が原因ならば一時的に viminfo を無効にすることによって確認することができる (Vim を引数 "-i NONE" で起動する。|@ref{-i}|)。":set viminfo='20,<50,s10" と設定して、レジスタに保存される行数を減らしてみるのも良い。|@ref{viminfo-file}|。
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
Intro message ~
							*:intro*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{:intro}
@cindex :intro
@cindex 紹介メッセージ
@unnumberedsubsec 紹介メッセージ
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
When Vim starts without a file name, an introductory message is displayed (for
those who don't know what Vim is).  It is removed as soon as the display is
redrawn in any way.  To see the message again, use the ":intro" command (if
there is not enough room, you will see only part of it).
   To avoid the intro message on startup, add the 'I' flag to 'shortmess'.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
ファイル名を与えずに Vim を起動した場合、(Vim のことを知らない人に向けて)紹介メッセージが表示される。そのメッセージはなんらかの操作によって画面が再描画されるとすぐに消される。もう一度メッセージをみるには、"@command{:intro}" コマンドを使用する(表示するスペースがなければ一部だけが表示される)。

起動時に紹介メッセージを表示しないようにするには '@option{shortmess}' に '@var{I}' フラグを追加する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*info-message*
The |--help| and |--version| arguments cause Vim to print a message and then
exit.  Normally the message is sent to stdout, thus can be redirected to a
file with: >
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{info-message}
@cindex info-message
起動引数に |@ref{--help}| や |@ref{--version}| を指定すると Vim はメッセージを出力して終了する。通常はそのメッセージは標準出力に送られるので、リダイレクトしてファイルに書き込むことができる:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	vim --help >file
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@example
vim --help >file
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
From inside Vim: >
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Vim でその出力を取り込むには:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	:read !vim --help
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@example
:read !vim --help
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
When using gvim, it detects that it might have been started from the desktop,
without a terminal to show messages on.  This is detected when both stdout and
stderr are not a tty.  This breaks the ":read" command, as used in the example
above.  To make it work again, set 'shellredir' to ">" instead of the default
">&": >
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
gvim は標準出力と標準エラー出力が端末に繋がってないときに、自身がデスクトップから起動され、メッセージを出力する端末がないものと判断する。このせいで上記の "@command{:read}" コマンドを使用した例は使えない。使用できるようにするには '@option{shellredir}' を標準設定の "@var{>&}" から "@var{>}" へ変更する:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	:set shellredir=>
	:read !gvim --help
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@example
:set shellredir=>
:read !gvim --help
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
This still won't work for systems where gvim does not use stdout at all
though.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
しかしこのようにしても gvim が標準出力を使用しないようなシステムでは機能しない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
==============================================================================
5. $VIM and $VIMRUNTIME
								*$VIM*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{$VIM}
@cindex $VIM
@cindex $VIM と $VIMRUNTIME
@section 5. $VIM と $VIMRUNTIME
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
The environment variable "$VIM" is used to locate various user files for Vim,
such as the user startup script ".vimrc".  This depends on the system, see
|startup|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
環境変数の "@env{$VIM}" は、設定ファイル "@file{.vimrc}" のような、Vim が使用するさまざまなファイルの置き場所を見つけるために利用される。"@env{$VIM}" の値はシステムに依存する。|@ref{startup}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
To avoid the need for every user to set the $VIM environment variable, Vim
will try to get the value for $VIM in this order:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
全てのユーザーが環境変数 @env{$VIM} を設定しなくてすむように、Vim は次の順番で @env{$VIM} の値を決定する:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
1. The value defined by the $VIM environment variable.  You can use this to
   make Vim look in a specific directory for its support files.  Example: >
	setenv VIM /home/paul/vim
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@enumerate
@item
環境変数 @env{$VIM} が定義されていればそれを使う。@env{$VIM} を定義して Vim が使用するファイルをそのディレクトリから探し出すようにできる。例:
@verbatim
setenv VIM /home/paul/vim
@end verbatim
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
2. The path from 'helpfile' is used, unless it contains some environment
   variable too (the default is "$VIMRUNTIME/doc/help.txt": chicken-egg
   problem).  The file name ("help.txt" or any other) is removed.  Then
   trailing directory names are removed, in this order: "doc", "runtime" and
   "vim{version}" (e.g., "vim54").
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
'@option{helpfile}' が問題のある環境変数を含んでいなければその値を使う(標準設定は "$VIMRUNTIME/doc/help.txt" であり、これはニワトリと卵の問題を含んでいる)。ファイル名 ("help.txt" など) の部分は取り除かれる。そしてディレクトリ名の最後が "doc", "runtime", "vim@{version@}" (例えば "vim54")、のどれかならそれも取り除かれる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
3. For MSDOS, Win32 and OS/2 Vim tries to use the directory name of the
   executable.  If it ends in "/src", this is removed.  This is useful if you
   unpacked the .zip file in some directory, and adjusted the search path to
   find the vim executable.  Trailing directory names are removed, in this
   order: "runtime" and "vim{version}" (e.g., "vim54").
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
MSDOS、Win32、OS/2、では Vim の実行可能ファイルがあるディレクトリを使用する。ディレクトリ名の最後が "/src" ならそれは取り除かれる。配布されている Vim 一式の @file{.zip} ファイルをあるディレクトリに展開し、検索パスを調整して使っているようなら便利である。ディレクトリ名の最後が "runtime" か "vim@{version@}" (例えば "vim54") ならそれは取り除かれる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
4. For Unix the compile-time defined installation directory is used (see the
   output of ":version").
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
Unix ではコンパイル時に指定したインストール先のディレクトリを使用する ("@command{:version}" の出力を見て確認できる)。
@end enumerate
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Once Vim has done this once, it will set the $VIM environment variable.  To
change it later, use a ":let" command like this: >
	:let $VIM = "/home/paul/vim/"
<
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
このうちのどれかが使用できるなら Vim は環境変数 @env{$VIM} を設定する。あとからその値を変更するには "@command{:let}" コマンドを次のように使う:
@example
:let $VIM = "/home/paul/vim/"
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
								*$VIMRUNTIME*
The environment variable "$VIMRUNTIME" is used to locate various support
files, such as the on-line documentation and files used for syntax
highlighting.  For example, the main help file is normally
"$VIMRUNTIME/doc/help.txt".
You don't normally set $VIMRUNTIME yourself, but let Vim figure it out.  This
is the order used to find the value of $VIMRUNTIME:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{$VIMRUNTIME}
@cindex $VIMRUNTIME
環境変数の "@env{$VIMRUNTIME}" は、ヘルプファイルや構文強調表示の定義ファイルのような、Vim が使用するさまざまな支援ファイルの置き場所を見つけるために使用される。例えば、主要なヘルプファイルは通常は "$VIMRUNTIME/doc/help.txt" である。普通はユーザーが自分で @env{$VIMRUNTIME} を設定せずに、Vim に設定させる。Vim は次の順番で @env{$VIMRUNTIME} の値を探す:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
1. If the environment variable $VIMRUNTIME is set, it is used.  You can use
   this when the runtime files are in an unusual location.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@enumerate
@item
環境変数 @env{$VIMRUNTIME} が設定されていればそれを使う。ランタイムファイルを特殊な場所に置くときに設定する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
2. If "$VIM/vim{version}" exists, it is used.  {version} is the version
   number of Vim, without any '-' or '.'.  For example: "$VIM/vim54".  This is
   the normal value for $VIMRUNTIME.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
"$VIM/vim@{version@}" ディレクトリがあればそれを使う。@{version@} は Vim のバージョン番号から '-' や '.' を除いた物である。例えば "$VIM/vim54"。これは @env{$VIMRUNTIME} として一般的な値である。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
3. If "$VIM/runtime" exists, it is used.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
"$VIM/runtime" ディレクトリがあればそれを使う。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
4. The value of $VIM is used.  This is for backwards compatibility with older
   versions.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
@env{$VIM} の値を使う。これは古いバージョンとの互換性のためである。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
5. When the 'helpfile' option is set and doesn't contain a '$', its value is
   used, with "doc/help.txt" removed from the end.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
オプション '@option{helpfile}' が設定されていて '@var{$}' を含んでいないとき、その値を使用する。最後の "doc/help.txt" は取り除かれる。
@end enumerate
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
For Unix, when there is a compiled-in default for $VIMRUNTIME (check the
output of ":version"), steps 2, 3 and 4 are skipped, and the compiled-in
default is used after step 5.  This means that the compiled-in default
overrules the value of $VIM.  This is useful if $VIM is "/etc" and the runtime
files are in "/usr/share/vim/vim54".
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Unix でコンパイル時に @env{$VIMRUNTIME} の初期値を設定した場合 ("@command{:version}" の出力をみて確認できる)、2 から 4 は無視される。そして 5 を試したあとにコンパイル時に設定した値が使用される。つまり @env{$VIM} の値を使わずにコンパイル時に設定した値を使用するということである。これは @env{$VIM} が "@var{/etc}" でランタイムファイルが "/usr/share/vim/vim54" にあるような場合に便利である。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Once Vim has done this once, it will set the $VIMRUNTIME environment variable.
To change it later, use a ":let" command like this: >
	:let $VIMRUNTIME = "/home/piet/vim/vim54"
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
このうちのどれかが使用できるなら Vim は環境変数 @env{$VIMRUNTIME} を設定する。あとからその値を変更するには "@command{:let}" コマンドを次のように使う:
@example
:let $VIMRUNTIME = "/home/piet/vim/vim54"
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
In case you need the value of $VIMRUNTIME in a shell (e.g., for a script that
greps in the help files) you might be able to use this: >
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
シェル内で @env{$VIMRUNTIME} の値が必要な場合 (例えば、ヘルプファイルを grep するスクリプトなど)は、次のようにすれば得られる:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	VIMRUNTIME=`vim -e -T dumb --cmd 'exe "set t_cm=\<C-M>"|echo $VIMRUNTIME|quit' | tr -d '\015' `
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@example
VIMRUNTIME=`vim -e -T dumb --cmd 'exe "set t_cm=\<C-M>"|echo $VIMRUNTIME|quit' | tr -d '\015' `
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
==============================================================================
6. Suspending						*suspend*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{suspend}
@cindex suspend
@cindex サスペンド
@section 6. サスペンド
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
					*iconize* *iconise* *CTRL-Z* *v_CTRL-Z*
CTRL-Z			Suspend Vim, like ":stop".
			Works in Normal and in Visual mode.  In Insert and
			Command-line mode, the CTRL-Z is inserted as a normal
			character.  In Visual mode Vim goes back to Normal
			mode.
			Note: if CTRL-Z undoes a change see |mswin.vim|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{iconize}
@anchor{iconise}
@anchor{CTRL-Z}
@anchor{v_CTRL-Z}
@cindex iconize
@cindex iconise
@kindex CTRL-Z
@kindex v_CTRL-Z
@table @asis
@item CTRL-Z
"@command{:stop}" のように Vim をサスペンドする。ノーマルモードとビジュアルモードで動作する。挿入モードとコマンドラインモードでは、@kbd{CTRL-Z} は通常のキャラクタ文字として入力・挿入される。ビジュアルモードで使用したときはサスペンドから復帰するとノーマルモードになる。
@quotation
@strong{Note:} @*
@kbd{CTRL-Z} がアンドゥになる場合は |@ref{mswin.vim}| を参照。
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
:sus[pend][!]	or			*:sus* *:suspend* *:st* *:stop*
:st[op][!]		Suspend Vim.
			If the '!' is not given and 'autowrite' is set, every
			buffer with changes and a file name is written out.
			If the '!' is given or 'autowrite' is not set, changed
			buffers are not written, don't forget to bring Vim
			back to the foreground later!
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{:sus}
@anchor{:suspend}
@anchor{:st}
@anchor{:stop}
@pindex :sus
@pindex :suspend
@pindex :st
@pindex :stop
@item :sus[pend][!] または
@itemx :st[op][!]
Vim をサスペンドする。'@option{autowrite}' がオンのときに '!' を付けなかったときには、ファイル名を持つ未保存のバッファは全て保存される。'!' を付けたときや、'@option{autowrite}' がオフのときには、未保存のバッファは保存されないので、後で Vim をフォアグラウンドに戻すのを忘れてはならない。
@end table
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
In the GUI, suspending is implemented as iconising gvim.  In Windows 95/NT,
gvim is minimized.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
GUI モードでは、サスペンドは gvim のアイコン化として実装されている。Windows 95/NT では、gvim は最小化される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
On many Unix systems, it is possible to suspend Vim with CTRL-Z.  This is only
possible in Normal and Visual mode (see next chapter, |vim-modes|).  Vim will
continue if you make it the foreground job again.  On other systems, CTRL-Z
will start a new shell.  This is the same as the ":sh" command.  Vim will
continue if you exit from the shell.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
多くの UNIX システムでは、Vim を @kbd{CTRL-Z} でサスペンドすることが可能である。これはノーマルモードとビジュアルモードにおいて有効である (次の章 |@ref{vim-modes}| を参照)。Vim を再びフォアグラウンドに戻せば、続きの作業を行うことができる。それ以外のシステムでは、@kbd{CTRL-Z} は新しいシェルをスタートさせる。これはコマンド "@command{:sh}" と同じである。この場合、シェルを終了させれば Vim で続きの作業を行うことができる。@{訳注: |@ref{vim-modes}| に何がある？@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
In X-windows the selection is disowned when Vim suspends.  this means you
can't paste it in another application (since Vim is going to sleep an attempt
to get the selection would make the program hang).
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
X-windows では Vim をサスペンドするとセレクションの所有権が失われる。つまり選択していた内容を他のアプリケーションにコピーすることができない (そうしないと Vim が停止しているのでセレクションを得ようとしたプログラムがフリーズしてしまう)。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
==============================================================================
7. Exiting						*exiting*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{exiting}
@cindex exiting
@cindex 終了
@section 7. 終了
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
There are several ways to exit Vim:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
Vim を終了する方法はいくつかある:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- Close the last window with `:quit`.  Only when there are no changes.
- Close the last window with `:quit!`.  Also when there are changes.
- Close all windows with `:qall`.  Only when there are no changes.
- Close all windows with `:qall!`.  Also when there are changes.
- Use `:cquit`.  Also when there are changes.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@itemize
@item 最後のウィンドウを `@command{:quit}` で閉じる。変更がない場合にのみ。
@item 最後のウィンドウを `@command{:quit!}` で閉じる。変更がある場合にも。
@item 全てのウィンドウを `@command{:qall}` で閉じる。変更が一切ない場合にのみ。
@item 全てのウィンドウを `@command{:qall!}` で閉じる。変更がある場合にも。
@item `@command{:cquit}` を使う。変更がある場合にも。
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
When using `:cquit` or when there was an error message Vim exits with exit
code 1.  Errors can be avoided by using `:silent!` or with `:catch`.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
`@command{:cquit}` を使ったり、エラーメッセージがある場合には、Vim は終了コード 1 で終了する。エラーは `@command{:silent!}` または `@command{:catch}` を使うことで避けられる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
==============================================================================
8. Saving settings					*save-settings*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{save-settings}
@cindex save-settings
@cindex 設定の保存
@section 8. 設定の保存
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Mostly you will edit your vimrc files manually.  This gives you the greatest
flexibility.  There are a few commands to generate a vimrc file automatically.
You can use these files as they are, or copy/paste lines to include in another
vimrc file.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
多くの人は @file{vimrc} ファイルを手作業で編集しているだろう。この機能はそのような人に優れた利便性を提供する。@file{vimrc} ファイルを自動的に作成するコマンドが用意されていて、作成したファイルをそのまま、もしくは一部分だけをコピーして使用することができる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*:mk* *:mkexrc*
:mk[exrc] [file]	Write current key mappings and changed options to
			[file] (default ".exrc" in the current directory),
			unless it already exists.  {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{:mk}
@anchor{:mkexrc}
@pindex :mk
@pindex :mkexrc
@table @asis
@item :mk[exrc] [file]
現在のキーマッピングと変更されているオプションを [file] に保存する ([file] を省略するとカレントディレクトリの ".exrc" に保存される)。 [file] がすでにあるときには保存しない。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
:mk[exrc]! [file]	Always write current key mappings and changed
			options to [file] (default ".exrc" in the current
			directory).  {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item :mk[exrc]! [file]
現在のキーマッピングと変更されているオプションを [file] に保存する ([file] を省略するとカレントディレクトリの ".exrc" に保存される)。[file] がすでにあるときには上書き保存する。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*:mkv* *:mkvimrc*
:mkv[imrc][!] [file]	Like ":mkexrc", but the default is ".vimrc" in the
			current directory.  The ":version" command is also
			written to the file.  {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{:mkv}
@anchor{:mkvimrc}
@pindex :mkv
@pindex :mkvimrc
@item :mkv[imrc][!] [file]
"@command{:mkexrc}" と同じだが [file] を省略したときにカレントディレクトリの "@file{.vimrc}" に保存する。コマンド "@command{:version}" もファイルに書き込まれる。

@{Vi にはない@}
@end table
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
These commands will write ":map" and ":set" commands to a file, in such a way
that when these commands are executed, the current key mappings and options
will be set to the same values.  The options 'columns', 'endofline',
'fileformat', 'key', 'lines', 'modified', 'scroll', 'term', 'textmode',
'ttyfast' and 'ttymouse' are not included, because these are terminal or file
dependent.  Note that the options 'binary', 'paste' and 'readonly' are
included, this might not always be what you want.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
これらのコマンドは "@command{:map}" コマンドや "@command{:set}" コマンドをファイルに書き込む。書き込んだコマンドを実行するとキーマッピングやオプションが現在と同じように設定される。オプションの '@option{columns}', '@option{endofline}', '@option{fileformat}', '@option{key}', '@option{lines}', '@option{modified}', '@option{scroll}', '@option{term}', '@option{textmode}', '@option{ttyfast}', '@option{ttymouse}' は端末やファイルに依存するため含まれない。
@quotation
@strong{Note:} @*
オプションの '@option{binary}', '@option{paste}', '@option{readonly}' が含まれるが、これは必ずしも望むような動作ではないかもしれない。
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
When special keys are used in mappings, The 'cpoptions' option will be
temporarily set to its Vim default, to avoid the mappings to be
misinterpreted.  This makes the file incompatible with Vi, but makes sure it
can be used with different terminals.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
マッピングに特殊なキーが使われているときは、マッピングが正しく解釈されるように、オプション '@option{cpoptions}' が一時的に初期値に戻される。Vi との互換性はなくなるが、別の端末でもそのマッピングを使用できるようになる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Only global mappings are stored, not mappings local to a buffer.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
グローバルなマッピングだけが保存される。バッファローカルなマッピングは保存されない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
A common method is to use a default ".vimrc" file, make some modifications
with ":map" and ":set" commands and write the modified file.  First read the
default ".vimrc" in with a command like ":source ~piet/.vimrc.Cprogs", change
the settings and then save them in the current directory with ":mkvimrc!".  If
you want to make this file your default .vimrc, move it to your home directory
(on Unix), s: (Amiga) or $VIM directory (MS-DOS).  You could also use
autocommands |autocommand| and/or modelines |modeline|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
一般的な方法は、デフォルトの "@file{.vimrc}" ファイルを使い、"@command{:map}" や "@command{:set}" コマンドで設定を変更し、それをファイルに保存するというものである。まず "@command{:source ~piet/.vimrc.Cprogs}" のようなコマンドでデフォルトの "@file{.vimrc}" を読み込み、実際に設定を変更してから、"@command{:mkvimrc!}" を使ってカレントディレクトリに設定を保存する。もしもこのファイルをデフォルトの @file{.vimrc} にしたいならば、UNIX ではホームディレクトリへ、Amiga ならば s: へ、MS-DOS ならば @env{$VIM} ディレクトリへそのファイルを移動する。オートコマンド |@ref{autocommand}| やモードライン |@ref{modeline}| も、同じ方法を使って設定することができる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
						*vimrc-option-example*
If you only want to add a single option setting to your vimrc, you can use
these steps:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{vimrc-option-example}
@cindex vimrc-option-example
@file{vimrc} にオプションの設定を 1 つだけ加えるには次のようにする:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
1. Edit your vimrc file with Vim.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@enumerate
@item
Vim で @file{vimrc} ファイルを開く。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
2. Play with the option until it's right.  E.g., try out different values for
   'guifont'.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
期待どおりになるようにオプションを設定する。例えば、'@option{guifont}' を設定していろんなフォントを試す。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
3. Append a line to set the value of the option, using the expression register
   '=' to enter the value.  E.g., for the 'guifont' option: >
   o:set guifont=<C-R>=&guifont<CR><Esc>
<  [<C-R> is a CTRL-R, <CR> is a return, <Esc> is the escape key]
   You need to escape special characters, esp. spaces.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
オプションを設定する行を追加する。値を入力するのに '=' レジスタを使用する。例えば、オプション '@option{guifont}' の設定を加えるには:
@verbatim
o:set guifont=<C-R>=&guifont<CR><Esc>
@end verbatim
[<C-R> は @kbd{CTRL-R}, @key{<CR>} はエンターキー, @key{<Esc>} はエスケープキー]

特別な文字 (特にスペース) はエスケープする必要がある。
@end enumerate
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Note that when you create a .vimrc file, this can influence the 'compatible'
option, which has several side effects.  See |'compatible'|.
":mkvimrc", ":mkexrc" and ":mksession" write the command to set or reset the
'compatible' option to the output file first, because of these side effects.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@quotation
@strong{Note:} @*
@file{.vimrc} ファイルを作成するときにはオプション '@option{compatible}' が持つ副作用の影響に注意する必要がある。|@ref{'compatible'}| を参照。副作用を防ぐため、"@command{:mkvimrc}", "@command{:mkexrc}", "@command{:mksession}" は最初にオプション '@option{compatible}' の設定を出力する。
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
==============================================================================
9. Views and Sessions					*views-sessions*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{views-sessions}
@cindex views-sessions
@cindex ビューとセッション
@section 9. ビューとセッション (Views and Sessions)
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
This is introduced in sections |21.4| and |21.5| of the user manual.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
ユーザーマニュアルの |@ref{21.4}| と |@ref{21.5}| で簡単に紹介されている。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
						*View* *view-file*
A View is a collection of settings that apply to one window.  You can save a
View and when you restore it later, the text is displayed in the same way.
The options and mappings in this window will also be restored, so that you can
continue editing like when the View was saved.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{View}
@anchor{view-file}
@cindex View
@cindex view-file
ビューとは、あるウィンドウに適用された設定の集合である。ビューを保存しておいて、あとからそれを復元することで、開いていたテキストをまた同じように表示することができる。ウィンドウに関連したオプションやマッピングも復元されるので、ビューを保存したときと同じ状態で作業を再開することができる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
						*Session* *session-file*
A Session keeps the Views for all windows, plus the global settings.  You can
save a Session and when you restore it later the window layout looks the same.
You can use a Session to quickly switch between different projects,
automatically loading the files you were last working on in that project.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{Session}
@anchor{session-file}
@cindex Session
@cindex session-file
セッションとは、全てのウィンドウのビューとグローバルな設定のことである。セッションを保存しておいて、あとからそれを復元することで、各ウィンドウのレイアウトを元に戻すことができる。セッションを利用してすばやくプロジェクト (作業単位) を切り替えることが可能で、そのプロジェクトで開いていたファイルを自動的に開くことができる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Views and Sessions are a nice addition to viminfo-files, which are used to
remember information for all Views and Sessions together |viminfo-file|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
ビューとセッションは @file{viminfo} ファイルを拡張した便利な機能である。ビューとセッションを @file{viminfo} ファイル (|@ref{viminfo-file}|) と併用することで全ての情報を記録することができる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
You can quickly start editing with a previously saved View or Session with the
|-S| argument: >
	vim -S Session.vim
<
All this is {not in Vi} and {not available when compiled without the
|+mksession| feature}.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
保存しておいたビューやセッションを素早く再開するには引数 |@ref{-S}| を使う:
@example
vim -S Session.vim
@end example
これら全ては @{Vi にはない@} 機能である。@{|@ref{+mksession}| が有効な場合のみ利用可能@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*:mks* *:mksession*
:mks[ession][!] [file]	Write a Vim script that restores the current editing
			session.
			When [!] is included an existing file is overwritten.
			When [file] is omitted "Session.vim" is used.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{:mks}
@anchor{:mksession}
@pindex :mks
@pindex :mksession
@table @asis
@item :mks[ession][!] [file]
現在のセッションを復元するための Vim script を作成する。
[!] を付けたときはファイルを上書保存する。
[file] を省略したときは "Session.vim" に保存する。
@end table
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
The output of ":mksession" is like ":mkvimrc", but additional commands are
added to the file.  Which ones depends on the 'sessionoptions' option.  The
resulting file, when executed with a ":source" command:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
"@command{:mksession}" の出力は "@command{:mkvimrc}" の出力に似ているが、さらにいくつかのコマンドが追加されている。どのコマンドが出力されるかはオプション '@option{sessionoptions}' に依存する。保存したファイルは、コマンド "@command{:source}" で実行すると次の効果がある:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
1. Restores global mappings and options, if 'sessionoptions' contains
   "options".  Script-local mappings will not be written.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@enumerate
@item
'@option{sessionoptions}' に "@var{options}" が含まれているときは、グローバルなマッピングとオプションを復元する。スクリプトローカルなマッピングは復元されない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
2. Restores global variables that start with an uppercase letter and contain
   at least one lowercase letter, if 'sessionoptions' contains "globals".
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
'@option{sessionoptions}' に "@var{globals}" が含まれているときは、大文字で始まって 1 つ以上の小文字を含む名前を持ったグローバルな変数を復元する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
3. Unloads all currently loaded buffers.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
現在読み込まれているバッファを全て開放する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
4. Restores the current directory if 'sessionoptions' contains "curdir", or
   sets the current directory to where the Session file is if 'sessionoptions'
   contains "sesdir".
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
'@option{sessionoptions}' に "@var{curdir}" が含まれているときは、カレントディレクトリを復元する。あるいは、'@option{sessionoptions}' に "@var{sesdir}" が含まれているときは、カレントディレクトリをセッションファイルが保存されているディレクトリに変更する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
5. Restores GUI Vim window position, if 'sessionoptions' contains "winpos".
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
'@option{sessionoptions}' に "@var{winpos}" が含まれているときは、GUI ウィンドウの位置を復元する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
6. Restores screen size, if 'sessionoptions' contains "resize".
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
'@option{sessionoptions}' に "@var{resize}" が含まれているときは、スクリーンのサイズを復元する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
7. Reloads the buffer list, with the last cursor positions.  If
   'sessionoptions' contains "buffers" then all buffers are restored,
   including hidden and unloaded buffers.  Otherwise only buffers in windows
   are restored.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
'@option{sessionoptions}' に "@var{buffers}" が含まれているときは、バッファリストと各バッファにおけるカーソルの位置を復元する。隠れ (hidden) バッファや開放済み (unloaded) バッファも含めて、全てのバッファを復元する。"@var{buffers}" が含まれていないときは、ウィンドウに表示されているバッファのみが復元される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
8. Restores all windows with the same layout.  If 'sessionoptions' contains
   "help", help windows are restored.  If 'sessionoptions' contains "blank",
   windows editing a buffer without a name will be restored.
   If 'sessionoptions' contains "winsize" and no (help/blank) windows were
   left out, the window sizes are restored (relative to the screen size).
   Otherwise, the windows are just given sensible sizes.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
全てのウィンドウとそのレイアウトを復元する。'@option{sessionoptions}' に "@var{help}" が含まれているときは、ヘルプウィンドウも復元する。'@option{sessionoptions}' に "@var{blank}" が含まれているときは、無名のバッファを編集していたウィンドウも復元する。

'@option{sessionoptions}' に "@var{winsize}" が含まれていて、ヘルプウィンドウや無名バッファのウィンドウが除外されていないときは、ウィンドウのサイズも復元する(スクリーンサイズに比例する)。"@var{winsize}" が含まれていないときは、ウィンドウは妥当なサイズになる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
9. Restores the Views for all the windows, as with |:mkview|.  But
   'sessionoptions' is used instead of 'viewoptions'.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
各ウィンドウのビューを |@ref{:mkview}| の機能と同じように復元する。しかし '@option{viewoptions}' ではなく '@option{sessionoptions}' が使われる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
10. If a file exists with the same name as the Session file, but ending in
   "x.vim" (for eXtra), executes that as well.  You can use *x.vim files to
   specify additional settings and actions associated with a given Session,
   such as creating menu items in the GUI version.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
セッションファイルと同じ名前で最後が "x.vim" (eXtra の x) という名前のファイルがあればそのファイルを実行する。この仕組を使ってセッションに関連した処理や設定、例えば GUI のメニューを作成するなど、を行うことができる。

@{訳注: セッションファイルが SESSION.vim なら SESSIONx.vim が実行される。@}
@end enumerate
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
After restoring the Session, the full filename of your current Session is
available in the internal variable "v:this_session" |this_session-variable|.
An example mapping: >
  :nmap <F2> :wa<Bar>exe "mksession! " . v:this_session<CR>:so ~/sessions/
This saves the current Session, and starts off the command to load another.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
セッションを復元すると、内部変数の "v:this_session" (|@ref{this_session-variable}|) を使って現在のセッションの名前 (フルパス) を利用できる。それを利用したマッピングの例:
@verbatim
:nmap <F2> :wa<Bar>exe "mksession! " . v:this_session<CR>:so ~/sessions/
@end verbatim
これは現在のセッションを保存してから、別のセッションを開こうとするものである。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
A session includes all tab pages, unless "tabpages" was removed from
'sessionoptions'. |tab-page|
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
'@option{sessionoptions}' から "@var{tabpages}" が除かれていない限り、セッションはすべてのタブページを含む。|@ref{tab-page}|
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
The |SessionLoadPost| autocmd event is triggered after a session file is
loaded/sourced.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
セッションファイルが読み込まれると、自動コマンドイベント |@ref{SessionLoadPost}| が発生する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
						*SessionLoad-variable*
While the session file is loading the SessionLoad global variable is set to 1.
Plugins can use this to postpone some work until the SessionLoadPost event is
triggered.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{SessionLoad-variable}
@cindex SessionLoad-variable
セッションファイルを読み込んでいる間、グローバル変数 SessionLoad は 1 になる。プラグインはこれを使ってイベント SessionLoadPost が発生するまで、なんらかの作業を後回しにすることができる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*:mkvie* *:mkview*
:mkvie[w][!] [file]	Write a Vim script that restores the contents of the
			current window.
			When [!] is included an existing file is overwritten.
			When [file] is omitted or is a number from 1 to 9, a
			name is generated and 'viewdir' prepended.  When the
			last path part of 'viewdir' does not exist, this
			directory is created.  E.g., when 'viewdir' is
			"$VIM/vimfiles/view" then "view" is created in
			"$VIM/vimfiles".
			An existing file is always overwritten then.  Use
			|:loadview| to load this view again.
			When [file] is the name of a file ('viewdir' is not
			used), a command to edit the file is added to the
			generated file.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{:mkvie}
@anchor{:mkview}
@pindex :mkvie
@pindex :mkview
@table @asis
@item :mkvie[w][!] [file]
現在のウィンドウの状態を復元するための Vim script を作成する。
[!] を付けたときはファイルを上書保存する。

[file] を省略したり、1 から 9 の数字を指定したときは、'@option{viewdir}' に指定されたディレクトリに適切な名前で保存される。'@option{viewdir}' の最後に指定されたパスが存在しないときにはそのディレクトリも作成される。例えば、'@option{viewdir}' が "$VIM/vimfiles/view" なら "$VIM/vimfiles" の中に "view" が作成される。

[file] を省略、もしくは数字を指定した場合は、常に上書き保存される。ビューを復元するときには |@ref{:loadview}| を使用する。

[file] にファイル名を指定すると、編集を再開するためのコマンドがそのファイルに保存される (この場合は '@option{viewdir}' は使われない)。
@end table
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
The output of ":mkview" contains these items:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
"@command{:mkview}" の出力は次の項目を含んでいる:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
1. The argument list used in the window.  When the global argument list is
   used it is reset to the global list.
   The index in the argument list is also restored.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@enumerate
@item
ウィンドウで使用している引数リストを復元する。グローバルな引数リストを使っているときにはそれが使用される。引数リストのインデックスも復元される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
2. The file being edited in the window.  If there is no file, the window is
   made empty.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
ウィンドウで編集していたファイルを開く。編集していたファイルがなければ、空のウィンドウが作成される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
3. Restore mappings, abbreviations and options local to the window if
   'viewoptions' contains "options" or "localoptions".  For the options it
   restores only values that are local to the current buffer and values local
   to the window.
   When storing the view as part of a session and "options" is in
   'sessionoptions', global values for local options will be stored too.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
'@option{viewoptions}' が "@var{options}" か "@var{localoptions}" を含んでいるときは、そのバッファやウィンドウに特有な (ローカルな)、マッピング、短縮 (abbreviations)、オプション、を復元する。

セッションの一部としてビューを保存するときに、'@option{sessionoptions}' に "@var{options}" が含まれているときは、オプションのグローバルな値とローカルな値が両方保存される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
4. Restore folds when using manual folding and 'viewoptions' contains
   "folds".  Restore manually opened and closed folds.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
'@option{viewoptions}' が "@var{folds}" を含んでいるときは、手作業で設定した折畳みを復元する。折畳みの開閉状態も復元する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
5. The scroll position and the cursor position in the file.  Doesn't work very
   well when there are closed folds.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
ファイルにおけるカーソルとスクロールの位置を復元する。閉じた折畳みがあるとうまく機能しない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
6. The local current directory, if it is different from the global current
   directory and 'viewoptions' contains "curdir".
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
ローカルなカレントディレクトリを復元する。グローバルなカレントディレクトリと違っている場合と、"@var{curdir}" を含む '@option{viewoptions}' オプションがある場合。

@{訳注: |@ref{current-directory}|@}
@end enumerate
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Note that Views and Sessions are not perfect:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@quotation
@strong{Note:} @*
ビューとセッションは完璧ではない:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- They don't restore everything.  For example, defined functions, autocommands
  and ":syntax on" are not included.  Things like register contents and
  command line history are in viminfo, not in Sessions or Views.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@itemize
@item
全てを復元するわけではない。例えば、関数、オートコマンド、"@command{:syntax on}"、などは含まれない。レジスタやコマンドラインの履歴などは、ビューやセッションではなく、@file{viminfo} に保存される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- Global option values are only set when they differ from the default value.
  When the current value is not the default value, loading a Session will not
  set it back to the default value.  Local options will be set back to the
  default value though.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
グローバルなオプションの設定は、その値を初期設定から変更していた場合のみ保存される。現在の設定が初期設定とは違うときにセッションを復元しても、初期設定には戻らない。しかしながら、ローカルなオプションは初期設定に戻される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- Existing mappings will be overwritten without warning.  An existing mapping
  may cause an error for ambiguity.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
既存のマッピングは警告なく上書きされる。そのようなときはよく分からないエラーが発生するだろう。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- When storing manual folds and when storing manually opened/closed folds,
  changes in the file between saving and loading the view will mess it up.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
手動で設定した折畳みや、その開閉状態を復元すると表示が乱れることがある。それはビューを保存してから復元する間に、編集していたファイルを変更した場合である。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- The Vim script is not very efficient.  But still faster than typing the
  commands yourself!
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item
Vim script はまったくもって効率的ではない。しかしそうは言っても、自分でコマンドを再入力するよりは断然早い。
@end itemize
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*:lo* *:loadview*
:lo[adview] [nr]	Load the view for the current file.  When [nr] is
			omitted, the view stored with ":mkview" is loaded.
			When [nr] is specified, the view stored with ":mkview
			[nr]" is loaded.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{:lo}
@anchor{:loadview}
@pindex :lo
@pindex :loadview
@table @asis
@item :lo[adview] [nr]
編集中のファイルに関連したビューを読み込む。 [nr] を省略すると、"@command{:mkview}" で保存したビューが読み込まれる。[nr] を付けた場合は、"@command{:mkview [nr]}" で保存したビューが読み込まれる。
@end table
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
The combination of ":mkview" and ":loadview" can be used to store up to ten
different views of a file.  These are remembered in the directory specified
with the 'viewdir' option.  The views are stored using the file name.  If a
file is renamed or accessed through a (symbolic) link the view will not be
found.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
"@command{:mkview}" と "@command{:loadview}" の組は、1 つのファイルに対して全部で 10 個のビューを管理できる。ビューは '@option{viewdir}' で指定したディレクトリに保存される。ビューはファイル名を利用して管理されている。そのため、ファイルの名前を変更したり、(シンボリック) リンクファイルを使ってアクセスした場合は、対応するビューを見つけることができない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
You might want to clean up your 'viewdir' directory now and then.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
たまには '@option{viewdir}' をきれいに掃除するといいだろう。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
To automatically save and restore views for *.c files: >
	au BufWinLeave *.c mkview
	au BufWinEnter *.c silent loadview
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
*.cファイルを編集するときにビューを自動的に保存、復元するには:
@example
au BufWinLeave *.c mkview
au BufWinEnter *.c silent loadview
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
==============================================================================
10. The viminfo file				*viminfo* *viminfo-file* *E136*
						*E575* *E576* *E577*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{viminfo}
@anchor{viminfo-file}
@anchor{E136}
@anchor{E575}
@anchor{E576}
@anchor{E577}
@cindex viminfo
@cindex viminfo-file
@cindex E136
@cindex E575
@cindex E576
@cindex E577
@cindex viminfo ファイル
@section 10. viminfo ファイル
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
If you exit Vim and later start it again, you would normally lose a lot of
information.  The viminfo file can be used to remember that information, which
enables you to continue where you left off.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
いったん Vim を終了させ、後に再び起動する時には、通常多くの情報が失われてしまう。@file{viminfo} ファイルは終了する時の情報を保存しておくのに使用され、それにより再起動した時には同じ状態で編集セッションを続けることができる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
This is introduced in section |21.3| of the user manual.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
ユーザーマニュアルの |@ref{21.3}| で簡単に紹介されている。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
The viminfo file is used to store:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
viminfo ファイルにはこんなものを記憶できる:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- The command line history.
- The search string history.
- The input-line history.
- Contents of non-empty registers.
- Marks for several files.
- File marks, pointing to locations in files.
- Last search/substitute pattern (for 'n' and '&').
- The buffer list.
- Global variables.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@itemize
@item コマンドラインの履歴
@item 検索文字列の履歴
@item 入力 (|@ref{input()}|) の履歴
@item レジスタの内容
@item 複数のファイルのマーク
@item ファイルの中の位置を指し示すマーク
@item 最後の検索/置換パターン ('n' と '&' のため)
@item バッファのリスト
@item グローバル変数
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
The viminfo file is not supported when the |+viminfo| feature has been
disabled at compile time.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
コンパイル時に |@ref{+viminfo}| 機能が無効にされていたら、@file{viminfo} ファイルはサポートされない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
You could also use a Session file.  The difference is that the viminfo file
does not depend on what you are working on.  There normally is only one
viminfo file.  Session files are used to save the state of a specific editing
Session.  You could have several Session files, one for each project you are
working on.  Viminfo and Session files together can be used to effectively
enter Vim and directly start working in your desired setup. |session-file|
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
セッションファイルも使用することができる。@file{viminfo} ファイルは「している仕事」に依存しない、という点で異なる。通常 @file{viminfo} ファイルは 1 つしか存在しない。セッションファイルは、ある特定の編集作業の状態を保存するのに使う。セッションファイルは、作業しているプロジェクト毎に複数作成することが可能である。@file{Viminfo} もセッションファイルどちらも、Vim をスタートしてすぐに好みの設定を行うという目的のために、効果的に使用できる。|@ref{session-file}|
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*viminfo-read*
When Vim is started and the 'viminfo' option is non-empty, the contents of
the viminfo file are read and the info can be used in the appropriate places.
The |v:oldfiles| variable is filled.  The marks are not read in at startup
(but file marks are).  See |initialization| for how to set the 'viminfo'
option upon startup.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{viminfo-read}
@cindex viminfo-read
Vim が起動した時に '@option{viminfo}' オプションが空でなかったら、@file{viminfo} ファイルが読み込まれ、その情報は適切に使用される。変数 |@ref{v:oldfiles}| がセットされる。起動時にはマークは読み込まれない (しかしファイルマークは読み込まれる)。起動時に '@option{viminfo}' オプションをどうやって設定するのかは |@ref{initialization}| を参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*viminfo-write*
When Vim exits and 'viminfo' is non-empty, the info is stored in the viminfo
file (it's actually merged with the existing one, if one exists).  The
'viminfo' option is a string containing information about what info should be
stored, and contains limits on how much should be stored (see 'viminfo').
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{viminfo-write}
@cindex viminfo-write
Vim が終了する時に '@option{viminfo}' が空でなかったら、情報が @file{viminfo} ファイルに保存される (もし既に存在した場合には、それと合併 (マージ) される)。'@option{viminfo}' オプションは、どのような情報を保存するか、またどのくらいの量を保存するべきかその限界を指定する為の情報を含む文字列である。(|@ref{'viminfo'}| 参照)。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Merging happens in two ways.  Most items that have been changed or set in the
current Vim session are stored, and what was not changed is filled from what
is currently in the viminfo file.  For example:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
マージは 2 つの方法で実施される。Vim のセッション中で変更や (訳注:あらたに) 設定された大半のアイテムは保存され、変更されなかったものは既存の @file{viminfo} ファイルのものが流用される。例えば:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- Vim session A reads the viminfo, which contains variable START.
- Vim session B does the same
- Vim session A sets the variables AAA and BOTH and exits
- Vim session B sets the variables BBB and BOTH and exits
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@itemize
@item Vim セッションAが、変数 START の含まれた viminfo を読み込む。
@item Vim セッションBが、同様に viminfo を読み込む
@item Vim セッションAが、変数 AAA と BOTH を設定し終了する
@item Vim セッションBが、変数 BBB と BOTH を設定し終了する
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
Now the viminfo will have:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
こうすると viminfo は次のようになるだろう:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
   START - it was in the viminfo and wasn't changed in session A or B
   AAA   - value from session A, session B kept it
   BBB   - value from session B
   BOTH  - value from session B, value from session A is lost
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@multitable @columnfractions .15 .85
@item START @tab - 元から viminfo にあったものは、セッションA及びBに拠らず維持される
@item AAA @tab - セッション A 由来の値は、B により維持される
@item BBB @tab - セッション B 由来の値
@item BOTH @tab - セッション B 由来の値。A の値は失われる。
@end multitable
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*viminfo-timestamp*
For some items a timestamp is used to keep the last changed version.  Here it
doesn't matter in which sequence Vim sessions exit, the newest item(s) are
always kept.  This is used for:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{viminfo-timestamp}
@cindex viminfo-timestamp
幾つかのアイテムには、最後に変更された値を優先するために、タイムスタンプを用いている。これにより Vim セッションの終了順序に関係なく、最新のアイテムが維持される。タイムスタンプは以下のアイテムに導入されている:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- The command line history.
- The search string history.
- The input-line history.
- Contents of non-empty registers.
- The jump list
- File marks
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@itemize
@item コマンドラインの履歴
@item 検索文字列の履歴
@item 入力行の履歴
@item 空ではないレジスタの値
@item ジャンプリスト
@item ファイルのマーク
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
The timestamp feature was added before Vim 8.0.  Older versions of Vim,
starting with 7.4.1131, will keep the items with timestamp, but not use them.
Thus when using both an older and a newer version of Vim the most recent data
will be kept.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
このタイムスタンプ機能自体は Vim 8.0 よりも以前に追加された。Vim 7.4.1131 以降の Vim 7.4 では各アイテムにタイムスタンプを記録しているが、使ってはいない。そのため古い Vim と新しい Vim を混在して使う場合には、常に新しいデータが維持される。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Notes for Unix:
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@quotation
@strong{Note: Unix における注意点:}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- The file protection for the viminfo file will be set to prevent other users
  from being able to read it, because it may contain any text or commands that
  you have worked with.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@itemize
@item @file{viminfo} ファイルには入力したテキストや、使用したコマンドが記載されているので、他人に覗かれないように保護 (パーミッション設定) したほうが良い。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- If you want to share the viminfo file with other users (e.g. when you "su"
  to another user), you can make the file writable for the group or everybody.
  Vim will preserve this when replacing the viminfo file.  Be careful, don't
  allow just anybody to read and write your viminfo file!
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item 複数のユーザーで @file{viminfo} ファイルを共有したい時 (例えば他のユーザーへ "su" する  時など) には、グループもしくは全員に @file{viminfo} ファイルへの書き込み権限を与える。Vim がこの @file{viminfo} ファイルを置き換えるときには、その設定を維持する。しかし、誰にでも @file{viminfo} ファイルを読ませたり書かせたりすべきではないし、注意が必要。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- Vim will not overwrite a viminfo file that is not writable by the current
  "real" user.  This helps for when you did "su" to become root, but your
  $HOME is still set to a normal user's home directory.  Otherwise Vim would
  create a viminfo file owned by root that nobody else can read.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item 現在の "本当" のユーザーによって書き込み不能な @file{viminfo} ファイルは、Vim は決して上書きしない。これは "su" で root ユーザーになった時、しかし @env{$HOME} がまだ通常ユーザーのホームディレクトリのままの時の支援となる。そうでないと Vim は root 所有の、他の誰にも読めない @file{viminfo} ファイルを作成してしまう。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- The viminfo file cannot be a symbolic link.  This is to avoid security
  issues.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item @file{viminfo} ファイルはシンボリックリンクであってはならない。セキュリティ上の問題を避けるためである。
@end itemize
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Marks are stored for each file separately.  When a file is read and 'viminfo'
is non-empty, the marks for that file are read from the viminfo file.  NOTE:
The marks are only written when exiting Vim, which is fine because marks are
remembered for all the files you have opened in the current editing session,
unless ":bdel" is used.  If you want to save the marks for a file that you are
about to abandon with ":bdel", use ":wv".  The '[' and ']' marks are not
stored, but the '"' mark is.  The '"' mark is very useful for jumping to the
cursor position when the file was last exited.  No marks are saved for files
that start with any string given with the "r" flag in 'viminfo'.  This can be
used to avoid saving marks for files on removable media (for MS-DOS you would
use "ra:,rb:", for Amiga "rdf0:,rdf1:,rdf2:").
The |v:oldfiles| variable is filled with the file names that the viminfo file
has marks for.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
マークは個々のファイルに対して別々に保存される。ファイルが読み込まれ '@option{viminfo}' が空でない場合、@file{viminfo} ファイルからマーク情報が読み込まれる。
@quotation
@strong{Note:} @*
マークは Vim が正常に終了したときにだけ保存される。また、Vim の起動中に開かれた "@command{:bdel}" されていないファイル全てのマークが記録される。もしも "@command{:bdel}" で破棄したファイルについてマークを保存しておきたいのならば、"@command{:wv}" を使う。

'[' と ']' のマークは保存されないが、'"' は保存される。'"' マークはファイルを開いたときに前回のカーソル位置を復元するのに非常に便利である。

'@option{viminfo}' に文字 "@var{r}" が与えられた時には、一切のマーク情報は記録されない。これはリムーバブルメディア上のファイルのマークが保存されるのを避ける場合に使う (MS-DOS では "ra:,rb:" を、Amiga では "rdf0:,rdf1:,rdf2:" を使う)。

@file{viminfo} ファイルにマークが記録されているファイルの名前が |@ref{v:oldfiles}| のリストに追加される。
@end quotation
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*viminfo-file-marks*
Uppercase marks ('A to 'Z) are stored when writing the viminfo file.  The
numbered marks ('0 to '9) are a bit special.  When the viminfo file is written
(when exiting or with the ":wviminfo" command), '0 is set to the current cursor
position and file.  The old '0 is moved to '1, '1 to '2, etc.  This
resembles what happens with the "1 to "9 delete registers.  If the current
cursor position is already present in '0 to '9, it is moved to '0, to avoid
having the same position twice.  The result is that with "'0", you can jump
back to the file and line where you exited Vim.  To do that right away, try
using this command: >
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{viminfo-file-marks}
@cindex viminfo-file-marks
大文字のマーク ('A から 'Z) は @file{viminfo} ファイルが書かれるときに、保存される。数字のマーク ('0 から '9) はちょっと特別である。

@file{viminfo} ファイルが書き込まれる時 (終了時、もしくは "@command{:wviminfo}" コマンド実行時)に、'0 が現在のファイルの現在のカーソル位置に設定される。古い '0 は '1 になり、'1 は '2 になり、以下同様。"1 から "9 の削除レジスタに起こることに似ている。

'0 に記憶する位置が '1 から '9 に既出であった時には、同じ位置が 2 度記憶されるのではなく、そのレジスタが '0 に浮き上がってくる。結果として "'0" を使用すると、最後に Vim を終了した時のファイルとその行に戻ることができる。

起動後直ちにそれを行うには、次のコマンドを試す:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	vim -c "normal '0"
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@example
vim -c "normal '0"
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
In a csh compatible shell you could make an alias for it: >
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
csh 互換なシェルではエイリアスをこんな風に使用して:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	alias lvim vim -c '"'normal "'"0'"'
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@verbatim
alias lvim vim -c '"'normal "'"0'"'
@end verbatim
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
For a bash-like shell: >
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
bash ライクなシェルでは:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
	alias lvim='vim -c "normal '\''0"'
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@verbatim
alias lvim='vim -c "normal '\''0"'
@end verbatim
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Use the "r" flag in 'viminfo' to specify for which files no marks should be
remembered.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
特定のファイルのマークを保存しないようにするには '@option{viminfo}' に "@var{r}" フラグを追加する。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
VIMINFO FILE NAME					*viminfo-file-name*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{viminfo-file-name}
@cindex viminfo-file-name
@cindex Viminfo ファイルの名前
@unnumberedsubsec Viminfo ファイルの名前
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
- The default name of the viminfo file is "$HOME/.viminfo" for Unix and OS/2,
  "s:.viminfo" for Amiga, "$HOME\_viminfo" for MS-DOS and Win32.  For the last
  two, when $HOME is not set, "$VIM\_viminfo" is used.  When $VIM is also not
  set, "c:\_viminfo" is used.  For OS/2 "$VIM/.viminfo" is used when $HOME is
  not set and $VIM is set.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@itemize
@item @file{viminfo} ファイルの名前を特に指定しない時は、Unix と OS/2 では "$HOME/.viminfo" に、Amiga では "s:.viminfo" に、MS-DOS と Win32 では "$HOME\_viminfo" になる。MS-DOS と Win32 で、@env{$HOME} が設定されていない時には、"$VIM\_viminfo" になる。@env{$VIM} も設定されていない時には "c:\_viminfo" が使われる。OS/2 では、@env{$HOME} が設定されず @env{$VIM} が設定されていれば "$VIM/.viminfo" となる。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- The 'n' flag in the 'viminfo' option can be used to specify another viminfo
  file name |'viminfo'|.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item '@option{viminfo}' オプションの '@var{n}' フラグは、別の名前の @file{viminfo} ファイルを使うために、そのファイル名を指定するのに使用される |@ref{'viminfo'}|。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- The "-i" Vim argument can be used to set another file name, |-i|.  When the
  file name given is "NONE" (all uppercase), no viminfo file is ever read or
  written.  Also not for the commands below!
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item Vim の起動引数 "-i" も、@file{viminfo} として別のファイルを指定するのに使用できる |@ref{-i}|。ファイル名として "NONE" (全て大文字) が与えられると、@file{viminfo} ファイルは使用 (読み込みも書き込みも) されない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
- For the commands below, another file name can be given, overriding the
  default and the name given with 'viminfo' or "-i" (unless it's NONE).
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item 起動後に、コマンドで別の名前を与えると、デフォルト名や '@option{viminfo}' や "-i" で与えた名前を上書きすることができる ("-i" は NONE が指定されていない時に限る)。
@end itemize
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
CHARACTER ENCODING					*viminfo-encoding*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{viminfo-encoding}
@cindex viminfo-encoding
@cindex 文字エンコーディング
@unnumberedsubsec 文字エンコーディング
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
The text in the viminfo file is encoded as specified with the 'encoding'
option.  Normally you will always work with the same 'encoding' value, and
this works just fine.  However, if you read the viminfo file with another
value for 'encoding' than what it was written with, some of the text
(non-ASCII characters) may be invalid.  If this is unacceptable, add the 'c'
flag to the 'viminfo' option: >
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@file{viminfo} ファイルのテキストはオプション '@option{encoding}' で指定したエンコーディングで保存される。通常は '@option{encoding}' の設定はいつも同じなので、問題なく機能する。しかしながら、もしも @file{viminfo} ファイルを読み込むときに、'@option{encoding}' の設定が @file{viminfo} ファイルを保存したときとは違うエンコーディングに設定されていると、いくつかのテキスト (ASCII 以外の文字) は不正な文字になってしまう。それを回避するには、オプション '@option{viminfo}' に '@var{c}' フラグを追加する:
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	:set viminfo+=c
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@example
:set viminfo+=c
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
Vim will then attempt to convert the text in the viminfo file from the
'encoding' value it was written with to the current 'encoding' value.  This
requires Vim to be compiled with the |+iconv| feature.  Filenames are not
converted.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
そうすると Vim は、@file{viminfo} ファイルを保存したときの '@option{encoding}' から現在の '@option{encoding}' へとテキストを変換する。これを利用するには |@ref{+iconv}| が有効になっている必要がある。ファイル名は変換されない。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------


@ifset EN
MANUALLY READING AND WRITING				*viminfo-read-write*
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{viminfo-read-write}
@cindex viminfo-read-write
@cindex viminfo ファイルを手動で読み書きする
@unnumberedsubsec viminfo ファイルを手動で読み書きする
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
Two commands can be used to read and write the viminfo file manually.  This
can be used to exchange registers between two running Vim programs: First
type ":wv" in one and then ":rv" in the other.  Note that if the register
already contained something, then ":rv!" would be required.  Also note
however that this means everything will be overwritten with information from
the first Vim, including the command line history, etc.
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@file{viminfo} ファイルを手動で読み書きするのに2つのコマンドが用意されている。これは同時に起動している複数の Vim 間で、レジスタの内容を交換するのに利用できる: まず片方で "@command{:wv}" してから、もう片方で "@command{:rv}" する。既にレジスタに何かを記憶している場合には、"@command{:rv!}" する必要があることに注意。またこれを行うとコマンドラインの履歴を含む全ての情報が、送り側の Vim のもので上書きされてしまうことにも注意。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
The viminfo file itself can be edited by hand too, although we suggest you
start with an existing one to get the format right.  It is reasonably
self-explanatory once you're in there.  This can be useful in order to
create a second file, say "~/.my_viminfo" which could contain certain
settings that you always want when you first start Vim.  For example, you
can preload registers with particular data, or put certain commands in the
command line history.  A line in your .vimrc file like >
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@file{viminfo} ファイル自体を手で編集することもできるが、Vim によって作られる正しいフォーマットの @file{viminfo} を元にすることを推奨する。一度試してみればどういう構造になっているかよく分かるだろう。これを覚えておけば、Vim を起動したときにいつでも設定しておきたい内容を、"~/.my_viminfo" というようなファイルに用意しておくときに重宝する。例としては、あるデータをレジスタに予め読み込んでおくとか、コマンドライン履歴に特定のコマンドをいれるとか、そういう使い方がある。@file{.vimrc} ファイルに次の 1 行を入れておけば
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
	:rviminfo! ~/.my_viminfo
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@example
:rviminfo! ~/.my_viminfo
@end example
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------
@ifset EN
can be used to load this information.  You could even have different viminfos
for different types of files (e.g., C code) and load them based on the file
name, using the ":autocmd" command (see |:autocmd|).
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
その情報を読み込むことができる。ファイルの種類によって (C コードだとか vim スクリプトだとか)、異なる @file{viminfo} を持ち、"@command{:autocmd}" を組み合わせることでファイル名に基づいたりしながら、それらを使用することもできる (|@ref{:autocmd}|) 参照。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
							*viminfo-errors*
When Vim detects an error while reading a viminfo file, it will not overwrite
that file.  If there are more than 10 errors, Vim stops reading the viminfo
file.  This was done to avoid accidentally destroying a file when the file
name of the viminfo file is wrong.  This could happen when accidentally typing
"vim -i file" when you wanted "vim -R file" (yes, somebody accidentally did
that!).  If you want to overwrite a viminfo file with an error in it, you will
either have to fix the error, or delete the file (while Vim is running, so
most of the information will be restored).
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{viminfo-errors}
@cindex viminfo-errors
Vim が @file{viminfo} ファイルを読み込み中にエラーを検出すると、ファイルの上書きはされなくなる。もしも 10 個以上のエラーがある場合には、それ以上 @file{viminfo} ファイルを読み込むのを止める。

こうするのは @file{viminfo} ファイル内のファイル名が間違っている場合、突発的にそのファイルを破壊してしまうのを避けるためである。これは "vim -R file" としたいときに、誤って "vim -i file" とタイプしてしまうと起こり得る (そう、偶然何人かが実際にそうしてしまったよ！！)。

@file{viminfo} ファイルにエラーがあったけれども @file{viminfo} を上書きしたいのならば、エラーを修正するか、またはファイルを消すかのどちらかが必要 (Vim の実行中は、ほとんどの情報が回復してしまう)。
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
						   *:rv* *:rviminfo* *E195*
:rv[iminfo][!] [file]	Read from viminfo file [file] (default: see above).
			If [!] is given, then any information that is
			already set (registers, marks, |v:oldfiles|, etc.)
			will be overwritten   {not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{:rv}
@anchor{:rviminfo}
@anchor{E195}
@pindex :rv
@pindex :rviminfo
@cindex E195
@table @asis
@item :rv[iminfo][!] [file]
@file{viminfo} ファイルを [file] (デフォルト:上記参照) から読込む。[!] が与えれらた場合、既に設定されている情報 (レジスタ、マーク、|@ref{v:oldfiles}|、その他) は上書きされる。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
			*:wv* *:wviminfo* *E137* *E138* *E574* *E886* *E929*
:wv[iminfo][!] [file]	Write to viminfo file [file] (default: see above).
			The information in the file is first read in to make
			a merge between old and new info.  When [!] is used,
			the old information is not read first, only the
			internal info is written.  If 'viminfo' is empty, marks
			for up to 100 files will be written.
			When you get error "E929: Too many viminfo temp files"
			check that no old temp files were left behind (e.g.
			~/.viminf*) and that you can write in the directory of
			the .viminfo file.
			{not in Vi}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{:wv}
@anchor{:wviminfo}
@anchor{E137}
@anchor{E138}
@anchor{E574}
@anchor{E886}
@anchor{E929}
@pindex :wv
@pindex :wviminfo
@cindex E137
@cindex E138
@cindex E574
@cindex E886
@cindex E929
@item :wv[iminfo][!] [file]
@file{viminfo} ファイルを [file] (デフォルト: 上記参照) として保存する。まず既存のファイルの (古い) 情報が読み込まれ、Vim 内部の (新しい) 情報とマージ (合併) されてから、ファイルに保存される。[!] を指定すると古い情報は読み込まれず、Vim 内部の情報だけが保存される。'@option{viminfo}' が空 ("") に設定されている場合は、100 個のファイルのマークが書き出される。

"E929: Too many viminfo temp files" ("E929: 一時 @file{viminfo} ファイルが多過ぎます！") というエラーが出たときには古い一時ファイル (例えば ~/.viminf*) が残っていないことを確かめ、@file{.viminfo} ファイルを保存するディレクトリの書込み権限を確認すること。

@{Vi にはない@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
						*:ol* *:oldfiles*
:ol[dfiles]		List the files that have marks stored in the viminfo
			file.  This list is read on startup and only changes
			afterwards with `:rviminfo!`.  Also see |v:oldfiles|.
			The number can be used with |c_#<|.
			The output can be filtered with |:filter|, e.g.: >
				filter /\.vim/ oldfiles
<			The filtering happens on the file name.
			{not in Vi, only when compiled with the |+eval|
			feature}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@anchor{:ol}
@anchor{:oldfiles}
@pindex :ol
@pindex :oldfiles
@item :ol[dfiles]
@file{viminfo} ファイルにマークが記録されているファイルのリストを表示する。起動時にこのリストが読み込まれ、`@command{:rviminfo!}` を行った後でのみ変更される。|@ref{v:oldfiles}| も参照。このリストで表示される番号は |@ref{c_#<}| で使うことができる。出力は |@ref{:filter}| でフィルタリングできる。例:
@verbatim
filter /\.vim/ oldfiles
@end verbatim
ファイル名に対してフィルタリングが行われる。

@{Vi にはない。|@ref{+eval}| 機能付きでコンパイルされたときのみ有効@}
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
:bro[wse] ol[dfiles][!]
			List file names as with |:oldfiles|, and then prompt
			for a number.  When the number is valid that file from
			the list is edited.
			If you get the |press-enter| prompt you can press "q"
			and still get the prompt to enter a file number.
			Use ! to abandon a modified buffer. |abandon|
			{not when compiled with tiny or small features}
@end ifset
@ifset JA  @c ----------- v -----------  JA  ----------- v -----------
@item :bro[wse] ol[dfiles][!]
|@ref{:oldfiles}| と同じようにファイルのリストを表示し、番号の入力を待つ。有効な番号が入力されると、リスト中のそのファイルを開く。

|@ref{press-enter}| プロンプトが表示されたときは "@key{q}" を押すとファイル番号を入力するプロンプトに戻れる。! をつけると変更中のバッファを破棄する。|@ref{abandon}|

@{tiny または small でコンパイルされたときは利用できない@}
@end table
@end ifset @c ----------- ^ -----------  JA  ----------- ^ -----------

@ifset EN
 vim:tw=78:ts=8:ft=help:norl:
@end ifset
